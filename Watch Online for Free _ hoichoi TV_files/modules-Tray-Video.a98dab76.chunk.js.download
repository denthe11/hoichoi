(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[238,4,72,104,445,446,450,455,457,523,721,724,816],{1079:function(e,t,i){"use strict";i.d(t,"d",function(){return l}),i.d(t,"e",function(){return c}),i.d(t,"f",function(){return d}),i.d(t,"b",function(){return p}),i.d(t,"c",function(){return u}),i.d(t,"a",function(){return h});var n=i(4),s=i(3),a=i.n(s),r=i(201),o=i(2);i(1);function l(e,t){if(e)return Object(n.b)().then(function(i){return a.a.get("".concat(window.settings.apiBaseUrl,"/entitlement/video/status?id=").concat(e),{headers:{Authorization:i},params:{deviceType:"web_browser",contentConsumption:"web"},withCredentials:!0}).then(function(e){return t(e)}).catch(function(e){throw e&&e.response&&e.response.data})})}function c(e,t,i){var s=document.getElementById("embed-auth"),r=null;if(s&&(r=s.getAttribute("data-auth")),e)return Object(n.b)().then(function(n){return a.a.get("".concat(window.settings.apiBaseUrl,"/entitlement/video/status?id=").concat(e),{headers:{Authorization:t&&r?r:n},params:{deviceType:"web_browser",contentConsumption:"web"},withCredentials:!0}).then(function(e){return i(e)}).catch(function(e){throw e&&e.response&&e.response.data})})}function d(e){return Object(n.b)().then(function(t){return a()({url:"/signature/entitlement",baseURL:window.settings.apiBaseUrl,params:{site:window.settings.internalName,id:e},method:"GET",headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey},withCredentials:!0}).then(function(e){})})}function p(e,t,i,s,r,l,c,d){return Object(n.b)().then(function(n){var p=null,u=null,h={Authorization:n};if(!Object(o.isEmpty)(t)){var m=Object(o.merge)({},t);Object.keys(m).map(function(e){0==m[e].length?delete m[e]:(m[e].map(function(e){e.replace(/ /g,"+")}),"Filter Out"==m[e]&&(u=!1,delete m[e]))}),p=Object.keys(m).map(function(e){return m[e]}).join("::")}return a.a.get("".concat(window.settings.apiBaseUrlCached||window.settings.apiBaseUrl,"/search/v2/list"),{params:{site:window.settings.internalName,type:e,field:c,value:d,concepts:i,tagNames:p,explicit:u,languageCode:"default",maxTotal:!0,limit:1==r?20:null,offset:s||0,sortBy:l||"updateDate"},requestId:"search",headers:h}).catch(function(e){a.a.isCancel(e)&&console.log("Request canceled",e.message)})}).then(function(e){return console.log(e.data),e&&e.data})}function u(e,t,i,n,s,r){var o="";return o="https://prod-api.viewlift.com"===window.settings.apiBaseUrl?"https://prod-api-cached-2.viewlift.com":window.settings.apiBaseUrlCached||window.settings.apiBaseUrl,a.a.get("".concat(o,"/search/v2/list"),{params:{site:window.settings.internalName,type:e,field:t,value:i,languageCode:"default",limit:1==s?20:null,offset:n||0,episodeId:r||null},requestId:"search"}).then(function(e){return e&&e.data}).catch(function(e){a.a.isCancel(e)&&console.log("Request canceled",e.message)})}var h=function(){return new Promise(function(e,t){var i=window.settings.internalName;Object(n.b)(function(n){return Object(r.b)({method:"GET",url:"".concat(window.settings.apiBaseUrlCached||window.settings.apiBaseUrl,"/content/categories?site=").concat(i,"&languageCode=default"),headers:{Authorization:n}}).then(function(t){e(t.data)}).catch(t)})})}},1081:function(e,t,i){"use strict";i.d(t,"d",function(){return a}),i.d(t,"e",function(){return r}),i.d(t,"c",function(){return o}),i.d(t,"f",function(){return l}),i.d(t,"b",function(){return c}),i.d(t,"g",function(){return d}),i.d(t,"a",function(){return p});var n=i(2),s=i(7),a=function(e,t,i){var a=s.a.getState().user,r=s.a.getState().purchasedItems||null,o=s.a.getState().subscription||null,l=e&&e.gist.id,c=e&&e.gist.originalObjectId,d=e&&e.seasons,p=d&&d[t].id,u=r&&r.purchasedItems,h=a&&a.planId,m=e&&e.monetizationModels&&Object(n.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),g=e&&e.plans&&Object(n.find)(e.plans,function(e){return"SVOD"===e.type}),v=e&&e.seriesPlans&&Object(n.find)(e.seriesPlans,function(e){return"AVOD"===e.monetizationModel}),y=e&&e.seriesPlans&&Object(n.find)(e.seriesPlans,function(e){return e.id===h}),f=a&&y&&a.istveLoggedIn,b=u&&(Object(n.find)(u,function(e){return e.contentId===l})||c&&Object(n.find)(u,function(e){return e.contentId===c})),w=e&&Object(n.find)(e.seriesPlans,function(e){return"FREE"===e.monetizationModel}),E=v&&!m&&1===e.seriesPlans.length,I=o&&o.subscription&&o.subscription.subscriptionInfo&&o.subscription.subscriptionInfo.planId,S=m&&(!g||g&&g.planIds&&g.planIds.includes("svodAll"))?a&&a.isSubscribed:a&&a.isSubscribed&&I&&g&&g.planIds&&g.planIds.includes(I),T=d&&Object(n.find)(d[t].episodes,function(e){return e.id===i}),P=T&&T.gist.originalObjectId,O=T&&T.plans&&Object(n.find)(T.plans,function(e){return"SVOD"===e.type}),C=T&&Object(n.find)(T.episodePlans,function(e){return e.id===h}),k=T&&Object(n.find)(T.episodePlans,function(e){return"FREE"===e.monetizationModel}),j=T&&Object(n.find)(T.episodePlans,function(e){return"AVOD"===e.monetizationModel}),D=T&&Object(n.find)(T.monetizationModels,function(e){return"SVOD"===e.type}),A=a&&C&&a.istveLoggedIn,N=i&&u&&(Object(n.find)(u,function(e){return e.contentId===i})||P&&Object(n.find)(u,function(e){return e.contentId===P})),R=j&&!O&&1===T.episodePlans.length,M=D&&(!O||O&&O.planIds&&O.planIds.includes("svodAll"))?a&&a.isSubscribed:a&&a.isSubscribed&&I&&O&&O.planIds&&O.planIds.includes(I),L=u&&Object(n.find)(u,function(e){return e.contentId===p});return S||M||N||k||A||R||L||b||w||f||E},r=function(e){for(var t=s.a.getState().user||{},i=s.a.getState().purchasedItems||null,a=s.a.getState().subscription||{},r=e&&e.gist.id,o=e&&e.gist.originalObjectId,l=e&&e.seasons,c=i&&i.purchasedItems,d=t&&t.planId,p=!0,u=function(e){var t=0;if(!Object(n.find)(c,function(t){return t.contentId===l[e].id})){for(var i=function(i){var s=l[e].episodes[i].gist.originalObjectId,a=l[e].episodes[i].episodePlans&&Object(n.find)(l[e].episodes[i].episodePlans,function(e){return"FREE"===e.monetizationModel}),r=l[e].episodes[i].episodePlans&&Object(n.find)(l[e].episodes[i].episodePlans,function(e){return"AVOD"===e.monetizationModel})&&1===l[e].episodes[i].episodePlans.length;(Object(n.find)(c,function(t){return t.contentId===l[e].episodes[i].id})||Object(n.find)(c,function(e){return e.contentId===s})||a||r)&&t++},s=0;s<l[e].episodes.length;s++)i(s);l[e].episodes.length!==t&&(p=!1)}},h=0;h<l.length;h++)u(h);var m=e&&e.monetizationModels&&Object(n.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),g=e&&e.plans&&Object(n.find)(e.plans,function(e){return"SVOD"===e.type}),v=e&&e.seriesPlans&&Object(n.find)(e.seriesPlans,function(e){return"AVOD"===e.monetizationModel}),y=e&&e.seriesPlans&&Object(n.find)(e.seriesPlans,function(e){return e.id===d}),f=a&&a.subscription&&a.subscription.subscriptionInfo&&a.subscription.subscriptionInfo.planId,b=m&&(!g||g&&g.planIds&&g.planIds.includes("svodAll"))?t&&t.isSubscribed:t&&t.isSubscribed&&f&&g&&g.planIds&&g.planIds.includes(f),w=t&&y&&t.istveLoggedIn,E=e&&Object(n.find)(e.seriesPlans,function(e){return"FREE"===e.monetizationModel}),I=c&&(Object(n.find)(c,function(e){return e.contentId===r})||o&&Object(n.find)(c,function(e){return e.contentId===o})),S=v&&!m&&1===e.seriesPlans.length;return b||I||E||w||S||p},o=function(e){var t=s.a.getState().purchasedItems||null,i=t&&t.purchasedItems;return i&&Object(n.find)(i,function(t){return t.contentId===e})},l=function(e,t){var i=s.a.getState().user||{},a=i&&i.planId,r=s.a.getState().purchasedItems||null,o=s.a.getState().subscription||{},l=r&&r.purchasedItems,c=e&&Object(n.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),d=e&&e.plans&&Object(n.find)(e.plans,function(e){return"SVOD"===e.type}),p=t&&Object(n.find)(t,function(e){return"AVOD"===e.monetizationModel}),u=t&&Object(n.find)(t,function(e){return e.id===a}),h=o&&o.subscription&&o.subscription.subscriptionInfo&&o.subscription.subscriptionInfo.planId,m=c&&(!d||d&&d.planIds&&d.planIds.includes("svodAll"))?i&&i.isSubscribed:i&&i.isSubscribed&&h&&d&&d.planIds&&d.planIds.includes(h),g=i&&u&&i.istveLoggedIn,v=t&&Object(n.find)(t,function(e){return"FREE"===e.monetizationModel}),y=v&&v.featureSetting&&v.featureSetting.isLoginRequired,f=e&&l&&(Object(n.find)(l,function(t){return t.contentId===e.gist.id})||Object(n.find)(l,function(t){return t.contentId===e.gist.originalObjectId})),b=p&&1===t.length,w=e&&l&&Object(n.find)(l,function(t){return t.contentId===e.seriesId}),E=e&&l&&Object(n.find)(l,function(t){return t.contentId===e.seasonId});return m||f||b||v&&!y||v&&y&&i&&i.userId||g||w||E},c=function(e){for(var t=s.a.getState().user||{},i=s.a.getState().purchasedItems||null,a=s.a.getState().subscription||{},r=e&&e.gist.bundleList,o=e&&e.id,l=e&&e.gist.originalObjectId,c=i&&i.purchasedItems,d=t&&t.planId,p=!0,u=function(e){var t=r[e].gist.originalObjectId;Object(n.find)(c,function(t){return t.contentId===r[e].id})||Object(n.find)(c,function(e){return e.contentId===t})||(p=!1)},h=0;h<r.length;h++)u(h);var m=c&&(Object(n.find)(c,function(e){return e.contentId===o})||l&&Object(n.find)(c,function(e){return e.contentId===l})),g=e&&e.monetizationModels&&Object(n.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),v=e&&e.plans&&Object(n.find)(e.plans,function(e){return"SVOD"===e.type}),y=e&&e.bundlePlans&&Object(n.find)(e.bundlePlans,function(e){return"AVOD"===e.monetizationModel}),f=e&&e.bundlePlans&&Object(n.find)(e.bundlePlans,function(e){return e.id===d}),b=a&&a.subscription&&a.subscription.subscriptionInfo&&a.subscription.subscriptionInfo.planId,w=g&&(!v||v&&v.planIds&&v.planIds.includes("svodAll"))?t&&t.isSubscribed:t&&t.isSubscribed&&b&&v&&v.planIds&&v.planIds.includes(b),E=f&&t.istveLoggedIn,I=e&&Object(n.find)(e.bundlePlans,function(e){return"FREE"===e.monetizationModel}),S=y&&1===e.bundlePlans.length;return w||I||E||S||p||m},d=function(e,t){var i=t&&Object(n.find)(t,function(e){return"AVOD"===e.monetizationModel}),s=t&&Object(n.find)(t,function(e){return"FREE"===e.monetizationModel}),a=s&&s.featureSetting&&s.featureSetting.isLoginRequired;return i&&1===t.length||s&&!a},p=function(e){for(var t=s.a.getState().purchasedItems||null,i=e&&e.seasons,a=t&&t.purchasedItems,r=0,o=0,l=!1,c=function(e){for(var t=function(t){i[e].episodes[t].episodePlans&&Object(n.find)(i[e].episodes[t].episodePlans,function(e){return"TVOD"===e.monetizationModel})&&r++;var s=i[e].episodes[t].gist.originalObjectId;(Object(n.find)(a,function(n){return n.contentId===i[e].episodes[t].id})||Object(n.find)(a,function(e){return e.contentId===s}))&&o++},s=0;s<i[e].episodes.length;s++)t(s)},d=0;d<i.length;d++)c(d);return r===o&&(l=!0),l}},1082:function(e,t,i){var n={"./EPGInfo.js":[1094],"./RatingDescriptors/index.js":[1096],"./assets/icons.js":[1126,829],"./configKeyShortcuts.js":[1095],"./controls/EmbedButton.js":[1173,830],"./controls/helpers.js":[1161,831],"./controls/hlsResolutionMenu.js":[1169,759],"./controls/mp4ResolutionMenu.js":[1168,760],"./controls/news/rewind.js":[1174,755],"./controls/news/seasonList.js":[1177,752],"./controls/news/skip.js":[1175,756],"./controls/news/title.js":[1176,0,832],"./controls/playNext.js":[1167,833],"./controls/rewind.js":[1171,757],"./controls/skip.js":[1172,758],"./controls/skipIntro.js":[1165,834],"./controls/skipRecap.js":[1166,835],"./customPlayBackQuality.js":[1097],"./drmObject.js":[1092],"./ima/autoplay.js":[1150,276],"./ima/videojs.ima.js":[1089],"./index.js":[1086],"./neouskin.js":[1180,17,753],"./newsSkin.js":[1108,0,17,35],"./registerVjsComponent.js":[1164,836],"./screens/Embed.js":[1090],"./screens/embedWall.js":[1093],"./screens/loaderScreen.js":[1117],"./screens/nextVideoTimer.js":[1088],"./screens/rating.js":[1091],"./screens/upgrade.js":[1114],"./screens/videoWall.js":[1111],"./screens/waysToWatch/index.js":[1115],"./skin.js":[1149,17,275],"./video.js":[1119],"./video06.js":[1113]};function s(e){if(!i.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],s=t[0];return Promise.all(t.slice(1).map(i.e)).then(function(){return i(s)})}s.keys=function(){return Object.keys(n)},s.id=1082,e.exports=s},1083:function(e,t,i){"use strict";var n=i(0),s=i.n(n),a=i(2);i(1122);t.a=function(e){var t,i=e.item,n=e.thumbnailType,r=e.isList,o=void 0!==r&&r,l=e.imPolicy,c="portrait"===n?"_3x4":"_16x9",d=o?'badgeImages["'.concat(c,'"]'):'gist.badgeImages["'.concat(c,'"]'),p=Object(a.get)(i,d);return t=l?"portrait"!==n?"?impolicy=resize&w=".concat(1e3,"&h=",562.5):"?impolicy=resize&w=".concat(305,"&h=",451.4):"portrait"!==n?"?impolicy=resize&w=".concat(494,"&h=",277.875):"?impolicy=resize&w=".concat(305,"&h=",451.4),p?s.a.createElement("img",{alt:"badge",src:p+t,className:"badge",role:"presentation"}):s.a.createElement("span",null)}},1084:function(e,t,i){"use strict";i.d(t,"d",function(){return a}),i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return l});var n=i(7),s=i(608),a=function(){if(window.settings.features&&window.settings.features.parental_control){var e=n.a.getState().user;if(e){if(r()){if(e&&e.parentalControl&&e.parentalControl.parentalPin){var t=e.parentalControl.parentalPin;return Object(s.getPinInSession)(e)!=t}return!1}return!1}return!1}return!1},r=function(){var e=n.a.getState().user;return!!(e&&e.parentalControl&&e.parentalControl.parentalControl)&&e.parentalControl.parentalControl},o=function(){var e=n.a.getState().user,t=e&&e.parentalControl&&e.parentalControl.parentalPin;return t||""},l=function(){var e=n.a.getState().user;return!!(e&&e.parentalControl&&e.parentalControl.parentalRating)&&e.parentalControl.parentalRating}},1085:function(e,t,i){"use strict";var n=i(565);t.a={open:function(e){n.a.dispatch({type:"open",args:e})}}},1086:function(e,t,i){"use strict";i.r(t);var n=i(1077),s=i.n(n),a=i(16),r=i.n(a),o=i(17),l=i.n(o),c=i(18),d=i.n(c),p=i(19),u=i.n(p),h=i(20),m=i.n(h),g=i(0),v=i.n(g),y=i(1119),f=i(1113),b=(i(1154),i(31)),w=i(7),E=function(e){function t(){return r()(this,t),d()(this,u()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"disableRightClick",value:function(e){}},{key:"render",value:function(){return v.a.createElement("div",{className:"VideoJS",onContextMenu:this.disableRightClick.bind(this)},"AC VideoPlayerWithInfo 06"===this.props.layout||"AC VideoPlayerWithInfo 07"===this.props.layout?v.a.createElement(f.default,s()({},this.props,{user:this.state.user})):v.a.createElement(y.default,s()({},this.props,{user:this.state.user})))}}]),t}(v.a.Component);Object(b.a)(E,function(e){return{user:e.user}},w.a),t.default=E},1087:function(e,t,i){"use strict";i.d(t,"e",function(){return l}),i.d(t,"d",function(){return c}),i.d(t,"a",function(){return d}),i.d(t,"g",function(){return p}),i.d(t,"f",function(){return u}),i.d(t,"c",function(){return h}),i.d(t,"b",function(){return m});var n=i(221),s=i.n(n),a=i(3),r=i.n(a),o=i(2);function l(e,t){return"object"!==s()(e[t])&&""!==e[t]&&e.hasOwnProperty(t)}function c(e,t){if(Object(o.isObject)(t))return"GAME"===e?"FINAL"!==t.gamescore.boxscore.gameinformation.gamestatus.status:t.LiveEvents[0].Fights.filter(function(e){return"2"===e.FightStatus}).length!==t.LiveEvents[0].Fights.length}function d(e,t,i){var n=[];if(null===e||""===e||void 0===e)return n;var s=function(e){var n=Object(o.get)(e,t),s=Object(o.get)(e,i);return n+(1===n.length?". ":" ")+s};if(Array.isArray(e[0])&&e.length>1)for(var a=0;a<e.length;a++)n.push(e[a].map(function(e){return Object.assign({fullname:s(e)},e)}));else n=(e=Array.isArray(e)?e:[e]).map(function(e){return Object.assign({fullname:s(e)},e)});return n}function p(e){return Object(o.reduce)(e,function(e,t){return e[t.name]=t.value,e},{})}function u(e){var t=e.filter(function(e){return 1e3*(e.schedule&&e.schedule.gameTime+10800)>Date.now()})[0];return e.indexOf(t)}function h(){var e=Math.floor(new Date("January 01, ".concat((new Date).getFullYear())).valueOf()/1e3),t=Math.floor(new Date("December 31, ".concat((new Date).getFullYear())).valueOf()/1e3),i=window.settings,n=i.internalName,s=i.apiBaseUrl;return r.a.get("".concat(s,"/content/game/schedule?site=").concat(n,"&from=").concat(e,"&to=").concat(t)).then(function(e){var t=e.data.map(function(e){return e.gist.gameSchedule.map(function(t){return{schedule:t,homeTeam:e.gist.homeTeam.gist,awayTeam:e.gist.awayTeam.gist,ticket:e.gist.ticketUrl,stream:e.gist.livestreamUrl,dataId:e.gist.dataId,link:e.gist.permalink}})});return Object(o.flatten)(t).sort(function(e,t){return e.schedule.gameTime-t.schedule.gameTime})}).catch(function(e){console.log(e)})}function m(e){var t=e/1e3,i=Math.floor(t/86400),n=Math.floor((t-86400*i)/3600),s=Math.floor((t-3600*n-86400*i)/60),a=Math.floor(t-60*s-3600*n-86400*i);return{getDays:function(){return i<10?"0"+i:i},getHours:function(){return n<10?"0"+n:n},getMinutes:function(){return s<10?"0"+s:s},getSeconds:function(){return a<10?"0"+a:a}}}},1088:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(13),u=i.n(p),h=i(20),m=i.n(h),g=i(0),v=i.n(g),y=i(12),f=i(1099),b=function(e){function t(e){var i;return s()(this,t),(i=l()(this,d()(t).call(this,e))).state={timer:e.timer},i.changeTimer=i.changeTimer.bind(u()(i)),i}return m()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.changeTimer,1e3)}},{key:"changeTimer",value:function(){this.setState({timer:this.state.timer-1}),this.state.timer<=0&&(clearInterval(this.interval),this.props.action&&this.props.action(),this.props.initializeAds(this.props.videoTag,this.props.thisTimer))}},{key:"render",value:function(){var e={};e=this.props.backgroundUrl?{background:"url(".concat(this.props.backgroundUrl,") no-repeat"),backgroundSize:"cover"}:{backgroundSize:"cover"};var t=Object(f.a)("bingeflix")?Object(y.a)(window.settings,"genericMessages","programLabel"):Object(y.a)(window.settings,"genericMessages","episodeLabel"),i=Object(y.a)(window.settings,"genericMessages","willStartInLabel")||"will start in",n=Object(y.a)(window.settings,"genericMessages","videoLabel")||"Video";return v.a.createElement("div",{className:"timer-prompt",style:e},v.a.createElement("div",{className:"next-episode-timer"},Object(y.a)(window.settings,"genericMessages","nextLabel")," ",this.props.isPlaylistItem?n:t," ",this.props.nextVideoTitle," ",i," ",this.state.timer))}}]),t}(v.a.Component);t.default=b},1089:function(e,t,i){"use strict";i.r(t);var n,s=i(221),a=i.n(s);n=function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,i){this.vjsPlayer=e,this.controller=i,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPlay"===this.controller.getSettings().requestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(t)};t.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},t.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},t.prototype.checkForSeeking=function(){var e=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(e)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},t.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},t.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"===typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},t.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},t.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},t.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},t.prototype.onAdTimeout=function(){this.controller.onAdTimeout()},t.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},t.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},t.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},t.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},t.prototype.getContentPlayer=function(){return this.h5Player},t.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},t.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},t.prototype.unmute=function(){this.vjsPlayer.muted(!1)},t.prototype.mute=function(){this.vjsPlayer.muted(!0)},t.prototype.play=function(){this.vjsPlayer.play()},t.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseFloat(e)||this.vjsPlayer.width()},t.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseFloat(e)||this.vjsPlayer.height()},t.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},t.prototype.getPlayerId=function(){return this.vjsPlayer.id()},t.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},t.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},t.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},t.prototype.onAdLog=function(e){var t=e.getAdData(),i=void 0!==t.adError?t.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:i,AdEvent:e}})},t.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},t.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},t.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},t.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.contentSource&&this.vjsPlayer.currentSrc()!=this.contentSource&&this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType}),this.controller.onContentAndAdsCompleted())},t.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},t.prototype.changeSource=function(e){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},t.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},t.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},t.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},t.prototype.reset=function(){this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var i=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.createAdContainer()};i.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},i.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},i.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},i.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},i.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},i.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},i.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},i.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},i.prototype.updateAdUi=function(e,t,i,n,s){var a=Math.floor(t/60),r=Math.floor(t%60);r.toString().length<2&&(r="0"+r);var o=": ";s>1&&(o=" ("+n+" "+this.controller.getSettings().adLabelNofN+" "+s+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+o+a+":"+r;var l=100*(e/i);this.progressDiv.style.width=l+"%"},i.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},i.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},i.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},i.prototype.onMouseMove=function(e){this.changeVolume(e)},i.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},i.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},i.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},i.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},i.prototype.reset=function(){this.hideAdContainer()},i.prototype.onAdError=function(){this.hideAdContainer()},i.prototype.onAdBreakStart=function(e){this.showAdContainer(),"application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},i.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},i.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},i.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},i.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},i.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},i.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},i.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},i.prototype.showAdControls=function(){this.controller.getSettings().disableAdControls||this.addClass(this.controlsDiv,"ima-controls-div-showing")},i.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing")},i.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},i.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},i.prototype.elementHasClass=function(e,t){return this.getClassRegexp(t).test(e.className)},i.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},i.prototype.removeClass=function(e,t){var i=this.getClassRegexp(t);e.className=e.className.trim().replace(i,"")},i.prototype.getAdContainerDiv=function(){return this.adContainerDiv},i.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var n="1.8.1",s="function"===typeof Symbol&&"symbol"===a()(Symbol.iterator)?function(e){return a()(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a()(e)},r=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.controller.getSettings().ppid&&google.ima.settings.setPpid(this.controller.getSettings().ppid)};r.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(n),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-loader",adsLoader:this.adsLoader})},r.prototype.requestAds=function(){var e=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var t=this.controller.getSettings().adsRequest;t&&"object"===("undefined"===typeof t?"undefined":s(t))&&Object.keys(t).forEach(function(i){e[i]=t[i]}),this.adsLoader.requestAds(e),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-request",AdsRequest:e})},r.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-manager",adsManager:this.adsManager}),this.autoPlayAdBreaks||this.initAdsManager();var t=this.controller.getSettings().preventLateAdStart;t?t&&!this.isAdTimedOut&&this.controller.onAdsReady():this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},r.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},r.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(i){this.onAdError(i)}},r.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},r.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},r.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},r.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},r.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},r.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},r.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},r.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},r.prototype.onAdPaused=function(){this.controller.onAdsPaused()},r.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},r.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},r.prototype.onAdLog=function(e){this.controller.onAdLog(e)},r.prototype.onAdPlayheadTrackerInterval=function(){if(null!==this.adsManager){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),i=t-e;i=i>0?i:0;var n=0,s=void 0;this.currentAd.getAdPodInfo()&&(s=this.currentAd.getAdPodInfo().getAdPosition(),n=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(i,e,t,s,n)}},r.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},r.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},r.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},r.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},r.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},r.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},r.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},r.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},r.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},r.prototype.getCurrentAd=function(){return this.currentAd},r.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},r.prototype.isAdPlaying=function(){return this.adPlaying},r.prototype.isAdMuted=function(){return this.adMuted},r.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},r.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},r.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},r.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},r.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},r.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},r.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},r.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},r.prototype.getAdsManager=function(){return this.adsManager},r.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var o=function(e,n){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(n);var s={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},a=this.extend({},s,n.contribAdsSettings||{});this.playerWrapper=new t(e,a,this),this.adUi=new i(this),this.sdkImpl=new r(this)};o.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},o.prototype.initWithSettings=function(e){this.settings=this.extend({},o.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},o.prototype.warnAboutDeprecatedSettings=function(){var e=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")})},o.prototype.getSettings=function(){return this.settings},o.prototype.getIsMobile=function(){return this.isMobile},o.prototype.getIsIos=function(){return this.isIos},o.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},o.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},o.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},o.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},o.prototype.requestAds=function(){this.sdkImpl.requestAds()},o.prototype.setSetting=function(e,t){this.settings[e]=t},o.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},o.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},o.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},o.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},o.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},o.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},o.prototype.showAdContainer=function(){this.adUi.showAdContainer()},o.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},o.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},o.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},o.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},o.prototype.onAdPlayheadUpdated=function(e,t,i,n,s){this.adUi.updateAdUi(e,t,i,n,s)},o.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},o.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},o.prototype.playContent=function(){this.playerWrapper.play()},o.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},o.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},o.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},o.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},o.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},o.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},o.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},o.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},o.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},o.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"===typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},o.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},o.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},o.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},o.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},o.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},o.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},o.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},o.prototype.setContentWithAdTag=function(e,t){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e)},o.prototype.setContentWithAdsResponse=function(e,t){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e)},o.prototype.setContentWithAdsRequest=function(e,t){this.reset(),this.settings.adsRequest=t||this.settings.adsRequest,this.playerWrapper.changeSource(e)},o.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},o.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},o.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},o.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},o.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.adUi.countdownDiv.style.display=this.showCountdown?"block":"none"},o.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},o.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},o.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},o.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},o.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},o.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},o.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},o.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},o.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},o.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},o.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)},o.prototype.extend=function(e){for(var t=void 0,i=void 0,n=void 0,s=arguments.length,a=Array(s>1?s-1:0),r=1;r<s;r++)a[r-1]=arguments[r];for(i=0;i<a.length;i++)for(n in t=a[i])t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var l=function(e,t){this.controller=new o(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t){this.controller.setContentWithAdTag(e,t)}.bind(this),this.setContentWithAdsResponse=function(e,t){this.controller.setContentWithAdsResponse(e,t)}.bind(this),this.setContentWithAdsRequest=function(e,t){this.controller.setContentWithAdsRequest(e,t)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)};return(e.registerPlugin||e.plugin)("ima",function(e){this.ima=new l(this,e)}),l},"object"===("undefined"===typeof exports?"undefined":a()(exports))&&"undefined"!==typeof e?n(i(1103)):n(window.videojs)},1090:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(20),u=i.n(p),h=i(0),m=i.n(h),g=i(218),v=function(e){function t(){return s()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){var e='<iframe allowfullscreen="true" src="'.concat(window.location.origin,"/embed/player?filmId=").concat(this.props.videoId,'"/>');return m.a.createElement("div",{className:"embed-prompt"},m.a.createElement("div",{className:"embed-overlay"},m.a.createElement("div",{onClick:this.props.toggleEmbed}," ",m.a.createElement(g.k,null)),m.a.createElement("textarea",{className:"copy-text",rows:"4",cols:"50",defaultValue:e}),m.a.createElement("button",{className:"copy-button",onClick:this.copy},"Copy")))}},{key:"copy",value:function(){document.getElementsByClassName("copy-text")[0].select(),document.execCommand("Copy"),document.querySelector(".copy-button").innerHTML="Copied"}}]),t}(m.a.Component);t.default=v},1091:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(20),u=i.n(p),h=i(0),m=i.n(h),g=function(e){function t(){return s()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),r()(t,[{key:"componentDidMount",value:function(){setTimeout(this.props.hide,4e3)}},{key:"render",value:function(){return m.a.createElement("div",{className:"rating-discretion"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{onClick:function(){window.history.go(-1)},className:"back site-border-color"},"Back"),m.a.createElement("div",{className:"warning site-color"},"WARNING"),m.a.createElement("div",{className:"rating-container site-border-color"},m.a.createElement("div",{className:"label"},"The following content is rated:"),m.a.createElement("div",{className:"rating"},this.props.rating)),m.a.createElement("div",{className:"discretion"},"Viewer Discretion Is Advised")))}}]),t}(m.a.Component);t.default=g},1092:function(e,t,i){"use strict";i.r(t),i.d(t,"getDRMWidevinePlayreadyObject",function(){return r}),i.d(t,"getSecureDRMWidevinePlayreadyObject",function(){return o}),i.d(t,"getFairPlayObject",function(){return l});var n=i(1),s=i.n(n),a=i(562),r=function(e,t){return{src:e.src,type:e.type,keySystemOptions:[{name:"com.widevine.alpha",options:{serverURL:e.licenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licenseToken}}},{name:"com.microsoft.playready",options:{serverURL:e.playReadyLicenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licensePlayreadyToken}}}]}},o=function(e,t){return window.navigator.userAgent.indexOf("Edg")>-1?{"com.microsoft.playready":{serverURL:e.playReadyLicenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licensePlayreadyToken}}}:{"com.widevine.alpha":{serverURL:e.licenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licenseToken}}}},l=function(e,t){var i=e.src;return i=e.src.includes("?")?"".concat(e.src,"&Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature):"".concat(e.src,"?Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature),s.a.set("CloudFront-Key-Pair-Id",e.CloudFrontKeyPairId,{expires:1,domain:".".concat(Object(a.a)(window.location.hostname))}),s.a.set("CloudFront-Policy",e.CloudFrontPolicy,{expires:1,domain:".".concat(Object(a.a)(window.location.hostname))}),s.a.set("CloudFront-Signature",e.CloudFrontSignature,{expires:1,domain:".".concat(Object(a.a)(window.location.hostname))}),{src:i,type:"application/x-mpegURL",keySystems:{"com.apple.fps.1_0":{getCertificate:function(i,n){var s={uri:e.certificateUrl,method:"GET",responseType:"arraybuffer"};t.xhr(s,function(e,t,i){console.log(e),e&&n(e),n(null,new Uint8Array(i))})},getContentId:function(e,t){if(t)return new TextDecoder("utf-16").decode(t.slice(16))},getLicense:function(i,n,s,a){var r={uri:e.licenseUrl,method:"POST",responseType:"arraybuffer",body:s,headers:{"Content-type":"application/octet-stream","X-AxDRM-Message":e&&e.licenseToken}};t.xhr(r,function(e,t,i){console.log(e),e&&a(e),a(null,i)})}}}}}},1093:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(20),u=i.n(p),h=i(0),m=i.n(h),g=i(2),v=function(e){function t(){return s()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){var e=Object(g.get)(window.settings,"images.desktopLogo"),t="//"+Object(g.get)(window.settings,"domainName")+Object(g.get)(this.props,"videoGist.permalink");return window.SERVER_SIDE_RENDERING?m.a.createElement("div",{className:"embed-wall-prompt"}):m.a.createElement("div",{className:"embed-wall-prompt"},m.a.createElement("div",{className:"overlay"},m.a.createElement("img",{src:e,alt:"site logo",className:"siteLogo"}),!this.props.embedPlayable&&m.a.createElement("h3",null,"FORBIDDEN!"),!this.props.embedPlayable&&m.a.createElement("p",null,"Embed not allowed to play here, go ",m.a.createElement("a",{href:t,target:"_blank"},"HERE")," to watch the content."),this.props.embedPlayable&&m.a.createElement("p",null,"Click ",m.a.createElement("a",{href:t,target:"_blank"},"HERE")," to watch the content."),m.a.createElement("div",{className:"poweredBy"},"Powered by ",m.a.createElement("a",{target:"_blank",href:"https://www.viewlift.com"},"Viewlift"))))}}]),t}(m.a.Component);t.default=v},1094:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(13),u=i.n(p),h=i(20),m=i.n(h),g=i(14),v=i.n(g),y=i(0),f=i.n(y),b=(i(1151),i(12)),w=function(e){function t(){var e;return s()(this,t),e=l()(this,d()(t).call(this)),v()(u()(e),"displayCompleteDesc",function(){e.setState({showLessDesc:!1})}),e.state={showLessDesc:!0},e}return m()(t,e),r()(t,[{key:"ellipsify",value:function(e,t){return f.a.createElement("div",null,e.split(" ").slice(0,t).join(" "),"...",f.a.createElement("span",{className:"more-button",onClick:this.displayCompleteDesc},f.a.createElement("b",null,f.a.createElement("u",null,Object(b.a)(window.settings,"genericMessages","moreLabel")))))}},{key:"render",value:function(){var e=this.props.item.desc?this.props.item.desc._text:this.props.item.synopsis._text,t=this.props.item.title?this.props.item.title._text:null,i=this.props.item.episode_title?this.props.item.episode_title._text:null;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"info_card_wrapper"},f.a.createElement("div",{className:"info_details"},f.a.createElement("div",{className:"program_date"},this.props.item.start_time+" - "+this.props.item.end_time),i&&f.a.createElement("div",{className:"program_info"},f.a.createElement("div",{className:"live_icon"}),f.a.createElement("div",{className:"season_info"},this.props.item.episode_number&&"E:"+this.props.item.episode_number._text+" |  "),f.a.createElement("div",{className:"rating_info"},this.props.item.fcc_rating&&this.props.item.fcc_rating._text+" |  "),f.a.createElement("div",{className:"cc_info"},this.props.item.closed_captioning&&this.props.item.closed_captioning._text)),f.a.createElement("div",{className:"program_title"},t&&t+" : "+(this.props.item["sub-title"]&&this.props.item["sub-title"]._text?this.props.item["sub-title"]._text:""),i&&this.props.item.series_title._text+" : "+i),f.a.createElement("div",{className:"program_description"},f.a.createElement("div",{className:"description",title:e},e&&e.split(" ").length>20&&this.state.showLessDesc?this.ellipsify(e,20):e)))))}}]),t}(f.a.Component);t.default=w},1095:function(e,t,i){"use strict";i.r(t),i.d(t,"configKeyShortcuts",function(){return n});var n=function(e,t){window&&window.addEventListener("keydown",function(i){var n=document.getElementsByClassName("modal"),s=document.getElementsByClassName("popup-view"),a=s.length>0&&s[0].childNodes[0].className.includes("overlay-player"),r=document.getElementsByClassName("video-module-wrapper"),o=document.getElementsByClassName("StandaloneVideoPlayer02-player"),l=document.getElementsByClassName("StandaloneVideoPlayer01__player"),c=document.getElementsByClassName("video-player-with-info-05"),d=document.getElementsByClassName("js-modal-inner"),p=!1;if(p=!!a||0===s.length&&(n.length>0||r.length>0||o.length>0||l.length>0||c.length>0),d.length>0&&(p=!1),p){var u=document.getElementsByClassName("search-container-input")[0],h=document.getElementsByClassName("news-search-input")[0],m=document.getElementsByClassName("news-search-input")[1],g=document.getElementsByClassName("device-code")[0];if(document.activeElement!==u&&document.activeElement!==m&&document.activeElement!==h&&document.activeElement!==g){var v=e&&e.controlBar&&e.controlBar.playToggle&&e.controlBar.playToggle.el_,y=e&&e.controlBar&&e.controlBar.volumePanel&&e.controlBar.volumePanel.muteToggle&&e.controlBar.volumePanel.muteToggle.el_,f=e&&e.controlBar&&e.controlBar.fullscreenToggle&&e.controlBar.fullscreenToggle.el_,b=e&&e.controlBar&&e.controlBar.childNameIndex_&&e.controlBar.childNameIndex_.VjsRewindBtn&&e.controlBar.childNameIndex_.VjsRewindBtn.el_.childNodes[0],w=e&&e.controlBar&&e.controlBar.childNameIndex_&&e.controlBar.childNameIndex_.NewsVjsRewindBtn&&e.controlBar.childNameIndex_.NewsVjsRewindBtn.el_.childNodes[0],E=e&&e.controlBar&&e.controlBar.childNameIndex_&&e.controlBar.childNameIndex_.VjsSkipBtn&&e.controlBar.childNameIndex_.VjsSkipBtn.el_.childNodes[0];switch(i.key){case" ":return i.preventDefault(),t&&t.focus(),void(v&&v.click());case"m":case"M":return i.preventDefault(),t&&t.focus(),void(y&&y.click());case"f":case"F":return i.preventDefault(),t&&t.focus(),void(f&&f.click());case"ArrowLeft":return i.preventDefault(),t&&t.focus(),b&&b.click(),void(w&&w.click());case"ArrowRight":return i.preventDefault(),t&&t.focus(),void(E&&E.click());default:return}}}})}},1096:function(e,t,i){"use strict";i.r(t),i.d(t,"checkRatingDescriptors",function(){return r});var n=i(0),s=i.n(n),a=i(12);i(1152);t.default=function(e){var t=e.metadataArray,i=e.isPip,n=window.screen.width,r=Object(a.a)(window.settings,"genericMessages","contentRatingTitle")||"Rated:",o=t.length>0&&t.filter(function(e){if(e.name&&"rating"==e.name.toLowerCase())return e}).map(function(e){return e.value}),l=o&&o[0]&&o[0].replaceAll("_",""),c=(t.length>0&&t.filter(function(e){if(e.name&&"rating descriptors"==e.name.toLowerCase())return e}).map(function(e){return e.value}))[0];return l&&c?s.a.createElement("div",{className:"rating-descriptor"},s.a.createElement("div",{className:"".concat(i?"rating-age-pip":"rating-age")},r.toUpperCase()," ",l.replaceAll("-","")),s.a.createElement("div",{className:"descriptor-message descriptor-ellipses  ".concat(i||n<768?"width-for-small":"width-for-big")},c)):s.a.createElement("div",null)};var r=function(e){var t=e.length>0&&e.filter(function(e){if(e.name&&"rating"==e.name.toLowerCase())return e}).map(function(e){return e.value}),i=t&&t[0]&&t[0].replaceAll("_",""),n=(e.length>0&&e.filter(function(e){if(e.name&&"rating descriptors"==e.name.toLowerCase())return e}).map(function(e){return e.value}))[0];return!(!i||!n)}},1097:function(e,t,i){"use strict";i.r(t),i.d(t,"getCustomPlayBackQuality",function(){return r}),i.d(t,"getCurrentResolution",function(){return o}),i.d(t,"getSourceSrc",function(){return l});var n=i(9),s=i.n(n),a=i(2),r=function(e){var t=Object(a.get)(window.settings,"videoQuality.playbackData"),i=e&&e.mpeg&&e.mpeg.length;if(t&&i){var n=t&&Object(a.uniqBy)(Object.values(t),"resolutionKey"),r=n&&n.length>0&&n.map(function(t){for(var n=0;n<i;n++){var a=e&&e.mpeg&&e.mpeg[n],r=a.renditionValue;if(t.resolutionKey==r.slice(1,-1)){var o=t.resolutionValue,l=o&&o.charAt(0).toUpperCase()+o.slice(1);return s()({},a,{height:t.resolutionKey,text:l})}}}),o=r&&r.length>0&&r.filter(function(e){return void 0!==e});return Object(a.sortBy)(o,function(e){return e.height}).reverse()}},o=function(e,t){if(e.includes("?")){var i=e.split("?")[0],n=!0,s=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=r.value;if(l.url.includes("?")&&l.url.split("?")[0]===i)return!0}}catch(c){s=!0,a=c}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}}},l=function(e,t){var i=r(t);return i&&i.length>0?o(e,i)?e:i&&i[0]&&i[0].url:e}},1098:function(e,t,i){"use strict";i.d(t,"c",function(){return m}),i.d(t,"b",function(){return g}),i.d(t,"e",function(){return v}),i.d(t,"l",function(){return y}),i.d(t,"f",function(){return f}),i.d(t,"j",function(){return b}),i.d(t,"g",function(){return w}),i.d(t,"i",function(){return E}),i.d(t,"d",function(){return I}),i.d(t,"a",function(){return S}),i.d(t,"k",function(){return T}),i.d(t,"h",function(){return P});var n=i(5),s=i.n(n),a=i(10),r=i.n(a),o=i(9),l=i.n(o),c=i(15),d=i(1079),p=i(2),u=i(1),h=i.n(u),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e&&e.id?e.id:e&&e.gist?e.gist.id:null},g=function(e){var t="";if(e&&e.gist&&e.gist.imageGist){var i=e.gist.imageGist._32x9;t=i||""}return t?"".concat(t,"?impolicy=resize&w=546&h=154"):""},v=function(e){var t="";if(e&&e.length>0){var i=e[0].gist.imageGist._32x9;t=i||""}return t?"".concat(t,"?impolicy=resize&w=546&h=154"):""},y=function(e,t){e.preventDefault();var i=function(e){return e.watchHistory&&void 0!==e.watchHistory.watchedTime?e.watchHistory.watchedTime:void 0!==e.watchedTime?e.watchedTime:e.gist&&void 0!==e.gist.watchedTime?e.watchedTime:0}(t),n=l()({},t),s=l()({},n,{fileType:"episode",watchedTime:i});Object(c.newsEpisodeOverlay)({video:s,customSkin:"./newsSkin",customControls:{volumePanel:{inline:!1},children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay","volumePanel","fullscreenToggle"]}})},f=function(){var e=r()(s.a.mark(function e(t){var i,n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.contentDetails,n=null,a=null,!i){e.next=11;break}if(!(i.trailers&&i.trailers.length>0)){e.next=8;break}n=i.trailers[0].id,e.next=9;break;case 8:return e.abrupt("return",n);case 9:e.next=13;break;case 11:return e.next=13,Object(d.d)(t.id,function(e){if(t=e.data.video,i=t.contentDetails){if(!(i.trailers&&i.trailers.length>0))return n;n=i.trailers[0].id}});case 13:if(!n){e.next=16;break}return e.next=16,Object(d.d)(n,function(e){a=e.data.video});case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),b=function(){window.newsTrailerPlayer&&window.newsTrailerPlayer.player_&&window.newsTrailerPlayer.pause()},w=function(){window.newsLivePlayer&&window.newsLivePlayer.player_&&(window.newsLivePlayer.muted(!0),window.newsLivePlayer.ads&&window.newsLivePlayer.ads.isAdPlaying&&window.newsLivePlayer.ads.isAdPlaying()&&window.newsLivePlayer.ima.getAdsManager().setVolume(0))},E=function(){window.newsLivePlayer&&window.newsLivePlayer.player_&&window.newsLivePlayer.pause()},I=function(e){var t=window.settings.genericMessages,i=h.a.get("userLanguageSelection");""===i&&window.settings.languages&&(i=window.settings.languages.default.code);var n=Object(p.get)(t,"localizationMap.".concat(i,".").concat(e)),s=Object(p.get)(t,e);return n||s},S=function(e){if(0!==e.length){for(var t=!1,i=0;i<e.length;i++)if("extras"===e[i].title.toLowerCase()){t=!0;break}return t}},T=function(){window.newsLivePlayer&&window.newsLivePlayer.player_&&(window.newsLivePlayer.muted(!1),window.newsLivePlayer.ads&&window.newsLivePlayer.ads.isAdPlaying&&window.newsLivePlayer.ads.isAdPlaying()&&window.newsLivePlayer.ima.getAdsManager().setVolume(1))},P=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(window._newsCarouselPlayer)try{window._newsCarouselPlayer.muted(e)}catch(t){console.log("player not exist")}window._muteNewsCarousel=e}},1099:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e){return window.settings.internalName.includes(e)}},1101:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(0),s=i.n(n),a=i(1118),r=function(e){var t=(e&&e.title).replace(/["']/g,""),i=e&&e.description,n=i&&i.replace(/["']/g,"")||t,r=e&&e.runtime||30,o=r&&Object(a.c)(r,"ISO 8601 format"),l=e&&e.updateDate?e.updateDate:e&&e.publishDate?e.publishDate:new Date,c=l&&Object(a.d)(l);return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{itemprop:"description",style:{display:"none"}},n),s.a.createElement("meta",{itemprop:"duration",content:o}),s.a.createElement("meta",{itemprop:"uploadDate",content:c}))}},1105:function(e,t,i){"use strict";t.a=function(e){var t=~~(e/3600),i=~~(e%3600/60),n=e%60,s="";return t>0&&(s+=t+":"+(i<10?"0":"")),s+=i+":"+(n<10?"0":""),s+=""+n}},1106:function(e,t,i){"use strict";t.a={SET_EXPANDED_DETAILS:"SET_EXPANDED_DETAILS"}},1107:function(e,t,i){"use strict";var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(20),u=i.n(p),h=i(0),m=i.n(h),g=(i(1141),function(e){function t(){return s()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){var e=this.props,t=e.displayTags,i=e.displayTitle,n=e.thumbnailImage,s=e.thumbnail,a=e.item.tags;return m.a.createElement("a",{href:this.props.item.permalink,className:"tray-person-item"},m.a.createElement("div",{className:"image-container"},m.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(n||s,")")}},t&&m.a.createElement("div",{className:"details inline"},a.map(function(e){return m.a.createElement("span",{className:"title",key:e.id},e.title)})))),i&&m.a.createElement("div",{className:"details bottom"},m.a.createElement("p",{className:"title"},this.props.item.firstName," ",this.props.item.lastName)))}}]),t}(m.a.Component));t.a=g},1109:function(e,t,i){},1110:function(e,t,i){"use strict";var n={"http://staging-api.viewlift.com":"develop","http://release-api.viewlift.com":"release","https://prod-api.viewlift.com":"production"};t.a=function(){return n[window.settings.apiBaseUrl]}},1111:function(e,t,i){"use strict";i.r(t);var n=i(5),s=i.n(n),a=i(10),r=i.n(a),o=i(9),l=i.n(o),c=i(16),d=i.n(c),p=i(17),u=i.n(p),h=i(18),m=i.n(h),g=i(19),v=i.n(g),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),I=i.n(E),S=i(0),T=i.n(S),P=i(2),O=i(15),C=i(31),k=i(7),j=i(12),D=i(1125),A=i(1121),N=function(e){function t(e){var i;return d()(this,t),i=m()(this,v()(t).call(this,e)),I()(f()(i),"subscriptionWall",function(){var e=66.66*window.innerWidth/100,t="?impolicy=resize&w=".concat(e,"&h=").concat(.5625*e),n={background:"url(".concat(i.props.videoGist.videoImageUrl).concat(t,") no-repeat")};if(window.SERVER_SIDE_RENDERING)return T.a.createElement("div",{className:"subscription-prompt",style:n});var s=localStorage.getItem("userSelectedPlan");return T.a.createElement("div",{className:"subscription-prompt",style:n},T.a.createElement("div",{className:"overlay"},T.a.createElement("p",null,Object(j.a)(window.settings,"genericMessages","encourageUserToLoginLabel")),T.a.createElement("div",{className:"button-container"},window.sessionStorage.getItem("openUpdatecard")?T.a.createElement("a",{href:"/user/account",className:"cta button"}," Activate Now "):s&&"string"===typeof s?T.a.createElement("div",{className:"cta button",style:{padding:"13px",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},onClick:function(e){return i.planSelection()}},Object(j.a)(window.settings,"genericMessages","startFreetrialButton")):T.a.createElement("a",{href:"/viewplans",className:"cta button",onClick:function(){return i.pushButtonEvent("video_wall")}},Object(j.a)(window.settings,"genericMessages","startFreetrialButton")),!i.state.user&&T.a.createElement("button",{className:"cta login-btn",onClick:function(e){return Object(O.login)(i.props.content.pricing.type)}},Object(j.a)(window.settings,"navigation.settings","primaryCta.loginCtaText")))))}),I()(f()(i),"purchaseWall",function(){var e=i.props.content,t=e.showData.seasons[e.currentSeason],n={series:e.seriesId,season:e.seasonId},s=Object(P.get)(e,"contentType")||Object(P.get)(e,"gist.contentType");if(s&&"VIDEO"===s){var a=l()({},n,{content:e.gist.id,video:e.gist.id}),r=D.a.formatPricing(e.pricing,a,e.gist.title),o={gist:l()({},t,{contentType:"EPISODE",title:e.gist.title})};return Object(O.purchase)(r[0],o,function(){return e.playEpisode()}),null}}),I()(f()(i),"loginWall",function(){var e=66.66*window.innerWidth/100,t="?impolicy=resize&w=".concat(e,"&h=").concat(.5625*e),n={background:"url(".concat(i.props.videoGist.videoImageUrl).concat(t,") no-repeat")},s=Object(j.a)(window.settings,"navigation.settings","primaryCta.loginCtaText");return window.SERVER_SIDE_RENDERING?T.a.createElement("div",{className:"subscription-prompt",style:n}):T.a.createElement("div",{className:"subscription-prompt",style:n},T.a.createElement("div",{className:"overlay"},T.a.createElement("p",null,Object(j.a)(window.settings,"genericMessages","entitlementLoginErrorMessage")),T.a.createElement("div",{className:"button-container"},T.a.createElement("button",{className:"cta login-btn",onClick:function(e){return Object(O.login)(i.props.content.pricing.type)}},void 0!==s?s:"Login"))))}),I()(f()(i),"subscriptionStatusWall",function(){var e=66.66*window.innerWidth/100,t="?impolicy=resize&w=".concat(e,"&h=").concat(.5625*e),n={background:"url(".concat(i.props.videoGist.videoImageUrl).concat(t,") no-repeat")},s=i.state.user.subscription,a=s.subscriptionInfo&&s.subscriptionInfo.paymentHandler;if(i.state.user&&"HOLD"===i.state.user.subscriptionStatus){var r=Object(j.a)(window.settings,"genericMessages","SUBSCRIPTION_HOLD"),o=Object(j.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");return T.a.createElement("div",{className:"subscription-prompt",style:n},T.a.createElement("div",{className:"overlay"},T.a.createElement("p",null,r&&o&&a&&r+" "+a+" "+o+"."||"Your subscription is on Hold.")))}if(i.state.user&&"PAUSED"===i.state.user.subscriptionStatus){var l=Object(j.a)(window.settings,"genericMessages","SUBSCRIPTION_PAUSED"),c=Object(j.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");return T.a.createElement("div",{className:"subscription-prompt",style:n},T.a.createElement("div",{className:"overlay"},T.a.createElement("p",null,l&&c&&a&&l+" "+a+". "+c+" "+a+"."||"Your subscription is Paused.")))}}),i.pushButtonEvent=i.pushButtonEvent.bind(f()(i)),i}return w()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.dataLayer){e.next=2;break}return e.abrupt("return");case 2:window.dataLayer.push({event:"soft_wall_shown",video_title:this.props.videoGist.title,video_id:this.props.videoGist.id});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pushButtonEvent",value:function(e){window.dataLayer&&window.dataLayer.push({event:"subscribe_cta_click",source:e})}},{key:"planSelection",value:function(){var e=localStorage.getItem("userSelectedPlan");Object(A.c)(e)}},{key:"render",value:function(){var e=this.props.content&&this.props.content.pricing&&this.props.content.pricing.type&&this.props.content.pricing.type.toLowerCase();return"tvod"===e&&this.props.isEpisode?this.purchaseWall():!this.state.user&&("avod"===e||"free"===e||window.settings.forceLogin&&this.props.videoGist.free)?this.loginWall():!this.state.user||"HOLD"!==this.state.user.subscriptionStatus&&"PAUSED"!==this.state.user.subscriptionStatus?this.subscriptionWall():this.subscriptionStatusWall()}}]),t}(T.a.Component);Object(C.a)(N,function(e){return{user:e.user}},k.a),t.default=N},1112:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var n=i(8),s=i.n(n),a=i(1),r=i.n(a),o=i(26),l=i(7),c=i(1179),d=i.n(c);window._deviceInfo=d()(navigator.userAgent);var p=function(e){return e>1024?"L":e>768?"M":"S"},u=function(e){var t=s()(e,"video.tags",[]),i=s()(s()(e,"video.gist.primaryCategory.title","VIEWLIFT_CONTENT_GENRE"));return t.length>0?t.map(function(e){return e.title}).join(","):i},h=function(){var e=JSON.parse(r.a.get("token"));if(!e||!e.authorizationToken)return"VIEWLIFT_IP";var t=Object(o.a)(e.authorizationToken),i=t.ipaddress,n=t.ipaddresses;return i||n||"VIEWLIFT_IP"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;if(!e.includes("VIEWLIFT_"))return e;var d=i.dimensions,m=d.width,g=d.height,v=s()(t,"video.gist.id",""),y=o||s()(window.settings,"advertising.videoTag",""),f=new URLSearchParams(y),b=l.a.getState().user||{},w="1YNN";!1===(b&&b.emailConsent)&&(w="1YYN");var E={VIEWLIFT_WIDTH:m,VIEWLIFT_HEIGHT:g,VIEWLIFT_SIZE:p(m),VIEWLIFT_DOMAIN:window.location.hostname,VIEWLIFT_URL:window.location.href,VIEWLIFT_ENCODED_URL:encodeURIComponent(window.location.href),VIEWLIFT_DOUBLE_ENCODED_URL:encodeURIComponent(encodeURIComponent(window.location.href)),VIEWLIFT_CACHEBUSTER:"3708662946268",VIEWLIFT_TIMESTAMP:Date.now().toString().substring(0,10),VIEWLIFT_TIMESTAMP_MS:Date.now().toString(),VIEWLIFT_IP:h(),VIEWLIFT_USER_AGENT:navigator.userAgent,VIEWLIFT_DNT:"1"===navigator.doNotTrack?"1":"0",VIEWLIFT_DESCRIPTION:s()(t,"video.gist.description","VIEWLIFT_DESCRIPTION"),VIEWLIFT_DURATION:s()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_MIN_DURATION:0,VIEWLIFT_MAX_DURATION:s()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_AUTOPLAY:n||1,VIEWLIFT_AD_POS:f.get("pod")||"VIEWLIFT_AD_POS",VIEWLIFT_MUTE:a||0,VIEWLIFT_OS:s()(window,"_deviceInfo.os.name","VIEWLIFT_OS"),VIEWLIFT_OS_VER:s()(window,"_deviceInfo.os.version","VIEWLIFT_OS_VER"),VIEWLIFT_DEVICE_ID:localStorage.getItem("deviceId")||"VIEWLIFT_DEVICE_ID",VIEWLIFT_KEYWORDS:u(t),VIEWLIFT_MEDIA_ID:v,VIEWLIFT_ENCODED_VIDEO_TITLE:encodeURI(s()(t,"video.gist.title","VIEWLIFT_ENCODED_VIDEO_TITLE")),VIEWLIFT_VIDEO_ID:v,VIEWLIFT_VIDEO_URL:encodeURI(window.location.host+s()(t,"video.gist.permalink","")),VIEWLIFT_CONSENT:r.a.get("cc")||"VIEWLIFT_CONSENT",VIEWLIFT_COPPA:s()(window.settings,"compliance.coppa")?1:0,VIEWLIFT_GDPR:s()(window.settings,"compliance.gdpr")?1:0,VIEWLIFT_US_PRIVACY:w,VIEWLIFT_CONTENT_DURATION_MS:1e3*s()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_CONTENT_DURATION:s()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_MAX_POD_DURATION:f.get("pmxd")||"VIEWLIFT_MAX_POD_DURATION",VIEWLIFT_MAX_POD_DURATION_MS:1e3*f.get("pmxd")||"VIEWLIFT_MAX_POD_DURATION_MS",VIEWLIFT_CONTENT_ID:v,VIEWLIFT_CONTENT_TITLE:s()(t,"video.gist.title","VIEWLIFT_ENCODED_VIDEO_TITLE"),VIEWLIFT_CONTENT_SERIES_TITLE:s()(t,"video.series[0].gist.title",s()(t,"seriesInfo.title","VIEWLIFT_CONTENT_SERIES_TITLE")),VIEWLIFT_CONTENT_EPISODE:s()(t,"video.currentEpisode","VIEWLIFT_CONTENT_EPISODE"),VIEWLIFT_CONTENT_SEASON:s()(t,"video.currentSeason","VIEWLIFT_CONTENT_SEASON"),VIEWLIFT_CONTENT_GENRE:s()(t,"video.gist.primaryCategory.title","VIEWLIFT_CONTENT_GENRE")};if(c){for(var I in E)"VIEWLIFT_CONTENT_DURATION_MS"!==I&&"VIEWLIFT_MAX_POD_DURATION_MS"!==I&&"VIEWLIFT_TIMESTAMP_MS"!==I&&"VIEWLIFT_OS_VER"!==I&&(e=e.replace(I,E[I]));return e}for(var S in E){var T=new RegExp("\\b("+S+")\\b","g");e=e.replace(T,E[S])}return e}},1113:function(e,t,i){"use strict";i.r(t);var n=i(9),s=i.n(n),a=i(5),r=i.n(a),o=i(10),l=i.n(o),c=i(16),d=i.n(c),p=i(17),u=i.n(p),h=i(18),m=i.n(h),g=i(19),v=i.n(g),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),I=i.n(E),S=i(0),T=i.n(S),P=i(1103),O=(i(1143),i(1144),i(1109),i(2)),C=i(1),k=i.n(C),j=i(1079),D=i(219),A=i(1120),N=i(562),R=i(1110),M=i(242),L=i(1090),_=i(1114),x=i(1091),F=i(1088),V=i(32),U=i(31),W=i(7),B=i(1092),z=i(236),H=i(1084),G=i(235),q=i(1093),K=i(15),Q=i(12),Y=i(1115),X=i(36),J=i(1081),Z=(i(21),i(1095)),$=i(237),ee=i(1094),te=i(1096),ie=i(1117),ne=i(1112),se=i(1097);window.videojs=P.default,i(1089);var ae=function(e){function t(e){var n;return d()(this,t),n=m()(this,v()(t).call(this,e)),I()(f()(n),"showPinOverlay",l()(r.a.mark(function e(){var t,i,s,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.props.showPinOverlay){e.next=12;break}if(t=!1,i=n.props.user&&n.props.user.parentalControl&&n.props.user.parentalControl.parentalRating,s=n.props.video&&n.props.video.parentalRating,!i||n.state.showPinOverlay||"string"!=typeof i){e.next=12;break}if(!n.ratingMap.length){e.next=9;break}a=n.ratingMap&&n.ratingMap.find(function(e){return e.key===i}),e.next=11;break;case 9:return e.next=11,Object(G.getRatingList)().then(function(e){n.ratingMap=e,a=e&&e.find(function(e){return e.key===i})}).catch(function(e){n.setState({showPinOverlay:!1})});case 11:a&&a.value&&(t=a.value.includes(s),n.setState({showPinOverlay:t}));case 12:case"end":return e.stop()}},e)}))),I()(f()(n),"initializePlayerControls",function(){var e=l()(r.a.mark(function e(t){var s,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.modalOpen&&(a=document.querySelectorAll(".video-js")).forEach(function(e){e.addEventListener("play",function(e){a.forEach(function(t){var i=Object(P.default)(t);e.target!==t&&i.pause()})})}),e.next=3,i.e(276).then(i.bind(null,1150));case 3:if(o=e.sent,!window.SERVER_SIDE_RENDERING){e.next=6;break}return e.abrupt("return");case 6:n.props&&n.props.EPGMode&&n.props.video&&n.props.video.gist&&n.props.video.gist.isTrailer||(k.a.set("videoId",n.props.videoId),localStorage.setItem("videoId",n.props.videoId),localStorage.setItem("title",n.props.video.gist.title)),o.getAutoplaySupport().then(function(e){return s=e,t||n.fetchVideoSources(n.props.video.gist.originalObjectId||n.props.videoId)}).then(function(e){n.setState({videoAssets:e});var t=n.props.autoplay&&s.autoplayAllowed||!1,a=Object(O.get)(window,"settings.features.mute_sound"),r="boolean"===typeof a?a:s.autoplayRequiresMute;if(e){var o=Object(ne.a)(Object(O.get)(n.assets,"hls"),n.props,f()(n));if("mp4"===("hls"===n.props.fileType&&o?"hls":"mp4")){var l=Object(ne.a)(e.src,n.props,f()(n),t,r,n.state.dfpTag);e.src=Object(se.getSourceSrc)(l,n.assets)}else e.src=Object(ne.a)(e.src,n.props,f()(n),t,r,n.state.dfpTag)}var c={controls:!0,autoplay:t,muted:r,preload:!0,poster:n.state.poster,sources:[e],debug:!0};n.props.customControls&&(c.controlBar=n.props.customControls);var d="./skin";n.props.customSkin&&(d=n.props.customSkin),i(1082)("".concat(d,".js")).then(function(t){var i=t.replaceIcons,s=t.addRewindControl,a=t.customizeCaptions,r=t.addResolutionControl,o=t.addEmbedBtn,l=t.addSkipControl,d=t.addVideoTitle,p=t.addSeasonList,u=t.addSkipIntroControl,h=t.addSkipRecapControl,m=t.addPlayNextControl;n.showPinOverlay().then(function(t){try{n.addResolutionControl=r,n.isDrmEnabledVideo&&e.type&&("application/dash+xml"===e.type||"application/x-mpegURL"===e.type)?Object(H.d)()&&n.state.askPin&&(n.props.showPinOverlay||n.state.showPinOverlay)?n.videoRestrictions():(n.initializeDrmPlayer(e,i,s,a,r,o,c,u,h,m),n.videoNode&&Object(Z.configKeyShortcuts)(n.player,n.videoNode)):Object(H.d)()&&n.state.askPin&&(n.props.showPinOverlay||n.state.showPinOverlay)?n.videoRestrictions():(e&&n.initializePlayer(c,i,s,a,r,o,l,d,p,u,h,m),n.videoNode&&Object(Z.configKeyShortcuts)(n.player,n.videoNode))}catch(g){console.log(g)}})})}).catch(function(e){!e||e.playable||n.setState({videoWall:!0,plans:e.plans,errorMessage:e.errorMessage||e.message})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),I()(f()(n),"videoRestrictions",l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(H.d)()){e.next=5;break}return e.next=3,n.setState({askPin:!0});case 3:e.next=7;break;case 5:return e.next=7,n.setState({askPin:!1});case 7:case"end":return e.stop()}},e)}))),I()(f()(n),"playerEnter",function(){var e;e=JSON.parse(localStorage.getItem("program")),n.props.EPGMode&&e&&!n.props.isPip&&n.setState({EPGScreen:!0,epgData:e})}),I()(f()(n),"playerLeave",function(){n.state.EPGScreen&&n.setState({EPGScreen:!1})}),I()(f()(n),"videoPersonalizationHandler",function(){n.props.isFree&&n.state.user&&k.a.get("isUserSignUp")&&k.a.get("isUserSignUp").match("true")&&window.settings.recommendation&&window.settings.recommendation.isPersonalization&&window.settings.recommendation.recommendCategories&&window.settings.recommendation.recommendCategories.length>0&&(window.settings.recommendation.isSubscribed||(Object(K.persolizationSetUpProfile)()&&k.a.set("isUserSignUp",!1)&&k.a.set("isThankYouPage",!1),setTimeout(function(){window.player.pause()},200)))}),I()(f()(n),"setCCSettings",function(){document.querySelectorAll(".vjs-subs-caps-button li.vjs-menu-item").forEach(function(e){e.addEventListener("click",function(e){e.currentTarget.classList.contains("vjs-texttrack-settings")||(e.currentTarget.classList.contains("vjs-selected")&&e.currentTarget.classList.contains("vjs-subtitles-menu-item")?(localStorage.setItem("ccDefault","on"),localStorage.setItem("ccDefaultLang",e.currentTarget.querySelector(".vjs-menu-item-text").innerHTML)):localStorage.setItem("ccDefault","off"))})})}),I()(f()(n),"addPlayerEntitlementLogic",function(e){e.options;var t=e.replaceIcons,i=e.addRewindControl,s=e.customizeCaptions,a=e.addResolutionControl,r=e.addEmbedBtn,o=e.addSkipControl,l=e.addVideoTitle,c=e.addSeasonList,d=e.addSkipIntroControl,p=e.addSkipRecapControl,u=e.addPlayNextControl;t(n.player),o&&o(n.player),l&&l(n.player,n.props.video),c&&c(n.player,n.props.video),i(n.player);var h=document.getElementsByClassName("vjs-current-time-display")&&document.getElementsByClassName("vjs-current-time-display").item&&document.getElementsByClassName("vjs-current-time-display").item(0);void 0!==h&&h.setAttribute("translate","no");var m=n.props.closedCaptions||Object(O.get)(n.state,"video.contentDetails.closedCaptions"),g=(parseInt(k.a.get("hdbm")),Object(O.get)(window.settings,"features.free_preview"));g&&g.per_video;Object(O.some)(m,{format:"VTT"})&&s(n.player);var v=!!Object(O.isEmpty)(n.state.plans)||n.state.plans[0].featureSetting&&n.state.plans[0].featureSetting.isHdStreaming;a(n.player,n.isDrmEnabledVideo?"drm":n.props.fileType,n.assets,n.state.isLiveStream,n.showUpgradePopup,v),window.settings.embedPlayer&&window.settings.embedPlayer.showEmbedButton&&r(n.player,n.toggleEmbed),p&&p(n.player,n.props&&n.props.video,n.props&&n.props.isPip),d&&d(n.player,n.props&&n.props.video,n.props&&n.props.isPip),u&&u(n.player,n.props&&n.props.video),n.props.showTimer&&n.appendRemainingContainer(n.player,n.props.showTimer),!n.props.autoplay||M.a.isMobile()||M.a.isSafari()||n.startVideo()}),I()(f()(n),"addBeaconObject",function(e){var t=n.props;e&&(t=e);var i,a=t.video;i=new A.a(s()({player:n.player,videoTitle:Object(O.get)(t,"video.gist.title"),videoId:t.videoId,seriesTitle:Object(O.get)(t,"seriesInfo.title"),seriesId:Object(O.get)(t,"seriesInfo.id")},a&&{contentCategory:Object(O.get)(a.gist,"primaryCategory.title"),isLiveStream:Object(O.get)(a.gist,"isLiveStream")},{fileType:t.fileType,assets:n.assets,siteName:window.settings.internalName,clientId:window.settings.siteId,platform:"WEBSITE",userId:t.user&&t.user.userId,apiUrl:window.settings.beacon.apiBaseUrl,environment:Object(R.a)()})),n.beacon=i}),I()(f()(n),"shouldAdsInitialize",function(){if(n.state.dfpTag){var e=n.state.user,t=W.a.getState().purchasedItems||null,i=t&&t.purchasedItems&&t.purchasedItems.length,s=e&&e.istveLoggedIn,a=e&&e.isSubscribed,r=n.state.adFeatures,o=r.transactionPurchased,l=r.subscribed,c=r.loggedIn,d=r.nonLoggedIn,p=r.churned,u=r.tve,h=!(e&&(a||i)&&n.state.plans&&n.state.plans[0].featureSetting&&void 0!==n.state.plans[0].featureSetting.includingAds)||n.state.plans[0].featureSetting.includingAds,m=e&&(a&&l||c&&!a&&!i&&!s||("SUSPENDED"===e.subscriptionStatus||"CANCELLED"===e.subscriptionStatus)&&p||i&&o||s&&u)||!e&&d;return"undefined"!==typeof window.google&&h&&m}return!1}),I()(f()(n),"checkIfVideoIsEntitled",function(){var e=n.props.video;return e&&Object(J.f)(e,n.state.plans)}),I()(f()(n),"checkIfVideoIsFree",function(){var e=n.props.video;return e&&Object(J.g)(e,n.state.plans)}),I()(f()(n),"checkByPassEntitlementDomains",function(){var e=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&e&&e.length>0){var t=window.location!==window.parent.location?document.referrer:document.location.href;if(t=t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],e.includes(t)||e.includes("*"))return!0}return!1}),I()(f()(n),"checkEmbedDomains",function(){var e=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomains;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&e&&e.length>0){var t=window.location!==window.parent.location?document.referrer:document.location.href;if(t=t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],e.includes(t)||e.includes("*"))return!0}return!1}),I()(f()(n),"onTimeUpdate",function(e,t,i){t=[],i=[];var s=Math.floor(e.player.currentTime());if(e.props.showTimer&&e.getRemainingTime(e.props.isLive?(e.props.scheduleEndDate-Date.now())/1e3:e.player.remainingTimeDisplay()),!Object(O.includes)(i,s)){i.push(s),e.sendWatchedEventData(s,e.player.duration()),e.perVideo&&e.allow_recurring_plays&&!e.counterInitiated&&(e.props.user&&e.props.user.isSubscribed||!e.props.user)&&(k.a.set("hdbm",0),localStorage.setItem("hdbm",0));var a=parseInt(k.a.get("hdbm"))||parseInt(localStorage.getItem("hdbm"))||s,r=n.state.subscription&&n.state.subscription.subscriptionInfo&&n.state.video&&n.state.video.plans&&n.state.video.plans.length>0&&!n.state.video.plans[0].planIds.includes(n.state.subscription.subscriptionInfo.planId);if("Videos"!==e.previewshowUnit&&e.previewTime&&a<=e.previewTime&&(e.props.user&&!e.props.user.isSubscribed||!e.props.user)&&(s=a,e.perVideo?setTimeout(function(){e.counterInitiated=!0,k.a.set("hdbm",Math.floor(e.player.currentTime())+1),localStorage.setItem("hdbm",Math.floor(e.player.currentTime())+1)},900):e.perVideo||setTimeout(function(){k.a.set("hdbm",a+1),localStorage.setItem("hdbm",a+1)},900)),!e.props.embed||e.previewTime||e.checkIfVideoIsFree()||e.checkByPassEntitlementDomains()||(e.setState({embedWall:!0,embedPlayable:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),e.previewTime&&a>=e.previewTime&&(e.props.user&&!e.props.user.isSubscribed||r||!e.props.user))if(e.props.embed)e.checkIfVideoIsFree()||e.checkByPassEntitlementDomains()||(e.setState({embedWall:!0,embedPlayable:!0}),e.player.pause(),e.props.overlay||e.player.dispose());else if(e.props.isEpisode&&!e.props.isEntitled||!e.props.isEpisode&&!e.checkIfVideoIsEntitled())if(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose(),!n.state.user||"HOLD"!==n.state.user.subscriptionStatus&&"PAUSED"!==n.state.user.subscriptionStatus||e.player.dispose(),e.props.isEpisode)e.props.updateEntitlementScreen();else if(!e.props.isEpisode){var o=[];if(n.state.video.plans&&n.state.video.plans.length>0?o=n.state.video.plans:n.state.plans&&n.state.plans.length>0&&(o=n.state.plans),o.length>0&&!o[0].id){var l=o[0].planIds.toString();Object(X.g)(l).then(function(t){n.setState({videoWall:!0,plans:t,errorMessage:""}),e.props.updateEntitlementScreen(t)})}else o.length>0&&o[0].id&&(n.setState({videoWall:!0,plans:o,errorMessage:""}),e.props.updateEntitlementScreen(o))}e.perVideo&&k.a.set("videoId",e.props.videoId),"Videos"!==e.previewshowUnit||e.state.isFree||(s=parseInt(k.a.get("len")));var c=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||90,d=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==c&&d&&s>=c&&s%c===0&&e.props.user&&!Object(O.includes)(t,s)&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())){t.push(s);var p=Math.floor(e.player.duration());e.sendWatchedInfo(s,p).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&n.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var u=Math.floor(e.player.duration());!Object(O.includes)(t,s)&&d&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())&&e.props.user&&parseInt(u)-parseInt(s)<5&&(e.resetHistory||e.sendWatchedInfo(s,u,!0).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&n.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}))}}),I()(f()(n),"enableRatingDescriptor",function(){!n.state.showRatingDescriptor&&n.state.ratingDisplayDone&&(n.setState({showRatingDescriptor:!0}),setTimeout(function(){n.setState({showRatingDescriptor:!1})},7e3))}),I()(f()(n),"initializeOverlayPlayer",function(){if(n.state.initializePlayer){n.player.reset();var e=n.state.videoAssets,t=e&&e.src;n.isDrmEnabledVideo?n.configureDRMPlayback(e):(n.player.src(t),n.player.load(),n.player.play())}}),I()(f()(n),"configureDRMPlayback",function(e){if(M.a.isSafari()){var t=Object(B.getFairPlayObject)(e,P.default);k.a.set("CloudFront-Key-Pair-Id",e.CloudFrontKeyPairId,{domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Policy",e.CloudFrontPolicy,{domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Signature",e.CloudFrontSignature,{domain:".".concat(Object(N.a)(window.location.hostname))});try{n.player.eme()}catch(d){}n.player.src(t),e.isFromVideoEnded||n.player.play()}else{var i=Object(B.getDRMWidevinePlayreadyObject)(e),s=Object(B.getSecureDRMWidevinePlayreadyObject)(e);if(e.CloudFrontKeyPairId&&e.CloudFrontPolicy&&e.CloudFrontSignature){var a,r,o=e.src;a=document.querySelector("video"),(r=window.dashjs.MediaPlayer().create()).getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO"),r.extend("RequestModifier",function(){return{modifyRequestHeader:function(e){return e},modifyRequestURL:function(t){return t.includes("?")?"".concat(t,"&Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature):"".concat(t,"?Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature)}}}),r.initialize(),r.setProtectionData(s),r.updateSettings({streaming:{scheduleWhilePaused:!1,fastSwitchEnabled:!0}}),r.attachView(a),r.setAutoPlay(!0),r.attachSource(o);var l=document.querySelector(".vjs-big-play-button"),c=document.querySelector(".vjs-play-control");l&&l.addEventListener("click",function(e){r.play()}),c&&c.addEventListener("click",function(e){c.classList.contains("vjs-paused")?r.play():c.classList.contains("vjs-playing")&&r.pause()})}else n.player.src(i),e.isFromVideoEnded?n.player.pause():n.player.play()}}),n.state={video:null,startedAtSetTime:!1,ratingDisplayDone:!n.isRatingEnabled(),showRatingDiscretion:!1,videoWall:!1,videoEnded:!1,showEmbed:!1,askPin:!0,showPinOverlay:e.showPinOverlay||!1,showUpgrade:!1,embedPlayable:!1,showRatingDescriptor:!1},n.bufferedPercent=0,n.playStarted=!1,n.lastBufferedTime=0,n.totalBufferTime=0,n.bufferCount=0,n.errorMessage=null,n.streamedData=[],n.triggeredPause=!1,n.isFromErrorEvent=!1,n.ratingMap=[],n.initialData={},n.sourceURL=null,n.resetHistory=!1,n.counterInitiated=null,n.toggleRatingDiscretion=n.toggleRatingDiscretion.bind(f()(n)),n.toggleEmbed=n.toggleEmbed.bind(f()(n)),n.dimensions=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},n.showUpgradePopup=n.showUpgradePopup.bind(f()(n)),n.handlePreviewSettings(),e.video&&e.video.tags&&(n.tags=e.video.tags.map(function(e){return e&&e.title}).join(",")),e.video&&e.video.categories&&(n.categories=e.video.categories.map(function(e){return e&&e.title}).join(",")),n.hardWallEnabled=Object(O.get)(window.settings,"forceLogin"),n}return w()(t,e),u()(t,[{key:"handlePreviewSettings",value:function(){var e=Object(O.get)(window.settings,"features.free_preview");if(e){var t=e.isFreePreview;this.previewshowUnit=e.length.unit;var i="Minutes"===this.previewshowUnit?60*parseFloat(e.length.multiplier):parseFloat(e.length.multiplier);this.previewTime=t&&i,this.perVideo=t&&e.per_video,this.allow_recurring_plays=t&&e.allow_recurring_plays}}},{key:"componentWillReceiveProps",value:function(){var e=l()(r.a.mark(function e(t,n){var a,o,l,c,d,p,u,h,m,g,v,y,f,b,w,E,I,S,T,P,C,k=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props.video&&(this.props.video.id||this.props.video.gist.id),o=t.video&&(t.video.id||t.video.gist.id),a!==o){e.next=4;break}return e.abrupt("return");case 4:if(l=t.video,c=null,this.state.user){e.next=29;break}if(!t.isEpisode){e.next=12;break}d=l&&l.episodePlans,c=d&&Object(O.find)(d,function(e){return"FREE"===e.monetizationModel}),e.next=22;break;case 12:if(p=l&&l.plans,u=p&&Object(O.find)(p,function(e){return"FREE"===e.type}),h=u&&u.planIds&&u.planIds[0],e.t0=h,!e.t0){e.next=20;break}return e.next=19,Object(X.e)(h);case 19:e.t0=e.sent;case 20:m=e.t0,c=m&&m[0];case 22:if(!c){e.next=29;break}if(g=c.featureSetting,v=g.isEmailRequired,y=g.isLoginRequired,f=localStorage.getItem("emailProcessed"),!(!this.state.user&&y||!f&&v)){e.next=29;break}return t.updateEntitlementScreen&&y&&t.updateEntitlementScreen([s()({},c)]),this.setState({videoWall:!0,plans:[s()({},c)]}),e.abrupt("return");case 29:if(!1!==t.isPip&&!0!==t.isPip||Promise.all([i.e(17),i.e(275)]).then(i.bind(null,1149)).then(function(e){var i=e.updateSkipRecapControl,n=e.updateSkipIntroControl;i&&i(k.player,t.video,t.isPip),n&&n(k.player,t.video,t.isPip)}),t.video&&(b=t.video,w=b.currentEpisode,E=b.currentSeason,I=b.showData,S=(I=void 0===I?{}:I).seasons,S&&S[E].episodes[w]||{}),this.player&&this.player.textTracks()&&this.player.textTracks().tracks_&&this.player.textTracks().tracks_.length>0&&(this.currentModeValue=this.player.textTracks().tracks_.find(function(e,t){return"on"===localStorage.getItem("ccDefault")&&localStorage.getItem("ccDefaultLang")===e.label?e:null})),null===this.props.user&&this.setState({videoWall:!1}),!t||!t.isEpisode&&!t.isPlaylistItem||a===o){e.next=49;break}return t.resetEntitlementScreen&&t.resetEntitlementScreen(),this.setState({video:t.video,videoEnded:!1,plans:[],videoWall:!1}),e.next=38,this.fetchVideoSources(t.video.gist.originalObjectId||t.video.gist.id,t.showPinOverlay,t);case 38:if(T=e.sent){e.next=41;break}return e.abrupt("return");case 41:this.props.video&&t.video&&this.props.video!==t.video&&(P="./newsSkin"===t.customSkin?"./newsSkin":"./skin")&&i(1082)("".concat(P,".js")).then(function(e){var i=e.updateSkipRecapControl,n=e.updateSkipIntroControl,s=e.updatePlayNextControl;i&&i(k.player,t.video,t.isPip),n&&n(k.player,t.video,t.isPip),s&&s(k.player,t.video)}),C=T&&T.src,this.playStarted=!1,this.streamedData=[],this.interval&&clearInterval(this.interval),this.player&&this.player.reset(),this.isDrmEnabledVideo?this.configureDRMPlayback(T):(this.player.src(C),this.player.load(),this.player.play()),"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateVideoTitle;i&&i(k.player,Object(O.get)(t,"video.gist"))});case 49:this.props.video&&t.video&&!this.props.video.seasons&&t.video.seasons&&"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateSeasonList;i&&i(k.player,t.video)});case 50:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}()},{key:"getSignature",value:function(){return"mp4"===this.props.fileType?Promise.resolve():Object(j.f)(this.props.videoId)}},{key:"fetchVideoSources",value:function(e,t,i){var n=this,s=this;if(this.setState({fetching:!0}),t&&Object(H.d)()&&this.state.askPin)return this.setState({initializePlayer:!0,currentVideoId:e}),Promise.resolve({src:"",type:"video/mp4"});if(this.props&&this.props.src)return Promise.resolve({src:this.props.src,type:"video/mp4"});if(!e)return Promise.reject("No Video Src or Video ID Not found");var a=void 0!==this.props.embed&&this.props.embed;return Object(j.e)(e,a,function(e){n.player&&n.player.controls(!0),i&&(s.resetHistory=!1,s.initialData={},n.addBeaconObject(i)),n.errorMessage=null;var t=e.data.video.streamingInfo;n.assets=t.videoAssets;var a=66.66*window.innerWidth/100,r="?impolicy=resize&w=".concat(a,"&h=").concat(.5625*a),o=e.data.ads&&Object(O.get)(e.data.ads,"preRoll.adTags.web.active")&&Object(O.get)(e.data.ads,"preRoll.adTags.web.url"),l=e.data.ads&&e.data.ads.features;if(n.setState({fetching:!1,isLiveStream:t.isLiveStream,isFree:n.props.isFree||Object(O.get)(e,"data.video.gist.free"),video:Object(O.get)(e,"data.video"),gist:Object(O.get)(e,"data.video.gist"),poster:"".concat(e.data.video.gist.videoImageUrl).concat(r),plans:Object(O.get)(e,"data.plans"),dfpTag:o||null,adFeatures:l||{}}),"Videos"===n.previewshowUnit&&!n.state.isFree){var c=parseInt(k.a.get("len"),10);k.a.set("len",(c||0)+1)}var d=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.hlsDetail,p="",u="",h="";if(d&&(p=d.keypairId||"",u=d.policy||"",h=d.signature||"",k.a.set("CloudFront-Key-Pair-Id",p,{expires:1,domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Policy",u,{expires:1,domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Signature",h,{expires:1,domain:".".concat(Object(N.a)(window.location.hostname))})),n.isDrmEnabledVideo=!1,n.isDrmEnabledVideo=Object(O.get)(e,"data.video.drmEnabled"),n.isDrmEnabledVideo)return!M.a.isSafari()&&n.assets.widevine&&n.assets.widevine.url?{src:n.assets.widevine.url,type:"application/dash+xml",licenseUrl:n.assets.widevine.licenseUrl,licenseToken:n.assets.widevine.licenseToken,licensePlayreadyToken:n.assets.playReady&&n.assets.playReady.licenseToken,playreadyUrl:n.assets.playReady&&n.assets.playReady.url,playReadyLicenseUrl:n.assets.playReady&&n.assets.playReady.licenseUrl}:{src:n.assets.fairPlay.url,type:"application/x-mpegURL",licenseUrl:n.assets.fairPlay.licenseUrl,licenseToken:n.assets.fairPlay.licenseToken,completeskd:n.assets.fairPlay.completeskd,certificateUrl:n.assets.fairPlay.certificateUrl};var m=Object(ne.a)(Object(O.get)(n.assets,"hls"),n.props,n,null,null,o),g=!!Object(O.isEmpty)(n.state.plans)||n.state.plans[0].featureSetting&&n.state.plans[0].featureSetting.isHdStreaming,v=n.assets.mpeg,y=n.assets.mpeg&&n.assets.mpeg.length;g||(y=(v=Object(O.filter)(n.assets.mpeg,function(e){return e.renditionValue.slice(1,-1)<720}))&&v.length);var f=Object(ne.a)(Object(O.get)(v,"[".concat(y-1,"].url")),n.props,n,null,null,o);return"hls"===n.props.fileType&&m?"snagfilms"!==window.settings.internalName&&m.includes("viewlift.com")?{src:m,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:m.includes("hoichoi.tv")||m.includes("supercrosslive.tv")?{src:m,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:"kronon"===window.settings.internalName?{src:m,type:"application/x-mpegURL",handleManifestRedirects:!0,CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:{src:m,type:"application/x-mpegURL",CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:{src:f,type:"video/mp4"}}).catch(function(e){n.setState({fetching:!1}),e&&!e.plans&&(e.plans=[]);var t={};if(e&&e.errorMessage&&n.props.embed){if(e.errorMessage.includes("Embed not allowed"))return void n.setState({embedWall:!0,embedPlayable:n.checkEmbedDomains()});if(e.errorMessage.includes("valid subscription"))return void n.setState({embedWall:!0,embedPlayable:!0})}if(e&&e.errorCode&&"SUBSCRIPTION_HOLD"===e.errorCode){var i=n.state.user&&n.state.subscription&&n.state.subscription.subscriptionInfo&&n.state.subscription.subscriptionInfo.paymentHandler,a=Object(Q.a)(window.settings,"genericMessages",e.errorCode),r=Object(Q.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");t={errorMessage:a&&r&&i&&a+" "+i+" "+r||"Your subscription is on Hold."}}else if(e&&e.errorCode&&"SUBSCRIPTION_PAUSED"===e.errorCode){var o=n.state.user&&n.state.subscription&&n.state.subscription.subscriptionInfo&&n.state.subscription.subscriptionInfo.paymentHandler,l=Object(Q.a)(window.settings,"genericMessages",e.errorCode),c=Object(Q.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");t={errorMessage:l&&c&&o&&l+" "+o+". "+c+" "+o+"."||"Your subscription is Paused."}}if(e&&e.errorCode&&"MAX_DEVICE_ERROR"===e.errorCode){k.a.set("MAX_DEVICE_ERROR",!0),setTimeout(function(){window.location.href="/user"},4e3);var d=Object(Q.a)(window.settings,"genericMessages","userDevicesExceedError")||"User has exceeded the device limit. Go to device management and remove the devices.";t={errorMessage:d,message:d}}if(e&&e.errorCode&&"VIDEO_NOT_EXISTS"===e.errorCode?t={errorMessage:Object(Q.a)(window.settings,"genericMessages","strContentNotAvailable")||"This content is not currently available."}:e&&e.errorCode&&"COUNTRY_PLAN_NOT_FOUND"===e.errorCode&&(t={errorMessage:Object(Q.a)(window.settings,"genericMessages","noPlanInContentMessage")||"This content has no plan associated."}),e&&e.errorCode&&"CANT_ACCESS_TVE_CONTENT"===e.errorCode&&(t={errorMessage:Object(Q.a)(window.settings,"genericMessages","ContentNotAvailableforTVProvider")||"The content is not available on your TV provider."}),e&&!e.playable){var p=e.plans,u=e&&e.errorCode&&e.errorCode;return u&&"MAX_STREAMS_ERROR"===u&&(p=[]),n.setState({videoWall:!0,plans:p,errorMessage:e&&t.errorMessage}),void(n.props.updateEntitlementScreen&&!s.checkIfVideoIsEntitled()&&(n.player&&(s.player.pause(),s.player.reset(),n.player.controls(!1)),n.props.updateEntitlementScreen(p)))}})}},{key:"componentDidMount",value:function(){var e=l()(r.a.mark(function e(){var t,n,a,o,l,c,d,p,u,h,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i(1145),i(1146),i(1147),i(1148),t=this.props.video,n=null,this.state.user||this.props.embed){e.next=29;break}if(!this.props.isEpisode){e.next=12;break}a=t&&t.episodePlans,n=a&&Object(O.find)(a,function(e){return"FREE"===e.monetizationModel}),e.next=22;break;case 12:if(o=t&&t.plans,l=o&&Object(O.find)(o,function(e){return"FREE"===e.type}),c=l&&l.planIds&&l.planIds[0],e.t0=c,!e.t0){e.next=20;break}return e.next=19,Object(X.e)(c);case 19:e.t0=e.sent;case 20:d=e.t0,n=d&&d[0];case 22:if(!n){e.next=29;break}if(p=n.featureSetting,u=p.isEmailRequired,h=p.isLoginRequired,m=localStorage.getItem("emailProcessed"),!(!this.state.user&&h||!m&&u)){e.next=29;break}return this.props.updateEntitlementScreen&&h&&this.props.updateEntitlementScreen([s()({},n)]),this.setState({videoWall:!0,plans:[s()({},n)]}),e.abrupt("return");case 29:this.initializePlayerControls();case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeDrmPlayer",value:function(e,t,i,n,s,a,r,o,l,c){var d=this,p={autoplay:r.autoplay,controls:r.controls,debug:r.debug,muted:r.muted,poster:r.poster,preload:r.preload};this.player=Object(P.default)(this.videoNode,p,function(){d.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:n,addResolutionControl:s,addEmbedBtn:a,addSkipIntroControl:o,addSkipRecapControl:l,addPlayNextControl:c}),d.configureDRMPlayback(e)}),window.player=this.player,this.addBeaconObject(),this.listenToPlayerEvents(),this.shouldAdsInitialize()&&this.initializeAds()}},{key:"updatePin",value:function(){this.setState({askPin:!1}),this.initializePlayerControls()}},{key:"initializePlayer",value:function(e,t,i,n,s,a,r,o,l,c,d,p){var u=this;if(e&&e.sources[0]&&e.sources[0].CloudFrontKeyPairId&&e.sources[0].CloudFrontPolicy&&e.sources[0].CloudFrontSignature&&"video/mp4"!==e.sources[0].type){var h=e.sources[0].CloudFrontKeyPairId,m=e.sources[0].CloudFrontPolicy,g=e.sources[0].CloudFrontSignature;M.a.isSafari()&&(P.default.options.hls.overrideNative=!0,P.default.options.html5.nativeAudioTracks=!1,P.default.options.html5.nativeVideoTracks=!1),P.default.options.hls.withCredentials=!0,P.default.Hls.xhr.beforeRequest=function(e){e.uri.includes("?")?e.uri="".concat(e.uri,"&Key-Pair-Id=").concat(h,"&Policy=").concat(m,"&Signature=").concat(g):e.uri="".concat(e.uri,"?Key-Pair-Id=").concat(h,"&Policy=").concat(m,"&Signature=").concat(g)}}this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&(window.registerIVSTech(P.default),e.techOrder=["AmazonIVS"]),this.player=Object(P.default)(this.videoNode,e,function(){u.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:n,addResolutionControl:s,addEmbedBtn:a,addSkipControl:r,addVideoTitle:o,addSeasonList:l,addSkipIntroControl:c,addSkipRecapControl:d,addPlayNextControl:p})}),window.player=this.player,this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&window.player.src(e.sources[0].src),this.addBeaconObject(),this.props.getVideoRef&&this.props.getVideoRef(this.player);var v=document.getElementsByClassName("next-episode")[0];v&&v.addEventListener("click",function(){u.shouldAdsInitialize()&&u.initializeAds()}),this.listenToPlayerEvents(),this.shouldAdsInitialize()&&this.initializeAds()}},{key:"appendRemainingContainer",value:function(e,t){e.el_.append(t)}},{key:"getRemainingTime",value:function(e){var t=Math.floor(e/60),i=Math.floor(e-60*t),n=document.querySelector(".remaining-time-wrapper");n&&(n.style.visibility="visible");var s=document.querySelector(".time-elapsed");s&&(s.innerHTML="".concat(t,":").concat(i<10?"0"+i:i))}},{key:"toggleEmbed",value:function(){this.setState({showEmbed:!this.state.showEmbed})}},{key:"showUpgradePopup",value:function(){this.setState({showUpgrade:!this.state.showUpgrade})}},{key:"listenToPlayerEvents",value:function(){var e=this,t=this;this.player.one(M.a.isMobile()?"touchend":"click",function(t){e.startVideo()}),this.player.one("loadeddata",function(){var i=Object(O.get)(e.state.video,"gist.runtime");(isFinite(e.player.duration())||isFinite(i)||document.getElementsByClassName("VideoJS")[0].classList.add("live"),e.isFromErrorEvent)?e.isFromErrorEvent=!1:!(t.perVideo&&t.allow_recurring_plays&&!t.counterInitiated&&(t.props.user&&t.props.user.isSubscribed||!t.props.user))&&e.props.startTime&&e.player.currentTime(e.props.startTime)}),this.player.on("firstplay",function(i){if(!e.playStarted&&e.state.video){var n=e.state.video,s=n.gist,a=void 0===s?{}:s,r=n.creditBlocks,o=void 0===r?[]:r,l=n.categories,c=void 0===l?[]:l,d=n.parentalRating,p=void 0===d?"NA":d;c.push(a.primaryCategory||{});var u=window.location.pathname.match(/movies|kids|originals|shows/g)||["videos"];e.playData={contentTypeDetail:u[0],freeOrPaid:a.isFree?"Free":a.free?"Free":"Paid",rating:p};var h=Object(O.filter)(e.props.closedCaptions||Object(O.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"}),m=Math.floor(t.player.currentTime()),g=e.beacon&&e.beacon.getBitrate()||null;if(k.a.set("getBitrate",g),e.videoEventData={contentId:a.id,contentTitle:a.title,contentType:a.isTrailer?"Trailer":"EPISODIC"===a.mediaType?"Episode":"Video",contentDuration:a.runtime,playbackType:"Streamed",platform:"Web",bufferCount:e.bufferCount,bufferTime:Object(O.round)(e.totalBufferTime),bitRate:e.beacon.getBitrate(),watchedTime:m>e.lastBufferedTime?Object(O.round)(m-e.lastBufferedTime):Object(O.round)(m),subtitles:h.length?"Y":"N",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi"},"EPISODIC"===a.mediaType&&e.props.video&&e.props.video.showData&&(k.a.set("episodeNumber",e.props.video.currentEpisode+1),k.a.set("seasonNumber",e.props.video.currentSeason+1),o=e.props.video.showData.creditBlocks,(c=e.props.video.showData.categories).push(e.props.video.showData.gist.primaryCategory||{}),e.videoEventData=Object(O.extend)({},e.videoEventData,{episodeNumber:e.props.video.currentEpisode+1,seasonNumber:e.props.video.currentSeason+1,showName:e.props.video.showData.gist.title})),e.videoEventData.playSource=Object(V.c)()+(e.props.video&&e.props.video.showData?"_Show Detail":"_Video Detail"),Object(O.each)(o,function(t){"director"===t.title.trim().toLowerCase()&&(e.videoEventData.directorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):""),"starring"===t.title.trim().toLowerCase()&&(e.videoEventData.actorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):"")}),e.videoEventData.contentGenre=c.map(function(e){return e.title}).join(","),Object(V.g)("Play Started",Object(O.extend)({},e.videoEventData,e.playData)),e.playStarted=!0,!e.shouldAdsInitialize()){var v=a&&a.metadata;Object(te.checkRatingDescriptors)(v)&&e.enableRatingDescriptor()}}});var i=[],n=[];this.player.on("timeupdate",function(s){e.onTimeUpdate(t,i,n)}),this.player.on("pause",function(){t.triggeredPause=!0}),this.player.on("play",function(){if(!0===t.triggeredPause){var e=void 0!==t.props.embed&&t.props.embed;Object(j.e)(t.props.videoId,e,function(e){}).catch(function(e){t.setState({errorMessage:e&&(e.errorMessage||e.message)}),t.errorMessage=t.state&&t.state.errorMessage})}t.triggeredPause=!1}),this.player.on("waiting",function(i){e.bufferCount+=1;var n=e.player.currentTime(),s=[],a=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||0,r=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==a&&r&&n>=a&&n%a===0&&t.props.user&&!Object(O.includes)(s,n)&&!e.props.isTrailer&&isFinite(e.player.duration())){s.push(n);var o=Math.floor(e.player.duration());e.sendWatchedInfo(n,o).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var l=Math.floor(e.player.duration());!Object(O.includes)(s,n)&&r&&t.props.user&&!e.props.isTrailer&&!t.props.isPromo&&isFinite(e.player.duration())&&parseInt(l)-parseInt(n)<5&&(t.resetHistory||e.sendWatchedInfo(n,l,!0).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}));var c=setInterval(function(){try{e.player&&e.player.currentTime()<=n+.1&&!e.player.paused()?e.totalBufferTime=e.totalBufferTime+.1:clearInterval(c)}catch(t){clearInterval(c)}},100)}),this.player.on("ended",function(t){if(window.settings.features.auto_play){e.props.isPlaylistItem&&e.setState({videoEnded:!0}),e.props.isEpisode&&e.props.video.nextEpisode&&e.setState({videoEnded:!0});var i=Object(O.get)(e.props,"video.contentDetails.relatedVideoIds");if(window.settings&&window.settings.recommendation&&window.settings.recommendation.isRecommendation&&window.settings.recommendation.isRecommendationAutoPlay&&k.a.get("isFromRecommendationTray")&&"true"==k.a.get("isFromRecommendationTray")&&localStorage.getItem("recommendedVideoIds")&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records.length>0){if(!(i=JSON.parse(localStorage.getItem("recommendedVideoIds")).records.filter(function(e,t){if(e.gist.mediaType&&"series"!==e.gist.mediaType.toLowerCase()||e.gist.contentType&&"series"!==e.gist.contentType.toLowerCase())return e.gist&&null!=e.gist.id}).map(function(e,t){return e.gist.id}))||0===i.length)return;var n=Object(O.get)(e.props,"video.gist.id"),s=0;if(void 0===i.find(function(e,t){return s=t,e===n}))return;if(s>=i.length)return;Object(j.d)(i[s+1],function(e){window.location.href=e.data.video.gist.permalink})}else if(i&&0!==i.length){if(!e.props.isEpisode&&!e.props.isPlaylistItem&&!e.props.isNewsTrailer){var a=null!==window.sessionStorage.getItem("rvid")?parseInt(window.sessionStorage.getItem("rvid"),10)+1:0;window.sessionStorage.setItem("rvid",a),Object(j.d)(i[a],function(e){window.location.href=e.data.video.gist.permalink})}}else e.isDrmEnabledVideo&&e.fetchVideoSources(e.props.video.gist.originalObjectId||e.props.videoId).then(function(t){t.isFromVideoEnded=!0,e.configureDRMPlayback(t)})}}),this.player.on("error",function(t){var i={};e.videoEventData&&Object(O.assignIn)(i,e.videoEventData),i.errorMessage=e.player.error().message,Object(V.g)("Media Error",i);var n=Math.floor(e.player.currentTime());5===e.player.error().code&&e.isDrmEnabledVideo&&(M.a.isSafari()?(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.video.gist.originalObjectId||e.props.videoId).then(function(t){t.certificateUrl="https://v-".concat(window.settings.internalName,".viewlift.com/fairplay.cer"),e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(n),e.player.play()})):(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.videoId).then(function(t){e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(n),e.player.play()}))),(3===e.player.error().code||-3===e.player.error().code)&&e.props.video&&e.props.video.gist.isLiveStream&&e.fetchVideoSources(e.props.video.gist.originalObjectId||e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t.src),e.player.load()}),2===e.player.error().code&&e.fetchVideoSources(e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t.src),e.player.load(),e.player.play()})}),this.player.on("ready",function(t){var i=Object(O.filter)(e.props.closedCaptions||Object(O.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"});e.updateCaptions(i,e.currentModeValue),e.videoPersonalizationHandler()}),this.player.on("ended",function(t){e.props.videoEndedHandler&&e.props.videoEndedHandler()})}},{key:"refreshPlayer",value:function(){this.player.currentTime()===this.bufferedPercent?(this.bufferedPercent++,this.player.currentTime(this.bufferedPercent)):clearInterval(this.refresh)}},{key:"sendWatchedInfo",value:function(){var e=l()(r.a.mark(function e(t,i,n){var s,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetHistory=n,s=this.props.video&&this.props.video.gist&&this.props.video.gist.originalObjectId||this.props.videoId,this.initialData.videoId&&this.initialData.videoId!==this.props.videoId||this.initialData.watchedTime===t){e.next=10;break}return this.props.overlay&&(a=localStorage.getItem("vrtm")||"{}")&&((o=JSON.parse(a))[s]=t,localStorage.setItem("vrtm",JSON.stringify(o))),this.initialData.videoId=this.props.videoId,this.initialData.watchedTime=t,e.next=9,Object(D.p)({videoId:s,watchedTime:t,watchedPercentage:Math.floor(t/i*100),siteOwner:window.settings.internalName,userId:this.props.user&&this.props.user.userId}).then(function(e){return e}).catch(function(e){return console.log(e),e});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return function(t,i,n){return e.apply(this,arguments)}}()},{key:"sendWatchedEventData",value:function(e,t){if(this.videoEventData){var i=!1,n=Math.floor(e/t*100),s=Object(O.extend)({},this.videoEventData,this.playData);if(e>=120&&n<25&&-1===this.streamedData.indexOf("2 mins")?(this.streamedData.push("2 mins"),i=!0):n>=25&&n<50&&-1===this.streamedData.indexOf(25)?(this.streamedData.push(25),i=!0):n>=50&&n<75&&-1===this.streamedData.indexOf(50)?(this.streamedData.push(50),i=!0):n>=75&&n<80&&-1===this.streamedData.indexOf(75)?(this.streamedData.push(75),i=!0):n>=80&&-1===this.streamedData.indexOf(80)&&(this.streamedData.push(80),i=!0),i){var a="";this.props.video&&Object(O.get)(this.props.video,"showData.gist.title")&&(a=this.props.video.showData.gist.title);var r=this.streamedData[this.streamedData.length-1];k.a.set("stream",r);var o=Object(O.filter)(this.props.closedCaptions||Object(O.get)(this.state,"video.contentDetails.closedCaptions"),{format:"VTT"});s.subtitles=o.length?"Y":"N",s.stream=r,s.bufferTime=Object(O.round)(this.totalBufferTime),s.bufferCount=this.bufferCount,s.watchedTime=e>this.lastBufferedTime?Object(O.round)(e-this.lastBufferedTime):Object(O.round)(e),s.bitRate=this.beacon.getBitrate(),s.seasonNumber=this.props.video&&this.props.video.currentSeason||"",s.episodeNumber=this.props.video&&this.props.video.currentEpisode||"",s.showName=a,s.platform="Web",s.networkType=window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",Object(V.g)("Watched",s),this.lastBufferedTime=e,this.totalBufferTime=0,this.bufferCount=0}}}},{key:"startVideo",value:function(){void 0!==this.props.videoTag&&this.props.hideAds;if(this.shouldAdsInitialize())return this.player.ima.initializeAdDisplayContainer&&this.player.ima.initializeAdDisplayContainer(),void this.listenToAdEvents();this.toggleRatingDiscretion()}},{key:"initializeAds",value:function(e,t){var i=this,n=e&&e||this.state.dfpTag||this.props.videoTag,s=n.includes("spotx")?"spotx":"google";if(t?t.adUrl=null:this.adUrl=null,n=Object(ne.a)(n,this.props,this,null,null,n,!0),"google"===s){var a=n.indexOf("cust_params="),r=new URL(n),o=r.search,l=new URLSearchParams(o);a>=0?(l.set("description_url",window.location),l.set("vid",this.props.videoId),l.set("cust_params","vid="+this.props.videoId),l.set("correlator",(new Date).getTime())):(l.set("description_url",window.location),t?l.set("vid",t.props.videoId):l.set("vid",this.props.videoId),l.set("url",window.location.href),l.set("correlator",(new Date).getTime()),l.set("cust_params=sd",6e4),t?l.append("vid",t.props.videoId):l.append("vid",this.props.videoId)),l.append("site",window.location.origin),l.append("autostart",""),l.append("mute",""),l.append("user_agent",""),l.append("keyword",""),t?l.append("category",t.props.category):l.append("category",this.props.category),l.append("categories",this.categories),l.append("tags",this.tags),r.search=l.toString();var c=r.toString();t?t.adUrl=c:this.adUrl=c}else if("spotx"===s){var d=new URL(n),p=d.search,u=new URLSearchParams(p);u.set("content_page_url",window.location.href),u.set("player_width",this.player.el_.clientWidth),u.set("player_height",this.player.el_.clientHeight),u.set("user[consent]",!0),u.set("regs[gdpr]",!0),u.set("cb",(new Date).getTime().toString()),d.search=u.toString();var h=d.toString();this.adUrl=h}var m=t?t.player:this.player;"function"===typeof m.ima?m.ima({id:"vjs_video_3",adTagUrl:this.adUrl,adLabel:"Your video will resume after this sponsor message"}):setTimeout(function(){m.ima.setContentWithAdTag(null,i.adUrl,!0),m.ima.requestAds()},1e3)}},{key:"listenToAdEvents",value:function(){var e=this;this.player.on("adsready",function(){window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()}),window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.AD_ERROR,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()})})}},{key:"toggleRatingDiscretion",value:function(){return this.isRatingEnabled()&&!this.state.ratingDisplayDone?this.showRatingDiscretion():this.hideRatingDiscretion()}},{key:"componentWillUnmount",value:function(){try{this.player&&this.player.dispose()}catch(e){}}},{key:"componentDidUpdate",value:function(e,t){if(!e.modalOpen&&this.props.modalOpen){if(!this.player||!this.player.player_)return;this.player.pause(),"undefined"!==typeof window.google&&this.player&&this.player.ima&&Object(O.isFunction)(this.player.ima.pause)&&this.player.ima.pause()}else e.modalOpen&&!this.props.modalOpen&&"undefined"!==typeof window.google&&this.player&&Object(O.isFunction)(this.player.ima.resume)&&this.player.ima.resume();var i=this.perVideo&&this.allow_recurring_plays&&!this.counterInitiated&&(this.props.user&&this.props.user.isSubscribed||!this.props.user);this.player&&!this.state.startedAtSetTime&&!i&&this.props.startTime&&e.startTime!==this.props.startTime&&(this.player.currentTime(this.props.startTime),this.setState({startedAtSetTime:!0})),!t.showEmbed&&this.state.showEmbed&&this.player.pause()}},{key:"isRatingEnabled",value:function(){return Object(O.get)(window.settings,"user_content_rating",!1)&&!this.props.isTrailer&&this.parentalRating&&"NR"!==this.parentalRating}},{key:"hideRatingDiscretion",value:function(){this.player.play(),this.setState({showRatingDiscretion:!1,ratingDisplayDone:!0})}},{key:"showRatingDiscretion",value:function(){this.player.pause(),this.setState({showRatingDiscretion:!0})}},{key:"updateCaptions",value:function(e,t){var i=this,n="on"===localStorage.getItem("ccDefault"),s=localStorage.getItem("ccDefaultLang");if(this.player&&e&&(Object(O.map)(this.player.remoteTextTrackEls(),function(e){i.player.removeRemoteTextTrack(e)}),Object(O.map)(e,function(e){i.player.addRemoteTextTrack({src:e.url,manualCleanup:!0,srcLang:e.language,label:e.language},!0)}),(t||n)&&this.player.textTracks()&&this.player.textTracks().tracks_.length>0)){var a=this.player.textTracks().tracks_.find(function(e){return n&&e.label===s?e:null});a&&(a.mode="showing")}this.setCCSettings()}},{key:"playVideoCb",value:function(){this.setState({videoWall:!1}),this.initializePlayerControls()}},{key:"render",value:function(){var e=this,t=Boolean(this.props&&this.props.video&&this.props.video.gist&&this.props.video.gist.clevertapPopupTime),i=Object(O.get)(this.props&&this.props.video,"gist.metadata")||"",n=this.props.video&&this.props.video.nextEpisode&&this.props.video.nextEpisode.id||null,s=Object(O.get)(this.props,"video.gist.id")||null;return n&&n===s&&this.props.overlay&&this.state.videoEnded&&Object(K.hide)(),T.a.createElement("div",{onMouseEnter:this.playerEnter,onMouseLeave:this.playerLeave},this.state.fetching&&T.a.createElement(ie.default,{videoGist:this.props.video&&this.props.video.gist}),t&&void 0!==this.player&&T.a.createElement($.default,{player:this.player,video:this.props&&this.props.video,userId:this.props&&this.props.user&&this.props.user.userId}),this.state.EPGScreen&&T.a.createElement(ee.default,{item:this.state.epgData}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&!this.props.isPlaylistItem&&T.a.createElement(F.default,{backgroundUrl:this.props.video.nextEpisode.videoImageUrl,nextVideoTitle:this.props.video.nextEpisode.title,timer:3,action:this.props.video.playNextEpisode,initializeAds:this.shouldAdsInitialize()&&this.initializeAds,videoTag:this.state.dfpTag||this.props.videoTag,thisTimer:this}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&this.props.isPlaylistItem&&this.props.nextVideoDataAction.nextVideoData.gist&&T.a.createElement(F.default,{backgroundUrl:this.props.nextVideoDataAction.nextVideoData.gist.videoImageUrl,nextVideoTitle:this.props.nextVideoDataAction.nextVideoData.gist.title,timer:3,isPlaylistItem:this.props.isPlaylistItem,action:this.props.nextVideoDataAction.playNextAction}),this.state.videoWall&&T.a.createElement(Y.default,{isEpisode:this.props.isEpisode,content:this.props.video,videoGist:this.props.video&&this.props.video.gist,plans:this.state.plans,cb:function(){return e.playVideoCb()},metadataMap:Object(O.get)(this,"props.metadataMap")||{},errorMessage:this.state.errorMessage}),this.state.embedWall&&T.a.createElement(q.default,{isEpisode:this.props.isEpisode,content:this.props.video,embedPlayable:this.state.embedPlayable,videoGist:this.props.video&&this.props.video.gist}),Object(H.d)()&&this.state.askPin&&(this.props.showPinOverlay||this.state.showPinOverlay)&&T.a.createElement(z.default,{videoId:this.props.videoId,askPin:this.state.askPin,initializePlayer:function(){return e.initializeOverlayPlayer()},changePinState:function(){return e.updatePin()}}),this.state.showUpgrade&&T.a.createElement(_.default,{toggleUpgrade:this.showUpgradePopup}),T.a.createElement("div",{"data-vjs-player":!0},T.a.createElement("div",null,this.state.showRatingDescriptor&&i&&i.length>0&&T.a.createElement(te.default,{metadataArray:i,isPip:this.props.isPip})),this.state.showRatingDiscretion&&T.a.createElement(x.default,{hide:this.hideRatingDiscretion.bind(this),rating:this.parentalRating}),this.state.showEmbed&&T.a.createElement(L.default,{videoId:this.props.videoId,toggleEmbed:this.toggleEmbed}),T.a.createElement("video",{ref:function(t){return e.videoNode=t},playsInline:!0,id:"videoplayer",className:"video-js"+(this.hasAccess||this.props.isFree?"":" hd-cc")})))}},{key:"parentalRating",get:function(){return this.props.parentalRating||Object(O.get)(this.props,"video.parentalRating")}}]),t}(T.a.Component);Object(U.a)(ae,function(e){return{user:e.user,subscription:e.subscription&&e.subscription.subscription}},W.a),t.default=ae},1114:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(20),u=i.n(p),h=i(0),m=i.n(h),g=i(218),v=i(12),y=function(e){function t(){return s()(this,t),l()(this,d()(t).apply(this,arguments))}return u()(t,e),r()(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"upgrade-prompt"},m.a.createElement("div",{className:"upgrade-overlay"},m.a.createElement("div",{onClick:this.props.toggleUpgrade}," ",m.a.createElement(g.k,null)),Object(v.a)(window.settings,"genericMessages","featureRestrictUpgradeMsg"),m.a.createElement("button",{className:"upgrade-button cta",onClick:function(){return window.location="/user"}},Object(v.a)(window.settings,"genericMessages","upgradeNow"))))}}]),t}(m.a.Component);t.default=y},1115:function(e,t,i){"use strict";i.r(t);var n=i(5),s=i.n(n),a=i(10),r=i.n(a),o=i(14),l=i.n(o),c=i(16),d=i.n(c),p=i(17),u=i.n(p),h=i(18),m=i.n(h),g=i(19),v=i.n(g),y=i(20),f=i.n(y),b=i(0),w=i.n(b),E=i(201),I=i(7),S=i(31),T=i(2),P=i(12),O=i(1123),C=i(1081),k=(i(1153),function(e){function t(e){var i;return d()(this,t),(i=m()(this,v()(t).call(this,e))).state={plansByType:[],loading:!0,emailProcessing:!1,plans:i.props.plans},i.dimensions=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},i}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.updatePlans()}},{key:"updatePlans",value:function(){if(this.state.plans&&this.state.plans.length>0){var e=Object(T.groupBy)(this.state.plans,"monetizationModel");if(this.isFree=Object.keys(e)&&Object.keys(e).includes("FREE"),this.isTVE=Object.keys(e)&&Object.keys(e).includes("TVE"),this.isFree){var t=Object(T.find)(this.state.plans,function(e){return"FREE"===e.monetizationModel}).featureSetting,i=t.isEmailRequired,n=t.isLoginRequired;this.setState({plansByType:e,isEmailRequired:i,isLoginRequired:n,loading:!1})}else this.setState({plansByType:e,isEmailRequired:!1,isLoginRequired:!1,loading:!1})}else this.setState({plansByType:[],isEmailRequired:!1,isLoginRequired:!1,loading:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({plans:e.plans},function(){t.updatePlans()})}},{key:"emailForm",value:function(){var e=this;return w.a.createElement("form",{className:"emailForm",onSubmit:function(t){e.signUp(t)}},w.a.createElement("label",null,Object(P.a)(window.settings,"genericMessages","enterEmailLabel")),w.a.createElement("input",{type:"email",ref:function(t){e.emailInput=t},required:!0}),this.state.emailRequiredError&&w.a.createElement("div",{className:"emailError"},this.state.emailRequiredError),w.a.createElement("input",l()({className:"cta",type:"submit",value:this.state.emailProcessing?Object(P.a)(window.settings,"genericMessages","pleaseWaitMessage"):Object(P.a)(window.settings,"genericMessages","continueCta")},"className","cta")))}},{key:"signUp",value:function(){var e=r()(s.a.mark(function e(t){var i,n,a=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({emailProcessing:!0}),i={email:this.emailInput&&this.emailInput.value,ignorePassword:!0},n={site:window.settings.internalName},e.next=6,Object(E.b)({method:"POST",url:"".concat(window.settings.apiBaseUrl,"/identity/email/capture"),params:n,data:i,headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(e){localStorage.setItem("emailProcessed",!0),a.props.cb&&a.props.cb()}).catch(function(e){var t=Object(T.get)(e,"response.data");t&&t.code&&"EMAIL_ALREADY_LINKED"===t.code?(localStorage.setItem("emailProcessed",!1),a.setState({emailProcessing:!1,emailRequiredError:Object(P.a)(window.settings,"genericMessages","emailAlreadyLinked")||t&&t.error,isEmailRequired:!0})):a.setState({emailProcessing:!1,emailRequiredError:t&&t.error})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};if(t=this.props.videoGist.videoImageUrl?{backgroundImage:"url(".concat(this.props.videoGist.videoImageUrl,"?impolicy=resize&w=").concat(this.dimensions.width,"&h=").concat(this.dimensions.height,")"),backgroundPosition:"center",backgroundSize:"cover"}:{backgroundPosition:"center",backgroundSize:"cover"},this.state.loading)return w.a.createElement("div",{className:"waysSpinner",style:t}," ",w.a.createElement("div",{className:"spinner site-color"})," ");if(this.state.user&&"HOLD"===this.state.user.subscriptionStatus){var i=this.state.user.subscription,n=i.subscriptionInfo&&i.subscriptionInfo.paymentHandler,s=Object(P.a)(window.settings,"genericMessages","SUBSCRIPTION_HOLD"),a=Object(P.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");return w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement("div",{className:"contentNotAvailable"},s&&a&&n&&s+" "+n+" "+a+"."||"Your subscription is on Hold."))}if(this.state.user&&"PAUSED"===this.state.user.subscriptionStatus){var r=this.state.user.subscription,o=r.subscriptionInfo&&r.subscriptionInfo.paymentHandler,l=Object(P.a)(window.settings,"genericMessages","SUBSCRIPTION_PAUSED"),c=Object(P.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");return w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement("div",{className:"contentNotAvailable"},l&&c&&o&&l+" "+o+". "+c+" "+o+"."||"Your subscription is Paused."))}if(this.props.videoGist.scheduleEndDate&&this.props.videoGist.scheduleEndDate-Date.now()<0)return w.a.createElement("div",{className:"waysSpinner",style:t}," ",w.a.createElement("div",{className:"contentNotAvailable"},Object(P.a)(window.settings,"genericMessages","videoNotPlayableDialogTitle")));if(this.props.videoGist.scheduleStartDate&&this.props.videoGist.scheduleStartDate-Date.now()>0){var d=this.props.content&&Object(C.f)(this.props.content,this.props.plans);return w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement(O.a,{header:"Time until this video is available!",startTime:this.props.videoGist.scheduleStartDate,hide:function(){return e.props.cb()}}),d&&!this.isFree&&w.a.createElement("div",{className:"purchased-copy"},w.a.createElement("p",null,Object(P.a)(this.props,"metadataMap","videoAlreadyPurchasedLabel")||"You have purchased this video. Sit back, and enjoy when it starts")))}return Object(T.isEmpty)(this.state.plansByType)?w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement("div",{className:"contentNotAvailable"},this.props.errorMessage?this.props.errorMessage:Object(P.a)(window.settings,"genericMessages","ContentNotAvailableInYourArea"))):this.state.user&&this.state.user.istveLoggedIn&&this.isTVE?w.a.createElement("div",{className:"waysSpinner",style:t}," ",w.a.createElement("div",{className:"contentNotAvailable"},this.props.errorMessage?this.props.errorMessage:Object(P.a)(window.settings,"genericMessages","ContentNotAvailableforTVProvider"))):w.a.createElement("div",{className:"waysToWatchPrompt",style:t},w.a.createElement("div",{className:"overlay"},w.a.createElement("div",{className:"optionTypes"},!this.state.user&&!this.state.isLoginRequired&&this.state.isEmailRequired&&this.emailForm())))}}]),t}(w.a.Component));Object(S.a)(k,function(e){return{user:e.user}},I.a),t.default=k},1116:function(e,t,i){},1117:function(e,t,i){"use strict";i.r(t);var n=i(0),s=i.n(n);t.default=function(e){var t=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},i={};return i=e.videoGist.videoImageUrl?{backgroundImage:"url(".concat(e.videoGist.videoImageUrl,"?impolicy=resize&w=").concat(t.width,"&h=").concat(t.height,")"),backgroundPosition:"center",backgroundSize:"cover"}:{backgroundPosition:"center",backgroundSize:"cover"},s.a.createElement("div",{className:"waysSpinner",style:i}," ",s.a.createElement("div",{className:"spinner site-color"})," ")}},1118:function(e,t,i){"use strict";i.d(t,"f",function(){return c}),i.d(t,"g",function(){return p}),i.d(t,"e",function(){return u}),i.d(t,"a",function(){return h}),i.d(t,"h",function(){return m}),i.d(t,"b",function(){return g}),i.d(t,"c",function(){return v}),i.d(t,"d",function(){return y});i(233);var n=i(9),s=i.n(n),a=i(1080),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=function(e){return r[new Date(e).getDay()]},c=function(e){var t,i=new Date(e),n=i.getHours(),s=n>12?n-12:n,a=i.getMinutes(),r=n>=12?"PM":"AM";return"".concat(s,":").concat((t=a,t<=9?"0"+t:t)," ").concat(r)},d=function(e,t){return(e.timestamp||e.gist.scheduleStartDate)-(t.timestamp||t.gist.scheduleStartDate)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=e.reduce(function(e,t){var i=t.gist.scheduleStartDate,n=l(i)+new Date(i).getDate();return e[n]&&(e[n].events?e[n].events.push(t):e[n]=s()({},e[n],{events:[t]})),e},function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=Date.now(),i=[];i.length<7*e;){var n=l(t),s=o[new Date(t).getMonth()],a=new Date(t).getDate(),r={day:n,date:a,month:s,timestamp:t,key:n+a};i.push(r),t+=864e5}return i.reduce(function(e,t){var i=t.key,n=t.day,s=t.date,a=t.month,r=t.timestamp;return e[i]={day:n,date:s,month:a,timestamp:r},e},{})}(t));return Object.values(i).sort(d).map(function(e){var t=e.events?e.events.sort(d):null;return{day:e.day,date:e.date,month:e.month,events:t}})},u=function(e,t){return Math.abs((t-e)/864e5)},h={RIGHT:"right",LEFT:"left",BOTH:"both",NONE:"none"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"MM/DD",t=new Date;return Object(a.format)(t,e)},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY",i=Object(a.parse)(e);return Object(a.format)(i,t)},v=function(e,t){e=Number(e);var i=Math.floor(e/3600),n=Math.floor(e%3600/60),s=Math.floor(e%3600%60),a=i>0?i+"H":"",r=n>0?n+"M":"",o=s>0?s+"S":"";return"ISO 8601 format"===t?"PT"+a+r+o:a+r+o},y=function(e){var t=e&&new Date(e);return t&&t.toISOString()}},1119:function(e,t,i){"use strict";i.r(t);var n=i(9),s=i.n(n),a=i(5),r=i.n(a),o=i(10),l=i.n(o),c=i(16),d=i.n(c),p=i(17),u=i.n(p),h=i(18),m=i.n(h),g=i(19),v=i.n(g),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),I=i.n(E),S=i(0),T=i.n(S),P=i(1103),O=(i(1143),i(1144),i(1109),i(2)),C=i(1),k=i.n(C),j=i(1079),D=i(219),A=i(1120),N=i(562),R=i(1110),M=i(242),L=i(1090),_=i(1091),x=i(1088),F=i(1111),V=i(32),U=function(e,t){var i=e.user&&e.user.isSubscribed,n=!!t.purchaseStatus;return{FREE:!0,AVOD:!0,TVOD:n,SVOD:i,PPV:n,"SVOD+TVOD":n||i,"SVOD+PPV":n||i}[e.pricingOptions&&e.pricingOptions.type||t.pricing&&t.pricing.type||window.settings.serviceType]},W=i(31),B=i(7),z=i(1092),H=i(236),G=i(1084),q=i(235),K=i(1093),Q=i(15),Y=i(12),X=i(1112),J=i(1094),Z=i(1095),$=i(237),ee=i(1096),te=i(1097);window.videojs=P.default,i(1089);var ie=function(e){function t(e){var n;return d()(this,t),n=m()(this,v()(t).call(this,e)),I()(f()(n),"showPinOverlay",l()(r.a.mark(function e(){var t,i,s,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n.props.showPinOverlay){e.next=12;break}if(t=!1,i=n.props.user&&n.props.user.parentalControl&&n.props.user.parentalControl.parentalRating,s=n.props.video&&n.props.video.parentalRating,!i||n.state.showPinOverlay||"string"!=typeof i){e.next=12;break}if(!n.ratingMap.length){e.next=9;break}a=n.ratingMap&&n.ratingMap.find(function(e){return e.key===i}),e.next=11;break;case 9:return e.next=11,Object(q.getRatingList)().then(function(e){n.ratingMap=e,a=e&&e.find(function(e){return e.key===i})}).catch(function(e){n.setState({showPinOverlay:!1})});case 11:a&&a.value&&(t=a.value.includes(s),n.setState({showPinOverlay:t}));case 12:case"end":return e.stop()}},e)}))),I()(f()(n),"initializePlayerControls",function(){var e=l()(r.a.mark(function e(t){var s,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(276).then(i.bind(null,1150));case 2:if(a=e.sent,!window.SERVER_SIDE_RENDERING){e.next=5;break}return e.abrupt("return");case 5:n.perVideo&&!n.props.isTrailer&&localStorage.setItem("title",n.props.video.gist.title),a.getAutoplaySupport().then(function(e){return s=e,t||n.fetchVideoSources(n.props.videoId)}).then(function(e){n.setState({videoAssets:e});var t=n.props.autoplay&&s.autoplayAllowed||!1,a=Object(O.get)(window,"settings.features.mute_sound"),r="boolean"===typeof a?a:s.autoplayRequiresMute;if(e){var o=Object(X.a)(Object(O.get)(n.assets,"hls"),n.props,f()(n));if("mp4"===("hls"===n.props.fileType&&o?"hls":"mp4")){var l=Object(X.a)(e.src,n.props,f()(n),t,r);e.src=Object(te.getSourceSrc)(l,n.assets)}else e.src=Object(X.a)(e.src,n.props,f()(n),t,r)}var c={controlBar:n.props.isCheck?{captionsButton:!1,volumePanel:!1,muteToggle:!0,pictureInPictureToggle:!1,chaptersButton:!1,subtitlesButton:!1,remainingTimeDisplay:!1,durationDisplay:!1,timeDivider:!1,currentTimeDisplay:!1,progressControl:{seekBar:!1,keepTooltipsInside:!0},playbackRateMenuButton:!1}:{},controls:!0,autoplay:t,muted:r,preload:!0,poster:n.state.poster,sources:[e],debug:!0};n.props.customControls&&(c.controlBar=n.props.customControls);var d="./skin";n.props.customSkin&&(d=n.props.customSkin),i(1082)("".concat(d,".js")).then(function(t){var i=t.replaceIcons,s=t.addRewindControl,a=t.customizeCaptions,r=t.addResolutionControl,o=t.addEmbedBtn,l=t.addSkipControl,d=t.addVideoTitle,p=t.addSeasonList,u=t.addSkipIntroControl,h=t.addSkipRecapControl,m=t.addPlayNextControl;n.showPinOverlay().then(function(t){var g=[e,function(){},a,r,c,u,h,m],v=[c,function(){},function(){},r,l,d,p,u,h,m];try{if(n.addResolutionControl=r,n.isDrmEnabledVideo&&e.type&&("application/dash+xml"===e.type||"application/x-mpegURL"===e.type))if(Object(G.d)()&&n.state.askPin&&(n.props.showPinOverlay||n.state.showPinOverlay))n.videoRestrictions();else{var y;if(n.props.isCheck)(y=n).initializeDrmPlayer.apply(y,g);else n.initializeDrmPlayer(e,i,s,a,r,o,c,u,h,m);n.videoNode&&Object(Z.configKeyShortcuts)(n.player,n.videoNode)}else if(Object(G.d)()&&n.state.askPin&&(n.props.showPinOverlay||n.state.showPinOverlay))n.videoRestrictions();else{var f;if(n.props.isCheck)e&&(f=n).initializePlayer.apply(f,v);else e&&n.initializePlayer(c,i,s,a,r,o,l,d,p,u,h,m);n.videoNode&&Object(Z.configKeyShortcuts)(n.player,n.videoNode)}}catch(b){console.log(b)}})})}).catch(function(e){e&&e.errorMessage&&e.errorMessage.includes("valid subscription")?n.setState({videoWall:!0}):n.setState({errorMessage:e.errorMessage||e.message})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),I()(f()(n),"videoRestrictions",l()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(G.d)()){e.next=5;break}return e.next=3,n.setState({askPin:!0});case 3:e.next=7;break;case 5:return e.next=7,n.setState({askPin:!1});case 7:case"end":return e.stop()}},e)}))),I()(f()(n),"videoPersonalizationHandler",function(){n.props.isFree&&n.state.user&&k.a.get("isUserSignUp")&&k.a.get("isUserSignUp").match("true")&&window.settings.recommendation&&window.settings.recommendation.isPersonalization&&window.settings.recommendation.recommendCategories&&window.settings.recommendation.recommendCategories.length>0&&(window.settings.recommendation.isSubscribed||(Object(Q.persolizationSetUpProfile)()&&k.a.set("isUserSignUp",!1)&&k.a.set("isThankYouPage",!1),setTimeout(function(){window.player.pause()},200)))}),I()(f()(n),"setCCSettings",function(){document.querySelectorAll(".vjs-subs-caps-button li.vjs-menu-item").forEach(function(e){e.addEventListener("click",function(e){e.currentTarget.classList.contains("vjs-texttrack-settings")||(e.currentTarget.classList.contains("vjs-selected")&&e.currentTarget.classList.contains("vjs-subtitles-menu-item")?(localStorage.setItem("ccDefault","on"),localStorage.setItem("ccDefaultLang",e.currentTarget.querySelector(".vjs-menu-item-text").innerHTML)):localStorage.setItem("ccDefault","off"))})})}),I()(f()(n),"setVolSettings",function(){n.props.isCheck&&document.querySelectorAll(".vjs-control-bar").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()})})}),I()(f()(n),"addPlayerEntitlementLogic",function(e){e.options;var t=e.replaceIcons,i=e.addRewindControl,s=e.customizeCaptions,a=e.addResolutionControl,r=e.addEmbedBtn,o=e.addSkipControl,l=e.addVideoTitle,c=e.addSeasonList,d=e.addSkipIntroControl,p=e.addSkipRecapControl,u=e.addPlayNextControl;t(n.player),o&&o(n.player),l&&l(n.player,n.props.video),c&&c(n.player,n.props.video,n.props.handleClick,n.props.currentSeason),i(n.player);var h=n.props.closedCaptions||Object(O.get)(n.state,"video.contentDetails.closedCaptions"),m=parseInt(k.a.get("hdbm"))||parseInt(localStorage.getItem("hdbm")),g=Object(O.get)(window.settings,"features.free_preview"),v=g&&g.per_video;Object(O.some)(h,{format:"VTT"})&&s(n.player),a(n.player,n.isDrmEnabledVideo?"drm":n.props.fileType,n.assets,n.state.isLiveStream),window.settings.embedPlayer&&window.settings.embedPlayer.showEmbedButton&&r&&r(n.player,n.toggleEmbed),p&&p(n.player,n.props&&n.props.video,n.props&&n.props.isPip),d&&d(n.player,n.props&&n.props.video,n.props&&n.props.isPip),u&&u(n.player,n.props&&n.props.video),n.props.showTimer&&n.appendRemainingContainer(n.player,n.props.showTimer);var y=document.getElementsByClassName("vjs-current-time-display")&&document.getElementsByClassName("vjs-current-time-display").item&&document.getElementsByClassName("vjs-current-time-display").item(0);void 0!==y&&y.setAttribute("translate","no"),!n.props.autoplay||M.a.isMobile()||M.a.isSafari()||n.startVideo(),!n.props.isTrailer&&!v&&n.hardWallEnabled&&n.previewTime&&m>=n.previewTime&&n.props&&(!n.props.user||!n.checkIfVideoIsFree.bind(f()(n))&&!n.props.user.isSubscribed)&&(n.setState({videoWall:!0}),n.player.pause(),n.props.overlay||n.player.dispose()),!n.props.isTrailer&&v&&n.hardWallEnabled&&n.previewTime&&Math.floor(n.player.currentTime())>=n.previewTime&&n.props&&(!n.props.user||!n.checkIfVideoIsFree.bind(f()(n))&&!n.props.user.isSubscribed)&&(n.setState({videoWall:!0}),n.player.pause(),n.props.overlay||n.player.dispose()),n.previewTime||n.checkIfVideoIsFree.bind(f()(n))||!n.state.user||"HOLD"!==n.state.user.subscriptionStatus&&"PAUSED"!==n.state.user.subscriptionStatus||n.player.dispose()}),I()(f()(n),"addBeaconObject",function(e){var t=n.props;e&&(t=e);var i,a=t.video;i=new A.a(s()({player:n.player,videoTitle:Object(O.get)(t,"video.gist.title"),videoId:t.videoId,seriesTitle:Object(O.get)(t,"seriesInfo.title"),seriesId:Object(O.get)(t,"seriesInfo.id")},a&&{contentCategory:Object(O.get)(a.gist,"primaryCategory.title"),isLiveStream:Object(O.get)(a.gist,"isLiveStream")},{fileType:t.fileType,assets:n.assets,siteName:window.settings.internalName,clientId:window.settings.siteId,platform:"WEBSITE",userId:t.user&&t.user.userId,apiUrl:window.settings.beacon.apiBaseUrl,environment:Object(R.a)()})),n.beacon=i}),I()(f()(n),"shouldAdsInitialize",function(){return"undefined"!==typeof window.google&&n.props.videoTag&&!(n.props.user&&n.props.user.isSubscribed)&&(!n.props.hideAds||n.enableAdsForNews)}),I()(f()(n),"onTimeUpdate",function(e,t,i){t=[],i=[];var s=Math.floor(e.player.currentTime());e.props.showTimer&&e.getRemainingTime(e.props.isLive?(e.props.scheduleEndDate-Date.now())/1e3:e.player.remainingTimeDisplay());var a=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement,r=!1;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&a&&a.length>0){var o=window.location!==window.parent.location?document.referrer:document.location.href;o=o.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],a.includes(o)&&(r=!0)}if(!Object(O.includes)(i,s)){i.push(s),e.sendWatchedEventData(s,e.player.duration()),(e.perVideo&&e.allow_recurring_plays&&!e.counterInitiated||e.props.user&&e.props.user.isSubscribed)&&(k.a.set("hdbm",0),localStorage.setItem("hdbm",0));var l=parseInt(k.a.get("hdbm"))||parseInt(localStorage.getItem("hdbm"))||s;r=!!(n.showFreePreview&&n.previewTime&&l<=n.previewTime),"Videos"!==e.previewshowUnit&&e.previewTime&&l<=e.previewTime&&(e.props.user&&!e.props.user.isSubscribed||!e.props.user)&&(s=l,e.perVideo&&e.player&&e.player.currentTime()?setTimeout(function(){e.counterInitiated=!0,k.a.set("hdbm",Math.floor(e.player.currentTime())+1),localStorage.setItem("hdbm",Math.floor(e.player.currentTime())+1)},900):e.perVideo||setTimeout(function(){k.a.set("hdbm",l+1),localStorage.setItem("hdbm",l+1)},900)),!e.props.isTrailer&&!e.perVideo&&!r&&e.hardWallEnabled&&e.previewTime&&l>=e.previewTime&&e.props&&(!e.props.user||!e.checkIfVideoIsFree.bind(e)&&!e.props.user.isSubscribed)&&(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),!e.props.isTrailer&&e.perVideo&&!r&&e.hardWallEnabled&&e.previewTime&&Math.floor(e.player.currentTime())>=e.previewTime&&e.props&&(!e.props.user||!e.checkIfVideoIsFree.bind(e)&&!e.props.user.isSubscribed)&&(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),e.props.isTrailer||(k.a.set("videoId",e.props.videoId),localStorage.setItem("videoId",e.props.videoId),localStorage.setItem("title",e.props.video.gist.title)),"Videos"!==e.previewshowUnit||e.state.isFree||(s=parseInt(k.a.get("len"))),!(("SVOD"===window.settings.serviceType||e.props.pricingOptions&&"SVOD"===e.props.pricingOptions.type)&&l>=e.previewTime)||e.state.isFree||r||e.props.user&&e.props.user.isSubscribed||e.props.purchased||!e.props.pricingOptions||e.props.pricingOptions.purchase||e.props.pricingOptions.rent||(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),(e.state.isFree||e.props.pricingOptions&&("FREE"===e.props.pricingOptions.type||"AVOD"===e.props.pricingOptions.type||null===e.props.pricingOptions.type))&&l>=e.previewTime&&!r&&!e.props.isTrailer&&!e.props.user&&e.hardWallEnabled&&(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose());var c=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||90,d=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==c&&d&&s>=c&&s%c===0&&e.props.user&&!Object(O.includes)(t,s)&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())){t.push(s);var p=Math.floor(e.player.duration());e.sendWatchedInfo(s,p).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&n.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var u=Math.floor(e.player.duration());!Object(O.includes)(t,s)&&d&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())&&e.props.user&&parseInt(u)-parseInt(s)<5&&(e.resetHistory||e.sendWatchedInfo(s,u,!0).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&n.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}))}}),I()(f()(n),"playerEnter",function(){var e;e=JSON.parse(localStorage.getItem("program")),n.props.EPGMode&&e&&!n.props.isPip&&n.setState({EPGScreen:!0,epgData:e})}),I()(f()(n),"playerLeave",function(){n.state.EPGScreen&&n.setState({EPGScreen:!1})}),I()(f()(n),"enableRatingDescriptor",function(){!n.state.showRatingDescriptor&&n.state.ratingDisplayDone&&(n.setState({showRatingDescriptor:!0}),setTimeout(function(){n.setState({showRatingDescriptor:!1})},7e3))}),I()(f()(n),"initializeOverlayPlayer",function(){if(n.state.initializePlayer){n.player.reset();var e=n.state.videoAssets,t=e&&e.src;n.isDrmEnabledVideo?n.configureDRMPlayback(e):(n.player.src(t),n.player.load(),n.player.play())}}),I()(f()(n),"configureDRMPlayback",function(e){if(M.a.isSafari()){var t=Object(z.getFairPlayObject)(e,P.default);k.a.set("CloudFront-Key-Pair-Id",e.CloudFrontKeyPairId,{domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Policy",e.CloudFrontPolicy,{domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Signature",e.CloudFrontSignature,{domain:".".concat(Object(N.a)(window.location.hostname))});try{n.player.eme()}catch(d){}n.player.src(t),e.isFromVideoEnded||n.player.play()}else{var i=Object(z.getDRMWidevinePlayreadyObject)(e),s=Object(z.getSecureDRMWidevinePlayreadyObject)(e);if(e.CloudFrontKeyPairId&&e.CloudFrontPolicy&&e.CloudFrontSignature){var a,r,o=e.src;a=document.querySelector("video"),(r=window.dashjs.MediaPlayer().create()).getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO"),r.extend("RequestModifier",function(){return{modifyRequestHeader:function(e){return e},modifyRequestURL:function(t){return t.includes("?")?"".concat(t,"&Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature):"".concat(t,"?Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature)}}}),r.initialize(),r.setProtectionData(s),r.updateSettings({streaming:{scheduleWhilePaused:!1,fastSwitchEnabled:!0}}),r.attachView(a),r.setAutoPlay(!0),r.attachSource(o);var l=document.querySelector(".vjs-big-play-button"),c=document.querySelector(".vjs-play-control");l&&l.addEventListener("click",function(e){r.play()}),c&&c.addEventListener("click",function(e){c.classList.contains("vjs-paused")?r.play():c.classList.contains("vjs-playing")&&r.pause()})}else n.player.src(i),e.isFromVideoEnded?n.player.pause():n.player.play()}}),n.state={video:null,startedAtSetTime:!1,ratingDisplayDone:!n.isRatingEnabled(),showRatingDiscretion:!1,videoWall:!1,videoEnded:!1,showEmbed:!1,askPin:!0,showPinOverlay:e.showPinOverlay||!1,embedPlayable:!1,showRatingDescriptor:!1},n.bufferedPercent=0,n.playStarted=!1,n.lastBufferedTime=0,n.totalBufferTime=0,n.bufferCount=0,n.errorMessage=null,n.streamedData=[],n.triggeredPause=!1,n.isFromErrorEvent=!1,n.ratingMap=[],n.initialData={},n.sourceURL=null,n.resetHistory=!1,n.counterInitiated=null,n.toggleRatingDiscretion=n.toggleRatingDiscretion.bind(f()(n)),n.toggleEmbed=n.toggleEmbed.bind(f()(n)),n.dimensions=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},n.handlePreviewSettings(),e.video&&e.video.tags&&(n.tags=e.video.tags.map(function(e){return e&&e.title}).join(",")),e.video&&e.video.categories&&(n.categories=e.video.categories.map(function(e){return e&&e.title}).join(",")),n.hardWallEnabled=Object(O.get)(window.settings,"forceLogin"),n.enableAdsForNews=!0===n.props.enableAdsForNews,n}return w()(t,e),u()(t,[{key:"handlePreviewSettings",value:function(){var e=Object(O.get)(window.settings,"features.free_preview");if(e){var t=e.isFreePreview;this.showFreePreview=t,this.previewshowUnit=e.length.unit;var i="Minutes"===this.previewshowUnit?60*parseFloat(e.length.multiplier):parseFloat(e.length.multiplier);this.previewTime=t&&i,this.perVideo=t&&e.per_video,this.allow_recurring_plays=t&&e.allow_recurring_plays}}},{key:"componentWillReceiveProps",value:function(){var e=l()(r.a.mark(function e(t,n){var s,a,o,l,c,d,p,u,h,m,g,v,y,f=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.video&&(s=t.video,a=s.currentEpisode,o=s.currentSeason,l=s.showData,c=(l=void 0===l?{}:l).seasons,d=c&&c[o].episodes[a]||{},this.hasAccess=U(t,d)),this.player&&this.player.textTracks()&&this.player.textTracks().tracks_&&this.player.textTracks().tracks_.length>0&&!this.enableAdsForNews&&(this.currentModeValue=this.player.textTracks().tracks_.find(function(e,t){return"on"===localStorage.getItem("ccDefault")&&localStorage.getItem("ccDefaultLang")===e.label?e:null})),null===this.props.user&&this.hasAccess&&this.setState({videoWall:!1}),!1!==t.isPip&&!0!==t.isPip||Promise.all([i.e(17),i.e(275)]).then(i.bind(null,1149)).then(function(e){var i=e.updateSkipRecapControl,n=e.updateSkipIntroControl;i&&i(f.player,t.video,t.isPip),n&&n(f.player,t.video,t.isPip)}),p=this.props.video&&(this.props.video.id||this.props.video.gist.id),u=t.video&&(t.video.id||t.video.gist.id),h=t&&t.video&&t.video.gist&&t.video.gist.scheduleStartDate&&t.video.gist.scheduleStartDate-Date.now()>0,!t||!((t.isEpisode||t.isPlaylistItem||t.enableAdsForNews)&&p!==u||!h&&this.errorMessage)){e.next=25;break}if(m=!1,t.video.gist.free||this.previewTime||this.hasAccess||(m=!0,this.player&&this.player.pause()),this.setState({video:t.video,videoEnded:!1,videoWall:m}),!m){e.next=13;break}return e.abrupt("return");case 13:return this.props.video&&t.video&&this.props.video!==t.video&&(g="./newsSkin"===t.customSkin?"./newsSkin":"./skin")&&i(1082)("".concat(g,".js")).then(function(e){var i=e.updateSkipRecapControl,n=e.updateSkipIntroControl,s=e.updatePlayNextControl;i&&i(f.player,t.video,t.isPip),n&&n(f.player,t.video,t.isPip),s&&s(f.player,t.video)}),e.next=16,this.fetchVideoSources(t.video.gist.id,t.showPinOverlay,t);case 16:v=e.sent,y=v&&v.src,this.player||h||this.initializePlayerControls(v),this.playStarted=!1,this.streamedData=[],this.interval&&clearInterval(this.interval),this.player&&this.player.reset(),this.isDrmEnabledVideo?this.configureDRMPlayback(v):this.enableAdsForNews?(this.player&&this.player.src(y),this.player&&this.player.load(),this.props.shouldPlayAds&&this.player&&this.player.one("loadeddata",function(){setTimeout(function(){f.player.ima&&f.player.ima.setContentWithAdTag&&f.player.ima.requestAds&&(f.player.ima.setContentWithAdTag(y,null,!0),f.player.ima.requestAds())},100)})):(t.startTime&&"./newsSkin"===t.customSkin&&this.player.currentTime(t.startTime),this.player&&this.player.src(y),this.player&&this.player.load(),this.player&&this.player.play()),"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateVideoTitle;i&&i(f.player,Object(O.get)(t,"video.gist"))});case 25:this.props.video&&t.video&&!this.props.video.seasons&&t.video.seasons&&"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateSeasonList;i&&i(f.player,t.video,t.handleClick,t.currentSeason)});case 26:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}()},{key:"getSignature",value:function(){return"mp4"===this.props.fileType?Promise.resolve():Object(j.f)(this.props.videoId)}},{key:"fetchVideoSources",value:function(e,t,i){var n=this,s=this;if(t&&Object(G.d)()&&this.state.askPin)return this.setState({initializePlayer:!0,currentVideoId:e}),Promise.resolve({src:"",type:"video/mp4"});if(this.props&&this.props.src)return Promise.resolve({src:this.props.src,type:"video/mp4"});if(!e)return Promise.reject("No Video Src or Video ID Not found");var a=void 0!==this.props.embed&&this.props.embed;this.checkControlPlayer();var r=function(e){i&&(s.resetHistory=!1,s.initialData={},n.addBeaconObject(i)),n.errorMessage=null;var t=e.data.video.streamingInfo;n.assets=t.videoAssets;var a=66.66*window.innerWidth/100,r="?impolicy=resize&w=".concat(a,"&h=").concat(.5625*a);if(n.setState({isLiveStream:t.isLiveStream,isFree:n.props.isFree||Object(O.get)(e,"data.video.gist.free"),video:Object(O.get)(e,"data.video"),gist:Object(O.get)(e,"data.video.gist"),poster:"".concat(e.data.video.gist.videoImageUrl).concat(r)}),"Videos"===n.previewshowUnit&&!n.state.isFree){var o=parseInt(k.a.get("len"),10);k.a.set("len",(o||0)+1)}var l=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.hlsDetail,c="",d="",p="";if(l&&(c=l.keypairId||"",d=l.policy||"",p=l.signature||"",k.a.set("CloudFront-Key-Pair-Id",c,{expires:1,domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Policy",d,{expires:1,domain:".".concat(Object(N.a)(window.location.hostname))}),k.a.set("CloudFront-Signature",p,{expires:1,domain:".".concat(Object(N.a)(window.location.hostname))})),n.isDrmEnabledVideo=!1,n.isDrmEnabledVideo=Object(O.get)(e,"data.video.drmEnabled"),n.isDrmEnabledVideo){var u=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.fairPlay,h="",m="",g="";u&&(h=u.keypairId||"",m=u.policy||"",g=u.signature||"");var v=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.playReady;v&&(v.keypairId||"",v.policy||"",v.signature||"");var y=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.widevine,f="",b="",w="";return y&&(f=y.keypairId||"",b=y.policy||"",w=y.signature||""),!M.a.isSafari()&&n.assets.widevine&&n.assets.widevine.url?{src:n.assets.widevine.url,type:"application/dash+xml",licenseUrl:n.assets.widevine.licenseUrl,CloudFrontKeyPairId:f,CloudFrontPolicy:b,CloudFrontSignature:w,licenseToken:n.assets.widevine.licenseToken,licensePlayreadyToken:n.assets.playReady&&n.assets.playReady.licenseToken,playreadyUrl:n.assets.playReady&&n.assets.playReady.url,playReadyLicenseUrl:n.assets.playReady&&n.assets.playReady.licenseUrl}:{src:n.assets.fairPlay.url,type:"application/x-mpegURL",licenseUrl:n.assets.fairPlay.licenseUrl,CloudFrontKeyPairId:h,CloudFrontPolicy:m,CloudFrontSignature:g,licenseToken:n.assets.fairPlay.licenseToken,completeskd:n.assets.fairPlay.completeskd,certificateUrl:n.assets.fairPlay.certificateUrl}}var E=Object(X.a)(Object(O.get)(n.assets,"hls"),n.props,n),I=n.assets.mpeg&&n.assets.mpeg.length,S=Object(X.a)(Object(O.get)(n.assets,"mpeg[".concat(I-1,"].url")),n.props,n);return S&&!E&&(n.assets.mpeg[I-1].url=S),"hls"===n.props.fileType&&E?"snagfilms"!==window.settings.internalName&&E.includes("viewlift.com")?{src:E,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:c,CloudFrontPolicy:d,CloudFrontSignature:p}:E.includes("hoichoi.tv")||E.includes("supercrosslive.tv")?{src:E,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:c,CloudFrontPolicy:d,CloudFrontSignature:p}:"kronon"===window.settings.internalName?{src:E,type:"application/x-mpegURL",handleManifestRedirects:!0,CloudFrontKeyPairId:c,CloudFrontPolicy:d,CloudFrontSignature:p}:{src:E,type:"application/x-mpegURL",CloudFrontKeyPairId:c,CloudFrontPolicy:d,CloudFrontSignature:p}:{src:S,type:"video/mp4"}};if(this.props.isCheck){var o=s.props.response;return r(o)}return Object(j.e)(e,a,function(e){return r(e)}).catch(function(e){if(e&&e.errorMessage&&n.props.embed){if(e.errorMessage.includes("Embed not allowed"))return void n.setState({embedWall:!0});if(e.errorMessage.includes("valid subscription"))return void n.setState({embedWall:!0,embedPlayable:!0})}if(e&&e.errorMessage&&e.errorMessage.includes("valid subscription"))n.setState({videoWall:!0});else{if(e&&e.errorCode&&"SUBSCRIPTION_HOLD"===e.errorCode){var t=n.state.user&&n.state.subscription&&n.state.subscription.subscriptionInfo&&n.state.subscription.subscriptionInfo.paymentHandler,i=Object(Y.a)(window.settings,"genericMessages",e.errorCode),s=Object(Y.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");e={errorMessage:i&&s&&t&&i+" "+t+" "+s||"Your subscription is on Hold."}}else if(e&&e.errorCode&&"SUBSCRIPTION_PAUSED"===e.errorCode){var a=n.state.user&&n.state.subscription&&n.state.subscription.subscriptionInfo&&n.state.subscription.subscriptionInfo.paymentHandler,r=Object(Y.a)(window.settings,"genericMessages",e.errorCode),o=Object(Y.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");e={errorMessage:r&&o&&a&&r+" "+a+". "+o+" "+a+"."||"Your subscription is Paused."}}if(e&&e.errorCode&&"MAX_DEVICE_ERROR"===e.errorCode){k.a.set("MAX_DEVICE_ERROR",!0),setTimeout(function(){window.location.href="/user"},4e3);var l=Object(Y.a)(window.settings,"genericMessages","userDevicesExceedError")||"User has exceeded the device limit. Go to device management and remove the devices.";e={errorMessage:l,message:l}}e&&e.errorCode&&"VIDEO_NOT_EXISTS"===e.errorCode&&(e={errorMessage:Object(Y.a)(window.settings,"genericMessages","strContentNotAvailable")||"This content is not currently available."}),n.setState({errorMessage:e&&(e.errorMessage||e.message)}),n.errorMessage=e&&e.errorMessage||n.state&&n.state.errorMessage}})}},{key:"checkControlPlayer",value:function(){var e=document.querySelector(".VideoJS"),t=e.closest(".carousel-item");this.props.isCheck&&e?this.props.isTray||(e.style.position="unset"):(e.style.position="relative",t&&(t.style.paddingBottom="0px"))}},{key:"componentDidMount",value:function(){i(1145),i(1146),i(1147),i(1148);var e=k.a.get("hdbm")&&parseInt(k.a.get("hdbm"))||localStorage.getItem("hdbm")&&parseInt(localStorage.getItem("hdbm")),t=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement,n=!1;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&t&&t.length>0){var s=window.location!==window.parent.location?document.referrer:document.location.href;s=s.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],t.includes(s)&&(n=!!(this.showFreePreview&&this.previewTime&&e<=this.previewTime))}if(!this.props.isTrailer&&this.props.video){var a=this.props.video,r=a.currentEpisode,o=a.currentSeason,l=a.purchasedFlag,c=a.showData,d=(c=void 0===c?{}:c).seasons,p=d&&d[o].episodes[r]||{};if(this.hasAccess=U(this.props,p),!this.previewTime&&!this.props.isFree&&this.state.user&&this.state.user.subscriptionStatus&&"PAUSED"===this.state.user.subscriptionStatus)return void this.setState({videoWall:!0});if(!this.previewTime&&!this.props.isFree&&this.state.user&&this.state.user.subscriptionStatus&&"HOLD"===this.state.user.subscriptionStatus)return void this.setState({videoWall:!0});if(!this.previewTime&&!this.props.isFree&&!n&&!this.hasAccess&&!l&&!this.props.purchased)return void this.setState({videoWall:!0});if(!this.previewTime&&this.hardWallEnabled&&!n&&!this.state.user&&(this.props.isFree||this.hasAccess))return void this.setState({videoWall:!0});if(("SVOD"===window.settings.serviceType||this.props.pricingOptions&&"SVOD"===this.props.pricingOptions.type)&&e>=this.previewTime&&!n&&!this.props.isFree&&(!this.props.user||!this.props.user.isSubscribed)&&!this.perVideo&&!this.props.purchased&&this.props.pricingOptions&&!this.props.pricingOptions.purchase&&!this.props.pricingOptions.rent)return void this.setState({videoWall:!0});if((this.props.isFree||this.props.pricingOptions&&("FREE"===this.props.pricingOptions.type||"AVOD"===this.props.pricingOptions.type||null===this.props.pricingOptions.type))&&e>=this.previewTime&&!n&&!this.perVideo&&!this.props.user&&this.hardWallEnabled)return void this.setState({videoWall:!0})}this.initializePlayerControls()}},{key:"initializeDrmPlayer",value:function(e,t,i,n,s,a,r,o,l,c){var d=this,p={autoplay:r.autoplay,controls:r.controls,debug:r.debug,muted:r.muted,poster:r.poster,preload:r.preload};this.player=Object(P.default)(this.videoNode,p,function(){d.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:n,addResolutionControl:s,addEmbedBtn:a,addSkipIntroControl:o,addSkipRecapControl:l,addPlayNextControl:c}),d.configureDRMPlayback(e)}),window.player=this.player,this.addBeaconObject(),this.listenToPlayerEvents(),this.shouldAdsInitialize()&&this.initializeAds()}},{key:"updatePin",value:function(){this.setState({askPin:!1}),this.initializePlayerControls()}},{key:"initializePlayer",value:function(e,t,i,n,s,a,r,o,l,c,d,p){var u=this;if(e&&e.sources[0]&&e.sources[0].CloudFrontKeyPairId&&e.sources[0].CloudFrontPolicy&&e.sources[0].CloudFrontSignature&&"video/mp4"!==e.sources[0].type){var h=e.sources[0].CloudFrontKeyPairId,m=e.sources[0].CloudFrontPolicy,g=e.sources[0].CloudFrontSignature;M.a.isSafari()&&(P.default.options.hls.overrideNative=!0,P.default.options.html5.nativeAudioTracks=!1,P.default.options.html5.nativeVideoTracks=!1),P.default.options.html5.nativeTextTracks=!1,P.default.Vhs.xhr.beforeRequest=function(e){e.uri.includes("?")?e.uri="".concat(e.uri,"&Key-Pair-Id=").concat(h,"&Policy=").concat(m,"&Signature=").concat(g):e.uri="".concat(e.uri,"?Key-Pair-Id=").concat(h,"&Policy=").concat(m,"&Signature=").concat(g)}}this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&(window.registerIVSTech(P.default),e.techOrder=["AmazonIVS"]),this.player=Object(P.default)(this.videoNode,e,function(){u.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:n,addResolutionControl:s,addEmbedBtn:a,addSkipControl:r,addVideoTitle:o,addSeasonList:l,addSkipIntroControl:c,addSkipRecapControl:d,addPlayNextControl:p})}),window.player=this.player,this.shouldAdsInitialize()&&this.initializeAds(),this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&e.sources&&e.sources[0]&&window.player.src(e.sources[0].src),this.addBeaconObject(),this.props.getVideoRef&&this.props.getVideoRef(this.player),this.listenToPlayerEvents();var v=document.getElementsByClassName("next-episode")[0];v&&v.addEventListener("click",function(){u.shouldAdsInitialize()&&u.initializeAds()})}},{key:"appendRemainingContainer",value:function(e,t){e.el_.append(t)}},{key:"getRemainingTime",value:function(e){var t=Math.floor(e/60),i=Math.floor(e-60*t),n=document.querySelector(".remaining-time-wrapper");n&&(n.style.visibility="visible");var s=document.querySelector(".time-elapsed");s&&(s.innerHTML="".concat(t,":").concat(i<10?"0"+i:i))}},{key:"toggleEmbed",value:function(){this.setState({showEmbed:!this.state.showEmbed})}},{key:"checkIfVideoIsFree",value:function(){var e=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement,t=!1;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&e&&e.length>0){var i=window.location!==window.parent.location?document.referrer:document.location.href;i=i.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],e.includes(i)&&!this.showFreePreview&&!this.previewTime&&this.props.embed&&(t=!0)}if(this.props.embed)return t;var n=this.props.pricingOptions?this.props.pricingOptions.type:null;return this.state.isFree||("FREE"===n||"AVOD"===n||null===n)}},{key:"listenToPlayerEvents",value:function(){var e=this,t=this;this.player.one(M.a.isMobile()?"touchend":"click",function(t){e.startVideo()}),this.player.one("loadeddata",function(){var i=Object(O.get)(e.state.video,"gist.runtime");isFinite(e.player.duration())||isFinite(i)||document.getElementsByClassName("VideoJS")[0].classList.add("live"),e.isFromErrorEvent?e.isFromErrorEvent=!1:e.props.startTime&&(!e.showFreePreview||t.props.user&&t.props.user.isSubscribed)&&e.player.currentTime(e.props.startTime)}),this.player.on("firstplay",function(i){if(!e.playStarted&&e.state.video){var n=e.state.video,s=n.gist,a=void 0===s?{}:s,r=n.creditBlocks,o=void 0===r?[]:r,l=n.categories,c=void 0===l?[]:l,d=n.parentalRating,p=void 0===d?"NA":d;c.push(a.primaryCategory||{});var u=window.location.pathname.match(/movies|kids|originals|shows/g)||["videos"];e.playData={contentTypeDetail:u[0],freeOrPaid:a.isFree?"Free":a.free?"Free":"Paid",rating:p};var h=Object(O.filter)(e.props.closedCaptions||Object(O.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"}),m=Math.floor(t.player.currentTime()),g=e.beacon&&e.beacon.getBitrate()||null;if(k.a.set("getBitrate",g),e.videoEventData={contentId:a.id,contentTitle:a.title,contentType:a.isTrailer?"Trailer":"EPISODIC"===a.mediaType?"Episode":"Video",contentDuration:a.runtime,playbackType:"Streamed",platform:"Web",bufferCount:e.bufferCount,bufferTime:Object(O.round)(e.totalBufferTime),bitRate:g,watchedTime:Object(O.round)(m-e.lastBufferedTime),subtitles:h.length?"Y":"N",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi"},"EPISODIC"===a.mediaType&&e.props.video&&e.props.video.showData&&(k.a.set("episodeNumber",e.props.video.currentEpisode+1),k.a.set("seasonNumber",e.props.video.currentSeason+1),o=e.props.video.showData.creditBlocks,(c=e.props.video.showData.categories).push(e.props.video.showData.gist.primaryCategory||{}),e.videoEventData=Object(O.extend)({},e.videoEventData,{episodeNumber:e.props.video.currentEpisode+1,seasonNumber:e.props.video.currentSeason+1,showName:e.props.video.showData.gist.title})),e.videoEventData.playSource=Object(V.c)()+(e.props.video&&e.props.video.showData?"_Show Detail":"_Video Detail"),Object(O.each)(o,function(t){"director"===t.title.trim().toLowerCase()&&(e.videoEventData.directorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):""),"starring"===t.title.trim().toLowerCase()&&(e.videoEventData.actorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):"")}),e.videoEventData.contentGenre=c.map(function(e){return e.title}).join(","),Object(V.g)("Play Started",Object(O.extend)({},e.videoEventData,e.playData)),e.playStarted=!0,!e.shouldAdsInitialize()){var v=a&&a.metadata;Object(ee.checkRatingDescriptors)(v)&&e.enableRatingDescriptor()}}});var i=[],n=[];this.player.on("timeupdate",function(s){e.onTimeUpdate(t,i,n)}),this.player.on("pause",function(){t.triggeredPause=!0}),this.player.on("play",function(){if(!0===t.triggeredPause){var e=void 0!==t.props.embed&&t.props.embed;Object(j.e)(t.props.videoId,e,function(e){}).catch(function(e){t.setState({errorMessage:e&&(e.errorMessage||e.message)}),t.errorMessage=e&&e.errorMessage||t.state&&t.state.errorMessage})}t.triggeredPause=!1}),this.player.on("waiting",function(i){e.bufferCount+=1;var n=e.player.currentTime(),s=[],a=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||0,r=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==a&&r&&n>=a&&n%a===0&&t.props.user&&!Object(O.includes)(s,n)&&!e.props.isTrailer&&isFinite(e.player.duration())){s.push(n);var o=Math.floor(e.player.duration());e.sendWatchedInfo(n,o).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var l=Math.floor(e.player.duration());!Object(O.includes)(s,n)&&r&&t.props.user&&!e.props.isTrailer&&!t.props.isPromo&&isFinite(e.player.duration())&&parseInt(l)-parseInt(n)<5&&(t.resetHistory||e.sendWatchedInfo(n,l,!0).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}));var c=setInterval(function(){try{e.player&&e.player.currentTime()<=n+.1&&!e.player.paused()?e.totalBufferTime=e.totalBufferTime+.1:clearInterval(c)}catch(t){clearInterval(c)}},100)}),this.player.on("ended",function(t){if(window.settings.features.auto_play){e.props.isPlaylistItem&&e.setState({videoEnded:!0}),e.props.isEpisode&&e.props.video.nextEpisode&&e.setState({videoEnded:!0});var i=Object(O.get)(e.props,"video.contentDetails.relatedVideoIds");if(window.settings&&window.settings.recommendation&&window.settings.recommendation.isRecommendation&&window.settings.recommendation.isRecommendationAutoPlay&&k.a.get("isFromRecommendationTray")&&"true"==k.a.get("isFromRecommendationTray")&&localStorage.getItem("recommendedVideoIds")&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records.length>0){if(!(i=JSON.parse(localStorage.getItem("recommendedVideoIds")).records.filter(function(e,t){if(e.gist.mediaType&&"series"!==e.gist.mediaType.toLowerCase()||e.gist.contentType&&"series"!==e.gist.contentType.toLowerCase())return e.gist&&null!=e.gist.id}).map(function(e,t){return e.gist.id}))||0===i.length)return;var n=Object(O.get)(e.props,"video.gist.id"),s=0;if(void 0===i.find(function(e,t){return s=t,e===n}))return;if(s>=i.length)return;e.props.isCheck||Object(j.d)(i[s+1],function(e){window.location.href=e.data.video.gist.permalink})}else if(i&&0!==i.length){if(!e.props.isEpisode&&!e.props.isPlaylistItem&&!e.props.isNewsTrailer){var a=null!==window.sessionStorage.getItem("rvid")?parseInt(window.sessionStorage.getItem("rvid"),10)+1:0;window.sessionStorage.setItem("rvid",a),e.props.isCheck||Object(j.d)(i[a],function(e){window.location.href=e.data.video.gist.permalink})}}else e.isDrmEnabledVideo&&e.fetchVideoSources(e.props.videoId).then(function(t){t.isFromVideoEnded=!0,e.configureDRMPlayback(t)})}}),this.player.on("error",function(t){var i={};e.videoEventData&&Object(O.assignIn)(i,e.videoEventData),i.errorMessage=e.player.error().message,Object(V.g)("Media Error",i);var n=Math.floor(e.player.currentTime());5===e.player.error().code&&e.isDrmEnabledVideo&&(M.a.isSafari()?(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.videoId).then(function(t){t.certificateUrl="https://v-".concat(window.settings.internalName,".viewlift.com/fairplay.cer"),e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(n),e.player.play()})):(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.videoId).then(function(t){e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(n),e.player.play()}))),(3===e.player.error().code||-3===e.player.error().code)&&e.props.video&&e.props.video.gist.isLiveStream&&e.fetchVideoSources(e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t&&t.src),e.player.load()}),2===e.player.error().code&&e.fetchVideoSources(e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t&&t.src),e.player.load(),e.player.play()})}),this.player.on("ready",function(t){var i=Object(O.filter)(e.props.closedCaptions||Object(O.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"});e.updateCaptions(i,e.currentModeValue),e.videoPersonalizationHandler(),e.setVolSettings()}),this.player.on("ended",function(t){e.props.videoEndedHandler&&e.props.videoEndedHandler()})}},{key:"refreshPlayer",value:function(){this.player.currentTime()===this.bufferedPercent?(this.bufferedPercent++,this.player.currentTime(this.bufferedPercent)):clearInterval(this.refresh)}},{key:"sendWatchedInfo",value:function(){var e=l()(r.a.mark(function e(t,i,n){var s,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetHistory=n,s=this.props.video&&this.props.video.gist&&this.props.video.gist.originalObjectId||this.props.videoId,this.initialData.videoId&&this.initialData.videoId!==this.props.videoId||this.initialData.watchedTime===t){e.next=10;break}return this.props.overlay&&(a=localStorage.getItem("vrtm")||"{}")&&((o=JSON.parse(a))[s]=t,localStorage.setItem("vrtm",JSON.stringify(o))),this.initialData.videoId=this.props.videoId,this.initialData.watchedTime=t,e.next=9,Object(D.p)({videoId:s,watchedTime:t,watchedPercentage:Math.floor(t/i*100),siteOwner:window.settings.internalName,userId:this.props.user&&this.props.user.userId}).then(function(e){return e}).catch(function(e){return console.log(e),e});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return function(t,i,n){return e.apply(this,arguments)}}()},{key:"sendWatchedEventData",value:function(e,t){if(this.videoEventData){var i=!1,n=Math.floor(e/t*100),s=Object(O.extend)({},this.videoEventData,this.playData);if(e>=120&&n<25&&-1===this.streamedData.indexOf("2 mins")?(this.streamedData.push("2 mins"),i=!0):n>=25&&n<50&&-1===this.streamedData.indexOf(25)?(this.streamedData.push(25),i=!0):n>=50&&n<75&&-1===this.streamedData.indexOf(50)?(this.streamedData.push(50),i=!0):n>=75&&n<80&&-1===this.streamedData.indexOf(75)?(this.streamedData.push(75),i=!0):n>=80&&-1===this.streamedData.indexOf(80)&&(this.streamedData.push(80),i=!0),i){var a="";this.props.video&&Object(O.get)(this.props.video,"showData.gist.title")&&(a=this.props.video.showData.gist.title);var r=Object(O.filter)(this.props.closedCaptions||Object(O.get)(this.state,"video.contentDetails.closedCaptions"),{format:"VTT"});s.subtitles=r.length?"Y":"N",s.stream=this.streamedData[this.streamedData.length-1],s.bufferTime=Object(O.round)(this.totalBufferTime),s.bufferCount=this.bufferCount,s.watchedTime=Object(O.round)(e-this.lastBufferedTime),s.bitRate=this.beacon.getBitrate(),s.seasonNumber=this.props.video&&this.props.video.currentSeason||"",s.episodeNumber=this.props.video&&this.props.video.currentEpisode||"",s.showName=a,s.platform="Web",s.networkType=window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",Object(V.g)("Watched",s),this.lastBufferedTime=e,this.totalBufferTime=0,this.bufferCount=0}}}},{key:"startVideo",value:function(){if(void 0!==this.props.videoTag&&(!this.props.hideAds||this.enableAdsForNews)&&(!this.props.user||!this.props.user.isSubscribed))return this.player.ima.initializeAdDisplayContainer&&this.player.ima.initializeAdDisplayContainer(),void this.listenToAdEvents();this.toggleRatingDiscretion()}},{key:"initializeAds",value:function(){var e=this,t="";this.props.videoTag.includes("spotx")?t="spotx":this.props.videoTag.includes("google")&&(t="google");var i=this.props.videoTag;this.adUrl=null;var n=Object(X.a)(i,this.props,this,null,null,i,!0);if("spotx"===t){var s=new URL(n),a=s.search,r=new URLSearchParams(a);r.set("content_page_url",window.location.href),r.set("player_width",this.player.el_.clientWidth),r.set("player_height",this.player.el_.clientHeight),r.set("user[consent]",!0),r.set("regs[gdpr]",!0),r.set("cb",(new Date).getTime().toString()),s.search=r.toString();var o=s.toString();this.adUrl=o}else{var l="",c="&vid=".concat(this.props.videoId)+"&url=".concat(window.location.href,"&correlator=").concat((new Date).getTime())+"&cust_params=sd%3D60000%26site%3D".concat(window.location.origin,"%26autostart%3D")+"%26mute%3D%26user_agent%3D%26keyword%3D%26category%3D".concat(this.props.category)+"%26vid%3D".concat(this.props.videoId,"%26categories%3D").concat(this.categories,"%26tags%3D").concat(this.tags);if(n.indexOf("cust_params=")>=0){var d=n.split("cust_params="),p=d[1].indexOf("&"),u=d[1].slice(0,p+1);n=d[0]+d[1].replace(u,""),l=d[1].split("&")[0],this.adUrl="".concat(n).concat(c,"%26").concat(l)}else this.adUrl="".concat(n).concat(c)}"function"===typeof this.player.ima?this.player.ima({id:"vjs_video_3",adTagUrl:this.adUrl,adLabel:"Your video will resume after this sponsor message"}):setTimeout(function(){e.player.ima.setContentWithAdTag(null,e.adUrl,!0),e.player.ima.requestAds()},1e3)}},{key:"listenToAdEvents",value:function(){var e=this;this.player.on("adsready",function(){window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()}),window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.AD_ERROR,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()})})}},{key:"toggleRatingDiscretion",value:function(){return this.isRatingEnabled()&&!this.state.ratingDisplayDone?this.showRatingDiscretion():this.hideRatingDiscretion()}},{key:"componentWillUnmount",value:function(){try{this.player&&this.player.dispose()}catch(e){}}},{key:"componentDidUpdate",value:function(e,t){if(!e.modalOpen&&this.props.modalOpen){if(!this.player||!this.player.player_)return;this.player.pause(),"undefined"!==typeof window.google&&this.player&&this.player.ima&&Object(O.isFunction)(this.player.ima.pause)&&this.player.ima.pause()}else e.modalOpen&&!this.props.modalOpen&&"undefined"!==typeof window.google&&this.player&&Object(O.isFunction)(this.player.ima.resume)&&this.player.ima.resume();this.player&&!this.state.startedAtSetTime&&this.props.startTime&&e.startTime!==this.props.startTime&&(this.player.currentTime(this.props.startTime),this.setState({startedAtSetTime:!0})),!t.showEmbed&&this.state.showEmbed&&this.player.pause()}},{key:"isRatingEnabled",value:function(){return Object(O.get)(window.settings,"user_content_rating",!1)&&!this.props.isTrailer&&this.parentalRating&&"NR"!==this.parentalRating}},{key:"hideRatingDiscretion",value:function(){this.player.play(),this.setState({showRatingDiscretion:!1,ratingDisplayDone:!0})}},{key:"showRatingDiscretion",value:function(){this.player.pause(),this.setState({showRatingDiscretion:!0})}},{key:"updateCaptions",value:function(e,t){var i=this,n="on"===localStorage.getItem("ccDefault"),s=localStorage.getItem("ccDefaultLang");if(this.player&&e&&(Object(O.map)(this.player.remoteTextTrackEls(),function(e){i.player.removeRemoteTextTrack(e)}),Object(O.map)(e,function(e){i.player.addRemoteTextTrack({src:e.url,manualCleanup:!0,srcLang:e.language,label:e.language},!0)}),(t||n)&&this.player.textTracks()&&this.player.textTracks().tracks_.length>0)){var a=this.player.textTracks().tracks_.find(function(e){return n&&e.label===s?e:null});a&&(a.mode="showing")}this.setCCSettings()}},{key:"render",value:function(){var e=this,t=Boolean(this.props&&this.props.video&&this.props.video.gist&&this.props.video.gist.clevertapPopupTime),i=Object(O.get)(this.props&&this.props.video,"gist.metadata")||"";return T.a.createElement("div",{onMouseEnter:this.playerEnter,onMouseLeave:this.playerLeave},t&&void 0!==this.player&&T.a.createElement($.default,{player:this.player,video:this.props&&this.props.video,userId:this.props&&this.props.user&&this.props.user.userId}),this.state.EPGScreen&&T.a.createElement(J.default,{item:this.state.epgData}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&!this.props.isPlaylistItem&&T.a.createElement(x.default,{backgroundUrl:this.props.video.nextEpisode.videoImageUrl,nextVideoTitle:this.props.video.nextEpisode.title,timer:3,action:this.props.video.playNextEpisode}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&this.props.isPlaylistItem&&this.props.nextVideoDataAction.nextVideoData.gist&&T.a.createElement(x.default,{backgroundUrl:this.props.nextVideoDataAction.nextVideoData.gist.videoImageUrl,nextVideoTitle:this.props.nextVideoDataAction.nextVideoData.gist.title,timer:3,isPlaylistItem:this.props.isPlaylistItem,action:this.props.nextVideoDataAction.playNextAction}),this.state.videoWall&&!this.props.hidePipLogin&&T.a.createElement(F.default,{isEpisode:this.props.isEpisode,content:this.props.video,videoGist:this.props.video&&this.props.video.gist}),this.state.embedWall&&T.a.createElement(K.default,{isEpisode:this.props.isEpisode,content:this.props.video,embedPlayable:this.state.embedPlayable,videoGist:this.props.video&&this.props.video.gist}),Object(G.d)()&&this.state.askPin&&(this.props.showPinOverlay||this.state.showPinOverlay)&&T.a.createElement(H.default,{videoId:this.props.videoId,askPin:this.state.askPin,initializePlayer:function(){return e.initializeOverlayPlayer()},changePinState:function(){return e.updatePin()}}),T.a.createElement("div",{"data-vjs-player":!0},T.a.createElement("div",null,this.state.showRatingDescriptor&&i&&i.length>0&&T.a.createElement(ee.default,{metadataArray:i,isPip:this.props.isPip})),this.state.showRatingDiscretion&&T.a.createElement(_.default,{hide:this.hideRatingDiscretion.bind(this),rating:this.parentalRating}),this.state.showEmbed&&T.a.createElement(L.default,{videoId:this.props.videoId,toggleEmbed:this.toggleEmbed}),!this.state.errorMessage||this.props.timerPreview||this.props.isFutureStartDate||this.state.embedWall?T.a.createElement("video",{ref:function(t){return e.videoNode=t},playsInline:!0,id:"videoplayer",className:"video-js"+(this.hasAccess||this.props.isFree?"":" hd-cc")}):T.a.createElement("div",{className:"error-message"}," ",this.state.errorMessage," ")))}},{key:"parentalRating",get:function(){return this.props.parentalRating||Object(O.get)(this.props,"video.parentalRating")}}]),t}(T.a.Component);Object(W.a)(ie,function(e){return{user:e.user,subscription:e.subscription&&e.subscription.subscription}},B.a);t.default=ie},1120:function(e,t,i){"use strict";var n=i(9),s=i.n(n),a=i(16),r=i.n(a),o=i(17),l=i.n(o),c=i(3),d=i.n(c),p=i(2),u=function(e){return function(){try{return e.apply(this,arguments)}catch(t){return console.error(t),null}}},h=i(210);function m(){var e=function(e){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function g(e){return e?String(e):""}var v,y,f,b,w,E,I,S,T,P,O,C,k,j,D,A,N,R,M,L,_=null,x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e),v=t.player,y=t.videoId,f=t.videoTitle,b=t.fileType,w=t.assets,E=t.userId||function(){var e=window.localStorage.getItem("uid");return e||(e=m(),window.localStorage.setItem("uid",e),e)}(),I=t.siteName,S=t.clientId,T=t.platform,P=t.apiUrl,O=m(),C=t.environment,_=null,k=t.isLiveStream,j=t.contentCategory,D=t.seriesId,A=t.seriesTitle,this.setVideoListeners()}return l()(e,[{key:"setVideoListeners",value:function(){this.firstFrame();var e=window.settings.features&&window.settings.features.enableQOS||!1,t=window.settings.features&&window.settings.features.analytics_beacon&&window.settings.features.analytics_beacon.enable||!1;e&&(this.streamFailures(),this.buffering()),t&&(this.ads(),this.ping())}},{key:"streamFailures",value:function(){var e=this,t=Math.floor(v.currentTime());v.on("error",function(){var i=Math.floor(v.currentTime());e.event({eventName:t===i?"FAILED_TO_START":"DROPPED_STREAM",videoPosition:Math.floor(v.currentTime()),isAdEvent:!1})})}},{key:"firstFrame",value:function(){var e=this,t=window.dataLayer||{push:function(e){}},i=window.settings.features&&window.settings.features.enableQOS||!1;v.one("play",u(function(){N=0,clearInterval(R),i&&(R=setInterval(function(){N=e.handleBufferTimer(N)},100)),Object(h.d)("player-video","playVideo",f||y),t.push(s()({event:"stream_start",content_uuid:y,content_name:f},D&&{series_uuid:D},A&&{series_name:A},{content_category:j,content_is_live:k})),e.event({eventName:"PLAY",videoPosition:Math.floor(v.currentTime()),resHeight:v.videoHeight(),resWidth:v.videoWidth(),isAdEvent:!1}),i&&e.endFirstFrame()}))}},{key:"buffering",value:function(){var e=this;v.on("waiting",u(function(){if(!R){var t=v.currentTime();_&&clearInterval(_),_=setInterval(function(){v&&v.currentTime()<=t+.1&&!v.paused()?M=e.handleBufferTimer(M):clearInterval(_)},100)}}))}},{key:"handleBufferTimer",value:function(e){var t=e+.1,i=Object(p.round)(t,2),n=window.settings.features&&window.settings.features.enableQOS||!1;if(i%(window.settings.features&&window.settings.features.analytics_beacon&&window.settings.features.analytics_beacon.bufferInterval&&parseInt(window.settings.features.analytics_beacon.bufferInterval)||5)===0&&n&&v&&v.currentTime)try{this.event({eventName:"BUFFERING",videoPosition:Math.floor(v.currentTime()),resHeight:v.videoHeight(),resWidth:v.videoWidth(),isAdEvent:!1})}catch(s){clearInterval(_)}return t}},{key:"endFirstFrame",value:function(){var e=this;v.one("timeupdate",function(){R&&clearInterval(R),R=null,M=N||0,e.event({eventName:"FIRST_FRAME",videoPosition:Math.floor(v.currentTime()),isAdEvent:!1,resHeight:v.videoHeight(),resWidth:v.videoWidth(),ttFirstFrame:N,bufferHealth:e.getRemainingBufferTime()})})}},{key:"ads",value:function(){var e=this;v.on("adsready",function(){v.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){e.event({eventName:"AD_REQUEST",videoPosition:Math.ceil(v.currentTime()),isAdEvent:!0,adPosition:1}),e.event({eventName:"AD_IMPRESSION",videoPosition:Math.ceil(v.currentTime()),isAdEvent:!0,adPosition:1})})})}},{key:"ping",value:function(){var e=this;L=[],v.on("timeupdate",function(){var t=Math.floor(v.currentTime()),i=window.settings.features&&window.settings.features.analytics_beacon&&window.settings.features.analytics_beacon.interval&&parseInt(window.settings.features.analytics_beacon.interval)||90;t>=i&&t%i===0&&!Object(p.includes)(L,t)&&(L.push(t),e.event({eventName:"PING",videoPosition:t,isAdEvent:!1,resHeight:v.videoHeight(),resWidth:v.videoWidth(),bufferHealth:e.getRemainingBufferTime(),bitrate:e.getBitrate()}))})}},{key:"getBitrate",value:function(){return u(function(){var e;if("hls"===b)e=v&&v.tech_&&v.tech_.vhs&&v.tech_.vhs.selectPlaylist()?Object(p.round)(v.tech_.vhs.selectPlaylist().attributes.BANDWIDTH/1e3):0;else{var t=v.currentSrc().split("?")[0];w&&w.mpeg&&w.mpeg.forEach(function(i){var n=i.url.split("?")[0];t===n&&(e=i.bitrate)})}return e})()}},{key:"getRemainingBufferTime",value:function(){return u(function(){var e=v.currentTime(),t=v.duration(),i=v.buffered();if(i.start&&i.end)for(var n=0;n<i.length;n++){var s=i.start(n),a=i.end(n);if(Object(p.inRange)(e,s,a)){var r=Object(p.round)(t-a);if(Object(p.isFinite)(r))return r}}})()}},{key:"event",value:function(e){var t;t=[{aid:I,cid:S,pfm:T,uid:E,vid:y,url:e.url||document.location.href,ref:e.ref||document.referrer,pa:e.eventName,vpos:g(e.videoPosition),environment:C,dp1:e.dp1||"",dp2:e.dp2||"",dp3:e.dp3||"",dp4:e.dp4||"",dp5:e.dp5||"",apos:!0===e.isAdEvent?g(e.videoPosition):"",apod:!0===e.isAdEvent?g(e.adPosition):"",profid:"",player:e.playerType||"native",media_type:e.mediaType||"VIDEO",stream_id:O,embedurl:"",ttfirstframe:g(e.ttFirstFrame),bitrate:g(e.bitrate),connectionspeed:"",resolutionheight:g(e.resHeight),resolutionwidth:g(e.resWidth),bufferhealth:g(e.bufferHealth)}],d()({url:P,method:"post",contentType:"application/x-www-form-urlencoded",dataType:"text",data:t}).catch(function(e){return console.error(e)})}}]),e}();t.a=x},1121:function(e,t,i){"use strict";i.d(t,"c",function(){return l}),i.d(t,"a",function(){return c}),i.d(t,"b",function(){return d});var n=i(1),s=i.n(n),a=i(15),r=i(12),o=i(22),l=function(e){return window.settings.isMonetizationModelEnabled?Object(a.createSubscription02)(e):Object(a.createSubscription)(e)},c=function(){return!!(Object(o.a)("s")||Object(o.a)("popup")||Object(o.a)("status"))},d=function(e,t){var i=Object(o.a)("s"),n=Object(o.a)("status"),a=function(){var e=Object(o.a)("r"),t=s.a.get("randomId")?s.a.get("randomId"):"";return!(!t||!e||t!==e)&&(s.a.remove("randomId"),!0)}();if(e&&("success"===i&&a||"approved"===n)){s.a.set("isPaymentinProcess",!1,{expires:1}),sessionStorage.removeItem("sessionFlag");var l=Object(r.a)(window.settings,"genericMessages","successMessageTitle")||"Thank you";return window.location.href="/viewplans?refreshUser=true&popup=noticeWithoutCloseButton&title=".concat(l),!1}if(e&&"pending"===i&&a){s.a.set("isPaymentinProcess",!0,{expires:1});var c=Object(r.a)(window.settings,"genericMessages","pendingMessageTitle")||"Pending";return window.location.href="/viewplans?refreshUser=true&popup=noticeWithoutCloseButton&title=".concat(c),!1}if(e&&("failure"===i&&a||"failed"===n))return t&&sessionStorage.setItem("retryImageIcon",t),s.a.set("isPaymentinProcess",!1,{expires:1}),window.location.href="/viewplans?refreshUser=true&popup=noticeWithoutCloseButton&title=failure",!1}},1122:function(e,t,i){},1123:function(e,t,i){"use strict";var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(13),u=i.n(p),h=i(20),m=i.n(h),g=i(14),v=i.n(g),y=i(0),f=i.n(y),b=i(1104),w=i.n(b),E=i(1087),I=(i(1116),function(e){function t(){var e,i;s()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return i=l()(this,(e=d()(t)).call.apply(e,[this].concat(a))),v()(u()(i),"state",{current:[]}),v()(u()(i),"componentDidMount",function(){var e=i.props.startTime,t=(new Date).getTime(),n=e-t;i.clock=setInterval(function(){n-=1e3;var t=Object(E.b)(n);i.setState({current:[{value:t.getDays(),letter:"D"},{value:t.getHours(),letter:"H"},{value:t.getMinutes(),letter:"M"},{value:t.getSeconds(),letter:"S"}]}),w()(e)&&(clearInterval(i.clock),i.props.hide())},1e3)}),v()(u()(i),"componentWillUnmount",function(){clearInterval(i.clock)}),i}return m()(t,e),r()(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"game-timer",style:{paddingTop:this.props.isPip?"80px":"50px"}},this.props.header&&f.a.createElement("span",{className:"time-until",style:{fontSize:this.props.isPip?"1.25em":"0.9em"}},this.props.header),f.a.createElement("div",{className:"time-wrapper"},this.state.current.map(function(e,t){return f.a.createElement("div",{className:"time-block",key:t},f.a.createElement("span",{className:"time-value"},e.value),f.a.createElement("span",{className:"time-letter"},e.letter))})))}}]),t}(y.Component));t.a=I},1124:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=function(){function e(t){s()(this,e),this.desktop=t.desktop,this.tablet=t.tablet,this.mobile=t.mobile}return r()(e,[{key:"maxWidth",get:function(){return Math.max(1400/(this.desktop||6),800/(this.tablet||4),600/(this.mobile||2))}},{key:"mobileMaxWidth",get:function(){return 600/(this.mobile||2)}},{key:"slidesToShow",get:function(){return this.desktop||7}},{key:"slidesToScroll",get:function(){return this.desktop||7}},{key:"responsiveBreakpoints",get:function(){return[{breakpoint:1400,settings:{slidesToShow:this.desktop||6,slidesToScroll:this.desktop||6}},{breakpoint:1200,settings:{slidesToShow:this.desktop||5,slidesToScroll:this.desktop||5}},{breakpoint:1e3,settings:{slidesToShow:this.desktop||4,slidesToScroll:this.desktop||4}},{breakpoint:800,settings:{slidesToShow:this.tablet||3,slidesToScroll:this.tablet||3}},{breakpoint:600,settings:{slidesToShow:this.mobile||2,slidesToScroll:this.mobile||2,className:"mobile"}}]}}]),e}()},1125:function(e,t,i){"use strict";var n=i(1077),s=i.n(n),a=i(16),r=i.n(a),o=i(17),l=i.n(o),c=i(18),d=i.n(c),p=i(19),u=i.n(p),h=i(13),m=i.n(h),g=i(20),v=i.n(g),y=i(14),f=i.n(y),b=i(0),w=i.n(b),E=i(221),I=i.n(E),S=i(233),T=i.n(S),P=i(15),O=i(12),C=i(563),k=i(245),j=i(8),D=i.n(j),A=function(e){function t(e){var i;return r()(this,t),i=d()(this,u()(t).call(this,e)),f()(m()(i),"renderPurchaseInProcess",function(){var e=k.a.getState(),t=D()(e,"id.content");if(e&&e.value&&e.modalType&&e.selected&&t){var n=D()(i.props,"content.gist.id"),s=!1;if(i.props&&i.props.bundleOverlay){var a=D()(i.props,"content.gist.id")||{},r=a.content,o=void 0===r?null:r,l=a.items,c=void 0===l?[]:l;s=t===o||c&&c&&-1!==T()(c).findIndex(function(t){return e.id.content===t})}else s=t===n;if(!s)return;switch(e.modalType){case"createSubscription":Object(P.createSubscription)(e.selected.id,i.props.type);break;case"purchase":var d=(e.args||{}).content,p=void 0===d?null:d;Object(P.purchase)(e.selected,p||i.props.content,i.props.watchNow,i.props.purchased,i.props.type)}}}),f()(m()(i),"handleClick",function(){var e=D()(i.props,"content.gist.id");return e="object"===I()(e)?e:{content:e},Object(C.a)({value:!0,selected:i.props.items[i.state.selected],modalType:i.props.subscriptionPlans?"createSubscription":"purchase",id:e}),i.props.subscriptionPlans?Object(P.createSubscription)(i.props.items[i.state.selected].id,i.props.type):Object(P.purchase)(i.props.items[i.state.selected],i.props.content,i.props.watchNow,i.props.purchased,i.props.type)}),i.state={selected:0},i.handleClick=i.handleClick.bind(m()(i)),i}return v()(t,e),l()(t,[{key:"selected",value:function(e){this.setState({selected:e})}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search);e&&e.get("overlay")&&!this.props.subscriptionPlans?Object(P.purchase)(this.props.items[this.state.selected],this.props.content,this.props.watchNow,this.props.purchased):this.renderPurchaseInProcess()}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"overlay-video ".concat(this.props.bundleOverlay?"overlay-bundle":"")},w.a.createElement("div",{className:"overlay-title"},w.a.createElement("span",null,this.props.title)),this.props.warning&&w.a.createElement("div",{className:"warning"},this.props.warning),w.a.createElement("div",{className:"overlay-body"},w.a.createElement("div",{className:"overlay-body-plans"},this.props.items&&this.props.items.map(function(t,i){return w.a.createElement("div",{className:"plan ".concat(e.state.selected===i?"selected":""," "),onClick:function(t){return e.selected(i)},key:i},w.a.createElement("div",{className:"side-bar"}),w.a.createElement("div",{className:"plan-body"},w.a.createElement("p",{className:"title"},t.name)))})),w.a.createElement("div",{className:"overlay-button cta",onClick:this.handleClick},w.a.createElement("button",null,Object(O.a)(window.settings,"genericMessages","continueCta")," ",this.props.warning?Object(O.a)(window.settings,"genericMessages","warningCta"):""))))}}]),t}(b.Component),N=i(36),R=i(2),M=(i(1136),function(e){function t(){var e,i;r()(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=d()(this,(e=u()(t)).call.apply(e,[this].concat(s))),f()(m()(i),"state",{selected:0,items:[],plans:[],planSelected:0}),f()(m()(i),"planSelected",function(e){i.setState({planSelected:e})}),f()(m()(i),"getTitleBasedOnPricingOption",function(){var e=Object(R.groupBy)(i.state.items,"option");return Object.keys(e).includes("Purchase")&&Object.keys(e).includes("Rent")?Object(O.a)(window.settings,"genericMessages","rentPurchaseOverlayLabel"):Object.keys(e).includes("Purchase")?Object(O.a)(window.settings,"genericMessages","purchaseOverlayLabel"):Object.keys(e).includes("Rent")?Object(O.a)(window.settings,"genericMessages","rentOverlayLabel"):void 0}),i}return v()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,i=this.props.content,n={video:i.gist.id,series:i.seriesId,season:i.seasonId},s=t.formatPricing(i.pricing,n,i.gist.title||i.gist.description),a=this.props.content&&this.props.content.pricing&&this.props.content.pricing.type;a&&a.includes("SVOD")&&(window.sessionStorage.getItem("plans")?Object(N.d)().then(function(t){e.setState({plans:t})}):Object(N.h)().then(function(t){e.setState({plans:t})})),this.setState({type:a,items:s})}},{key:"selected",value:function(e){this.setState({selected:e})}},{key:"render",value:function(){var e=this.state,t=e.plans,i=e.items,n=e.type,a=this.getTitleBasedOnPricingOption(),r=n&&"SVOD"===n,o=this.props.content&&this.props.content.pricing&&this.props.content.pricing.type;return w.a.createElement("div",{className:"overlay-video-container ".concat(t.length>0&&!r&&"subscriptions")},!r&&w.a.createElement(A,s()({title:a,items:i},this.props,{type:o})),t.length>0&&w.a.createElement(A,s()({title:Object(O.a)(window.settings,"navigation.settings","primaryCta.ctaText"),type:o,items:t,subscriptionPlans:!0},this.props)))}}],[{key:"formatPricing",value:function(e,t,i,n){var s=[],a=window.settings.internalName.includes("supercrosslive")?Object(O.a)(window.settings,"genericMessages","singleEventLabel"):"".concat(i," |");return Object.keys(e).forEach(function(i){e[i]&&"type"!==i&&"currency"!==i&&Object.keys(e[i]).forEach(function(r){if(e[i][r]&&"currency"!==r){var o={};o.key=r.toUpperCase(),o.videoID=t.video,o.contentID=t.content,Object(R.isObject)(t.video)&&(t=t.video,o.videoID=t.video||t.items.join(",")||null,o.contentID=t.content),o.seriesId=t.series||null,o.seasonId=t.season||null,o.currency=e.currency?e.currency:"USD",o.option=(c=i).charAt(0).toUpperCase().concat(c.substring(1)),o.price=e[i][r],o.contentType=n?"VIDEO"===n&&t.season&&t.series?"EPISODE":n:null;var l="rent"==o.option.toLowerCase()?Object(O.a)(window.settings,"genericMessages","rentOverlayLabel"):"purchase"==o.option.toLowerCase()?Object(O.a)(window.settings,"genericMessages","purchaseOverlayLabel"):o.option;o.name="".concat(a," ").concat(l," ").concat(e.currency?e.currency:"USD"," ").concat(o.price),s.push(o)}var c})}),s}}]),t}(b.Component));t.a=M},1127:function(e,t,i){"use strict";var n=i(2),s=["directors","director","actor","actors","starring","cast","lyrics","music director"];t.a=function(e){if(!e)return[];var t=Object(n.filter)(e,function(e,t){return!!e.title&&(e.title=e.title.trim().toLowerCase(),Object(n.includes)(s,e.title))});return Object(n.sortBy)(t,"title")}},1128:function(e,t,i){"use strict";var n=i(1077),s=i.n(n),a=i(5),r=i.n(a),o=i(10),l=i.n(o),c=i(16),d=i.n(c),p=i(17),u=i.n(p),h=i(18),m=i.n(h),g=i(19),v=i.n(g),y=i(20),f=i.n(y),b=i(0),w=i.n(b),E=i(1086),I=i(1079),S=(i(1131),function(e){function t(e){var i;return d()(this,t),(i=m()(this,v()(t).call(this,e))).state={trailerInfo:e.trailerId,video:null,isTrayCheck:!1,response:null},i}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=l()(r.a.mark(function e(){var t,i,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,!this.props.checkDetails){e.next=7;break}return i=this.state.trailerInfo&&this.state.trailerInfo.contentDetails.trailers[0].id,e.next=5,Object(I.d)(i,function(e){t.setState({video:e.data.video}),t.setState({response:e})});case 5:e.next=10;break;case 7:return n=this.state.trailerInfo&&this.state.trailerInfo.showDetails.trailers[0].id,e.next=10,Object(I.d)(n,function(e){t.setState({video:e.data.video}),t.setState({response:e})});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.video||null,t={};return e&&(t={id:e.gist.id,siteId:window.settings.siteId,permalink:e.gist.permalink,title:e.title,videoId:e.gist.id,trailerImage:e.gist.videoImageUrl,videoImageUrl:e.gist.videoImageUrl,gist:e.gist}),w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"container"},w.a.createElement("div",{className:"portrait"===this.props.portrait?"trayWrapper":"wrapper"},w.a.createElement("div",{style:{height:"100%"}},e&&this.state.response&&w.a.createElement(E.default,s()({},t,{video:t,response:this.state.response,isCheck:!1!==this.props.isCheck,isTray:!1!==this.props.isTray,fileType:"hls",modalOpen:!0,isTrailer:e.gist.isTrailer,autoplay:!0,permalink:e.gist.permalink,parentalRating:e.parentalRating,isFree:e.gist.free,closedCaptions:e.contentDetails.closedCaptions}))))))}}]),t}(w.a.Component));t.a=S},1129:function(e,t,i){"use strict";var n=i(9),s=i.n(n),a=i(202),r=i(203),o=i(1106),l={trailerSrc:"",episodeTitle:"",episodeDesc:"",permalink:"",id:"",newsTrayId:"",contentType:"",seriesDatas:{},video:null},c=i(1098);var d=i(25),p=s()({},l),u=[Object(r.a)(),a.a],h=d.a.apply(void 0,u),m=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o.a.SET_EXPANDED_DETAILS:var i=document.getElementsByClassName("news-search-body").length>0;return""!==t.payload.id||i||Object(c.h)(!1),s()({},e,t.payload);default:return e}},p,h);t.a=m},1130:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(5),s=i.n(n),a=i(10),r=i.n(a),o=i(7),l=i(21),c=function(){var e=r()(s.a.mark(function e(t){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={parentalControl:!t},e.next=3,Object(l.p)(i).then(function(e){return!(!e||200!==e.status)&&(o.a.dispatch(Object(l.f)(!t)),!0)}).catch(function(e){return console.error(e),!1});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},1131:function(e,t,i){},1132:function(e,t,i){"use strict";var n=i(1077),s=i.n(n),a=i(9),r=i.n(a),o=i(16),l=i.n(o),c=i(17),d=i.n(c),p=i(18),u=i.n(p),h=i(19),m=i.n(h),g=i(20),v=i.n(g),y=i(0),f=i.n(y),b=function(e){function t(){return l()(this,t),u()(this,m()(t).apply(this,arguments))}return v()(t,e),d()(t,[{key:"onClick",value:function(e,t){this.props.onClickMiddleware?this.props.onClickMiddleware(e,t,this.onClickNext.bind(this,e,t)):this.onClickNext(e,t)}},{key:"onClickNext",value:function(e,t){}},{key:"render",value:function(){var e=r()({},this.props);return delete e.onClickMiddleware,f.a.createElement("a",s()({onClick:this.onClick.bind(this,this.props.href)},e),this.props.children)}}]),t}(f.a.Component);t.a=b},1133:function(e,t,i){var n=i(1134),s=i(564),a=i(246),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return r;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var i=l.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):o.test(e)?r:+e}},1134:function(e,t,i){var n=i(1135),s=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(s,""):e}},1135:function(e,t){var i=/\s/;e.exports=function(e){for(var t=e.length;t--&&i.test(e.charAt(t)););return t}},1136:function(e,t,i){},1137:function(e,t){e.exports=function(e,t,i,n){for(var s=e.length,a=i+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}},1138:function(e,t,i){var n=i(1139);e.exports=function(e){var t=n(e),i=t%1;return t===t?i?t-i:t:0}},1139:function(e,t,i){var n=i(1133),s=1/0,a=1.7976931348623157e308;e.exports=function(e){return e?(e=n(e))===s||e===-s?(e<0?-1:1)*a:e===e?e:0:0===e?e:0}},1140:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(1106),s=function(e){return{type:n.a.SET_EXPANDED_DETAILS,payload:e}}},1141:function(e,t,i){},1142:function(e,t,i){"use strict";var n=i(0),s=i.n(n);i(1155);t.a=function(e){var t=e.children,i=e.enableCustomStyle;return t?s.a.createElement("div",{className:"BlockTitle"+(i?" custom-settings":"")},t):s.a.createElement("div",null)}},1151:function(e,t,i){},1152:function(e,t,i){},1153:function(e,t,i){},1154:function(e,t,i){},1155:function(e,t,i){},1156:function(e,t,i){var n=i(1137),s=i(1163),a=i(1138),r=Math.max;e.exports=function(e,t,i){var o=null==e?0:e.length;if(!o)return-1;var l=null==i?0:a(i);return l<0&&(l=r(o+l,0)),n(e,s(t,3),l)}},1178:function(e,t){},232:function(e,t,i){"use strict";i.r(t),i.d(t,"displayDetailsOnBottom",function(){return o}),i.d(t,"displayCategoryItems",function(){return l}),i.d(t,"getThumbnailImageCircular",function(){return c}),i.d(t,"getThumbnailImage",function(){return d}),i.d(t,"getRecommendationItemImages",function(){return p}),i.d(t,"getLowQualityImageCircular",function(){return u}),i.d(t,"getLowQualityImage",function(){return h}),i.d(t,"trayHoverStyle",function(){return m}),i.d(t,"getVideoRedirectLink",function(){return g}),i.d(t,"applyTrayCustomStyle",function(){return v});var n=i(0),s=i.n(n),a=i(2),r=i(38);function o(e,t){var i=t.primaryCategory,n=t.featuredTag?t.featuredTag.title:"",a="".concat(parseInt((t.runtime+1)/60),"m");return s.a.createElement("div",{className:"details_bottom"},s.a.createElement("div",{className:"black_bar"},"".concat(e?e.title:a).concat(i?" \xb7 "+i.title:"")),s.a.createElement("div",{className:"black_bar"},"".concat(n?n+" \xb7":""," ").concat(t.title)))}function l(e,t){var i=[];if(e.gist.primaryCategory&&i.push(e.gist.primaryCategory.title),!t&&e.categories){var n=e.categories.map(function(e){return e.title});i=i.concat(n)}return i}function c(e){var t=e.maxWidth||400;t+=100;var i=e.item.gist,n="portrait"===e.thumbnailType?Object(a.get)(e.item.gist,'imageGist["_1x1"]')||i.posterImageUrl||Object(a.get)(i.posterImage,"url")||Object(a.get)(e.item.images,"_3x4Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_3x4"]')||Object(a.get)(window.settings,"images.placeholderPoster"):Object(a.get)(e.item.gist,'imageGist["_1x1"]')||i.videoImageUrl||Object(a.get)(i.videoImage,"url")||Object(a.get)(i,"landscapeImageUrl")||Object(a.get)(e.item.images,"_16x9Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_16x9"]')||Object(a.get)(e.item.images,"_16x9.url")||Object(a.get)(window.settings,"images.placeholderCover");return"portrait"===e.thumbnailType?"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(1.48*t):"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(.5625*t)}function d(e){var t=e.maxWidth||400;t+=100;var i=e.item.gist,n="portrait"===e.thumbnailType?i.posterImageUrl||Object(a.get)(i.posterImage,"url")||Object(a.get)(e.item.images,"_3x4Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_3x4"]')||Object(a.get)(window.settings,"images.placeholderPoster"):i.videoImageUrl||Object(a.get)(i.videoImage,"url")||Object(a.get)(i,"landscapeImageUrl")||Object(a.get)(e.item.images,"_16x9Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_16x9"]')||Object(a.get)(e.item.images,"_16x9.url")||Object(a.get)(window.settings,"images.placeholderCover");return"portrait"===e.thumbnailType?"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(1.48*t):"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(.5625*t)}function p(e){var t=e.maxWidth||400,i=e.item.gist,n="";return n="portrait"===e.thumbnailType?i.posterImageUrl||Object(a.get)(i.posterImage,"url")||Object(a.get)(e.item.images,"_3x4Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_3x4"]')||Object(a.get)(window.settings,"images.placeholderPoster"):"_9*16"===e.thumbnailType?i.imageGist._9x16||Object(a.get)(i,"posterImageUrl")||Object(a.get)(e.item.images,"_9x16Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_9x16"]')||Object(a.get)(window.settings,"images.placeholderPoster"):i.videoImageUrl||Object(a.get)(i.videoImage,"url")||Object(a.get)(i,"landscapeImageUrl")||Object(a.get)(e.item.images,"_16x9Image.secureUrl")||Object(a.get)(e.item.gist,'imageGist["_16x9"]')||Object(a.get)(e.item.images,"_16x9.url")||Object(a.get)(window.settings,"images.placeholderCover"),"portrait"===e.thumbnailType?"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(1.48*t):"_9*16"===e.thumbnailType?"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(1.78*t):"".concat(n,"?impolicy=resize&w=").concat(t,"&h=").concat(.5625*t)}function u(e){var t=e.item.gist,i="portrait"===e.thumbnailType?Object(a.get)(e.item.gist,'imageGist["_1x1"]')||t.posterImageUrl||Object(a.get)(t.posterImage,"url")||Object(a.get)(window.settings,"images.placeholderPoster"):Object(a.get)(e.item.gist,'imageGist["_1x1"]')||t.videoImageUrl||Object(a.get)(t.videoImage,"url")||Object(a.get)(t,"landscapeImageUrl")||Object(a.get)(e.item.images,"_16x9.url")||Object(a.get)(window.settings,"images.placeholderCover"),n="portrait"===e.thumbnailType?"w=".concat(20,"&h=",35.6):"w=".concat(20,"&h=",11.25);return"".concat(i,"?impolicy=resize&").concat(n)}function h(e){var t=e.item.gist,i="portrait"===e.thumbnailType?t.posterImageUrl||Object(a.get)(t.posterImage,"url")||Object(a.get)(window.settings,"images.placeholderPoster"):t.videoImageUrl||Object(a.get)(t.videoImage,"url")||Object(a.get)(t,"landscapeImageUrl")||Object(a.get)(e.item.images,"_16x9.url")||Object(a.get)(window.settings,"images.placeholderCover"),n="portrait"===e.thumbnailType?"w=".concat(20,"&h=",35.6):"w=".concat(20,"&h=",11.25);return"".concat(i,"?impolicy=resize&").concat(n)}function m(e){return{boxShadow:"0px 0px 34px 0px ".concat(e)}}var g=function(e){var t="";if(e.gist){var i=e.gist,n=i.permalink,s=i.watchedTime,a=i.id,o=s?"?start=".concat(s):"";t="".concat(n).concat(o),Object(r.e)("showDetailToggle")&&e.series&&e.series.length>0&&(o=s?"&start=".concat(s):"",t="".concat(e.series[0].gist.permalink,"?v=").concat(a).concat(o))}return t},v=function(e){if(e.layout&&e.layout.settings.enableCustomStyle){var t=e.layout.settings,i=t.trayArrowColor,n=void 0===i?null:i,a=t.progressBarColor,r=void 0===a?null:a,o=e.layout.id,l=n?"color: rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(n.a,");"):"",c=r?"color: rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(r.a,");"):"";return s.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n    #tray-".concat(o," .slick-next,\n    #tray-").concat(o," .slick-next:before,\n    #tray-").concat(o," .slick-prev,\n    #tray-").concat(o," .slick-prev:before {\n      ").concat(l,"\n      ").concat(c,"\n    }\n  ")}})}}},235:function(e,t,i){"use strict";i.r(t),i.d(t,"getRatingList",function(){return c});var n=i(5),s=i.n(n),a=i(10),r=i.n(a),o=i(3),l=i.n(o),c=function(){var e=r()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.settings.layoutUrlBase+"assets/rating-map.json",e.next=3,l.a.get(t).then(function(e){return e.data});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},236:function(e,t,i){"use strict";i.r(t);var n=i(5),s=i.n(n),a=i(10),r=i.n(a),o=i(16),l=i.n(o),c=i(17),d=i.n(c),p=i(18),u=i.n(p),h=i(19),m=i.n(h),g=i(13),v=i.n(g),y=i(20),f=i.n(y),b=i(14),w=i.n(b),E=i(0),I=i.n(E),S=i(220),T=i(15),P=i(7),O=i(608),C=i(21),k=i(1130),j=i(12),D=i(1084),A=(i(991),i(26)),N=i(4),R=i(33),M=i(201),L=function(e){function t(e){var i;return l()(this,t),i=u()(this,m()(t).call(this,e)),w()(v()(i),"handleState",function(e,t){var n=e.target,s=n.name,a=n.value;Number(e.target.value)>=0?(i.setState(w()({},s,a)),i.moveOnMax(e,a,t)):i.setState(w()({},s,""))}),w()(v()(i),"fetchPageData",function(){Object(N.b)(function(e){var t=Object(A.a)(e).countryCode,n="";n="https://prod-api.viewlift.com"===window.settings.apiBaseUrl?"https://prod-api-cached-2.viewlift.com":window.settings.apiBaseUrlCached||window.settings.apiBaseUrl;var s={Authorization:e,"x-api-key":window.settings.baseAPIKey};return Object(M.b)({method:"GET",url:"".concat(n,"/content/pages?path=/user&languageCode=").concat(Object(R.g)(),"&includeContent=true&countryCode=").concat(t),headers:s}).then(function(e){var t=e.data&&e.data.modules[1];i.setState({localizedFields:t.metadataMap})}).catch()})}),w()(v()(i),"moveOnMax",function(e,t,n){t&&1===t.length&&n<5?document.getElementById("pinOverlay"+i.state.rating+n).focus():t&&1===t.length&&5===n&&(document.getElementById("pinOverlay"+i.state.rating+(n-1)).blur(),i.combinedPins(n),i.handleSubmit(e))}),w()(v()(i),"combinedPins",function(e){var t=[];i.pinsRef&&i.pinsRef.length>0&&i.pinsRef.map(function(n){if(t.push(n.value),t&&t.length===e-1){var s=t.join("");i.setState({pins:s})}})}),w()(v()(i),"handleSubmit",function(){var e=r()(s.a.mark(function e(t){var n,a,r,o,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.preventDefault();case 2:if(n=/[0-9]{4}/g,i.state.pins&&!(i.state.pins.length<4)){e.next=8;break}return i.alert(Object(j.a)(window.settings,"genericMessages","validPinError")||"Enter valid PIN"),e.abrupt("return",!1);case 8:if(n.test(i.state.pins)){e.next=13;break}return i.alert(Object(j.a)(window.settings,"genericMessages","validPinError")||"Enter valid PIN"),e.abrupt("return",!1);case 13:i.setState({processing:!0});case 14:if(a=Object(D.a)(),i.state.pins!==a){e.next=21;break}i.alert(Object(j.a)(window.settings,"genericMessages","correctPinMessage")||"The PIN is correct"),(r=i.props&&i.props.args&&i.props.args.parentalControlToogle)?Object(k.a)(r)?(i.props.args.updateParentalControlToogle(),i.setState({processing:!1}),Object(T.hide)()):(i.alert(Object(j.a)(window.settings,"genericMessages","errorOccurredMessage")||"An error occurred"),i.setState({processing:!1})):(i.setState({processing:!0}),i.props.videoId&&a&&((o=P.a.getState().user)&&Object(O.setPinInSession)(a,o),i.props.initializePlayer()&&i.props.initializePlayer()),i.state.popupFlow?i.state.popupFlow?i.state.rating&&(l={parentalRating:i.state.rating},i.setState({processing:!0},i.saveRating(l))):i.setState({processing:!1}):(i.props.changePinState(),i.setState({processing:!1,askPin:!1,textBoxStyle:{border:"1px solid #616161"}}))),e.next=24;break;case 21:return i.alert(Object(j.a)(window.settings,"genericMessages","inCorrectPinMessage")||"Incorrect PIN. Please try again"),i.setState({pinsRef:[],processing:!1,textBoxStyle:{border:"1px solid red"}}),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),i.state={error:"",processing:"",pins:"",askPin:e.askPin||e.args.askPin,popupFlow:e.args&&e.args.askPin||!1,textBoxStyle:{border:"1px solid #616161"},rating:e.args&&e.args.rating||!1,localizedFields:{}},i.pinsRef=[],i.pinBoxes=[1,2,3,4],i}return f()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.fetchPageData()}},{key:"saveRating",value:function(e){var t=this;Object(C.p)(e).then(function(e){if(!e||200!==e.status)return t.alert(Object(j.a)(window.settings,"genericMessages","unableSetPin")||"Unable to set the PIN"),!1;P.a.dispatch(Object(C.z)(t.state.rating)),t.setState({processing:!1}),Object(T.hide)()})}},{key:"alert",value:function(e){var t=this;this.setState({error:e}),setTimeout(function(e){return t.setState({error:null})},8e3)}},{key:"render",value:function(){var e=this;return this.state.processing?I.a.createElement("div",{className:"loading-centered"},I.a.createElement(S.a,null)):this.state.askPin?I.a.createElement("div",{className:"cascadesContainer"},I.a.createElement("div",{className:"modal flexColumn pinModal"},I.a.createElement("div",{className:"title"},Object(j.a)(window.settings,"genericMessages","viewingRestrictionsEnabled")||"Viewing Restrictions Enabled",I.a.createElement("div",{className:"closePlayer html5"})),I.a.createElement("div",{className:"description"},Object(j.a)(window.settings,"genericMessages","enterVideoPin")||"Please enter your PIN:",I.a.createElement("div",{className:"pinFields"},this.pinBoxes&&this.pinBoxes.length>0&&this.pinBoxes.map(function(t){var i=1===t;return I.a.createElement("input",{type:"password",key:t,style:e.state.textBoxStyle,className:"pinField",id:"pinOverlay"+e.state.rating+t,ref:function(i){return e.pinsRef[t]=i},onKeyUp:function(i){return e.handleState(i,t+1)},maxlength:"1",autoComplete:"false",autoFocus:i,required:!0})})),this.state.processing&&I.a.createElement("div",{className:"loading-centered"},I.a.createElement(S.a,null)),this.state.error&&I.a.createElement("div",{className:"error"},this.state.error),I.a.createElement("div",{className:"notes"},I.a.createElement("span",{className:"hand",onClick:function(t){return Object(T.setupPin)({args:e.state.localizedFields})}},Object(j.a)(window.settings,"genericMessages","resetYourPin")||"Reset your PIN"),I.a.createElement("span",null,"\xa0 OR  \xa0"),I.a.createElement("span",{className:"hand",onClick:function(t){return Object(T.viewingRestrictions)({args:e.state.localizedFields})}},Object(j.a)(window.settings,"genericMessages","changeViewingRestrictions")||"Change viewing restrictions"))))):I.a.createElement("div",null)}}]),t}(I.a.Component);t.default=L},237:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(13),u=i.n(p),h=i(20),m=i.n(h),g=i(14),v=i.n(g),y=i(0),f=i.n(y),b=i(32),w=function(e){function t(e){var i;return s()(this,t),i=l()(this,d()(t).call(this,e)),v()(u()(i),"buttonClicked",function(){!0===i.state.displayClevertapPopup&&i.props&&i.props.player&&i.props.player.play()}),v()(u()(i),"resumePlay",function(){var e=i.props&&i.props.player;void 0!==e&&e&&e.play(),!0===i.state.displayClevertapPopup&&i.setState({displayClevertapPopup:!1})}),v()(u()(i),"shouldDisplayClevertapPopup",function(e,t){return t&&t===e?!1===i.state.displayClevertapPopup&&i.setState({displayClevertapPopup:!0}):!0===i.state.displayClevertapPopup&&i.setState({displayClevertapPopup:!1})}),i.state={displayClevertapPopup:!1},i}return m()(t,e),r()(t,[{key:"componentDidMount",value:function(){var e=this;window.buttonClicked=this.buttonClicked;var t=this.props,i=t.player,n=t.video,s=t.userId,a=n&&n.gist&&n.gist.runtime,r=n&&n.gist&&n.gist.clevertapPopupTime;void 0!==i&&i&&i.on("timeupdate",function(t){var o=Math.floor(i.currentTime()),l="";r&&a&&(l=(r/a*100).toFixed(2)+"%"),!1===e.state.displayClevertapPopup&&o===r&&(i&&i.pause(),Object(b.g)("watchpopup",{userId:s,contentTitle:n&&n.gist&&n.gist.title,triggertime:o,watchTime:l}),e.shouldDisplayClevertapPopup(o,r))})}},{key:"render",value:function(){return""}}]),t}(f.a.Component);t.default=w},238:function(e,t,i){"use strict";i.r(t),i.d(t,"formatNewsDuration",function(){return s}),i.d(t,"getHignResImage",function(){return a}),i.d(t,"removePromos",function(){return r});var n=i(2);function s(e){var t=~~(e/60);return 0===t?"".concat(e," SEC"):"".concat(t," MIN")}function a(e){var t=e.item.gist;return"portrait"===e.thumbnailType?t.posterImageUrl||Object(n.get)(t.posterImage,"url")||Object(n.get)(e.item.images,"_3x4Image.secureUrl")||Object(n.get)(e.item.gist,'imageGist["_3x4"]')||Object(n.get)(window.settings,"images.placeholderPoster"):t.videoImageUrl||Object(n.get)(t.videoImage,"url")||Object(n.get)(t,"landscapeImageUrl")||Object(n.get)(e.item.images,"_16x9Image.secureUrl")||Object(n.get)(e.item.gist,'imageGist["_16x9"]')||Object(n.get)(e.item.images,"_16x9.url")||Object(n.get)(window.settings,"images.placeholderCover")}function r(e){return Object(n.filter)(e,function(e){return e.gist&&!e.gist.isTrailer&&"SERIES"!==e.gist.contentType&&!(e.gist.primaryCategory&&e.gist.primaryCategory.title&&e.gist.primaryCategory.title.includes("teaser"))&&!(e.tags.length>0&&Object(n.find)(e.tags,{title:"promo"}))})}},239:function(e,t,i){"use strict";i.r(t),i.d(t,"default",function(){return C});var n=i(1077),s=i.n(n),a=i(16),r=i.n(a),o=i(17),l=i.n(o),c=i(18),d=i.n(c),p=i(19),u=i.n(p),h=i(13),m=i.n(h),g=i(20),v=i.n(g),y=i(14),f=i.n(y),b=i(0),w=i.n(b),E=i(8),I=i.n(E),S=i(1156),T=i.n(S),P=i(210),O=i(27);function C(e){return function(t){function i(e){var t;return r()(this,i),t=d()(this,u()(i).call(this,e)),f()(m()(t),"trackTrayEvent",function(e,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN;if(t.googleAnalyticsId){var s=I()(t.page,"data.layouts"),a=I()(t.props,"data.id"),r=isFinite(n)&&n>-1?n:T()(s,function(e){return e.id===a})+1,o={pageName:I()(t.page,"data.title"),trayName:I()(t.props,"data.title")||I()(t.props,"trayTitle"),itemName:I()(e,"gist.title"),trayPos:r||n||1,itemPos:i+1};o.itemName&&o.itemPos&&o.pageName&&o.trayName&&o.trayPos&&Object(P.e)(o.trayName,o)}}),t.googleAnalyticsId=I()(window,"settings.analytics.googleAnalyticsId"),t.page=O.a.getState(),t.lazyLoadFlag=!(t.page&&I()(t.page,"data.modulesCount")<5)&&(void 0===t.props.lazyLoad||t.props.lazyLoad),t}return v()(i,t),l()(i,[{key:"render",value:function(){return w.a.createElement(e,s()({},this.props,{trackTrayEvent:this.trackTrayEvent,lazyLoad:this.lazyLoadFlag}))}}]),i}(w.a.Component)}},240:function(e,t,i){"use strict";i.r(t);var n=i(1077),s=i.n(n),a=i(16),r=i.n(a),o=i(17),l=i.n(o),c=i(18),d=i.n(c),p=i(19),u=i.n(p),h=i(13),m=i.n(h),g=i(20),v=i.n(g),y=i(14),f=i.n(y),b=i(0),w=i.n(b),E=i(2),I=i(1080),S=i(32),T=i(1105),P=i(211),O=i(1085),C=i(1107),k=i(11),j=i(219),D=i(232),A=i(218),N=i(1083),R=i(1101),M=function(e){function t(e){var i;return r()(this,t),i=d()(this,u()(t).call(this,e)),f()(m()(i),"hoverOver",function(e){e.persist(),Object(E.debounce)(function(e){if(window.outerWidth>1025){var t=e.target.closest(".tray-item"),n=t.parentElement,s=t.dataset.index;if(n.style.transform="scale(".concat(1.25,")"),null===n.nextSibling&&null===n.previousSibling)return;if(null===n.nextSibling||(parseInt(s,10)+1)%i.props.slidesToScroll===0)return n.classList.add("overflow"),void Array.from(n.parentElement.children).forEach(function(e){parseInt(e.dataset.index,10)<s&&(e.style.transform="translate3d(-".concat(.25*e.clientWidth,"px, 0, 0)"))});Array.from(n.parentElement.children).forEach(function(e){parseInt(e.dataset.index,10)>s&&(e.style.transform="translate3d(".concat(.25*e.clientWidth,"px, 0, 0)"))})}},100)(e)}),i.handleHover=i.handleHover.bind(m()(i)),i.handleClick=i.handleClick.bind(m()(i)),i.handleFocus=i.handleFocus.bind(m()(i)),i.handleShareToggleClick=i.handleShareToggleClick.bind(m()(i)),i.removeFromQueue=i.removeFromQueue.bind(m()(i)),i.addToQueue=i.addToQueue.bind(m()(i)),i.state={hoverOverflow:!1,isFocused:!1},i}return v()(t,e),l()(t,[{key:"handleHover",value:function(){var e=this,t=this.el.getBoundingClientRect(),i=window.document.body.clientWidth;this.setState({hoverOverflow:i<t.right+t.width}),setTimeout(function(t){return e.fetchUserData()},0)}},{key:"handleClick",value:function(e){this.props.isEpisode?this.props.openEpisodeOverlay(e,this.props.index,this.props.season):this.clearSession(),this.props.trackTrayEvent&&"function"===typeof this.props.trackTrayEvent&&this.props.trackTrayEvent(this.props.item,this.props.index,this.props.pos||NaN)}},{key:"handleFocus",value:function(e){var t=this;e.persist(),setTimeout(function(){e.currentTarget&&e.currentTarget.focus(),t.props.onFocus(t.props.index)},500)}},{key:"render",value:function(){var e=this,t=this.props.item,i=t.gist,n=this.props.infoHover,a=[],r=Object(E.find)(t.tags,function(e){return"classDuration"===e.tagType}),o=i.watchedPercentage||0,l=Object(D.displayCategoryItems)(t,this.props.onlyPrimaryCategory),c=Object(E.get)(i,'imageGist["_9x16"]'),d=this.props.aspectRatio?"".concat(this.props.aspectRatio,"%"):c?"178%":null;return t.tags&&t.tags.forEach(function(e){"equipment"===e.tagType&&a.push(e.title)}),"PERSON"===i.contentType?w.a.createElement(C.a,s()({},this.props,{item:t,thumbnailImage:this.thumbnailImage,lowQualityImage:this.lowQualityImage})):"SEASON_PASS"===i.contentType?w.a.createElement("a",{className:"video-tray-item",onClick:this.handleClick},w.a.createElement("div",{className:"image-and-details",style:{backgroundColor:i.background}},w.a.createElement("div",{className:"title-overlay"},w.a.createElement("span",null,i.title),w.a.createElement("div",{className:"purchase-season-cta cta"},i.cta)))):w.a.createElement("div",{className:"tray-item","data-index":this.props.index,onMouseEnter:!this.props.noHover&&n?this.hoverOver:void 0,onMouseLeave:this.mouseLeave},w.a.createElement("a",{itemprop:"contentUrl",className:"video-tray-item ".concat(this.state.hoverOverflow?"overflow":""," ").concat(this.props.thumbnailType),href:i.permalink,ref:function(t){return e.el=t},onClick:this.handleClick,onFocus:this.handleFocus,onMouseEnter:this.handleHover},w.a.createElement("div",{className:"image-and-details",style:d&&{paddingTop:d}},this.metaData,!this.props.noBadgeImage&&w.a.createElement(N.a,{item:t,thumbnailType:this.props.thumbnailType}),w.a.createElement("div",{className:"image"},w.a.createElement("img",{src:this.props.clickNext||!this.props.lazyLoad?this.thumbnailImage:this.lowQualityImage,alt:i.title,className:"lazy","data-src":this.thumbnailImage,itemprop:"thumbnailUrl"}),"PERSON"!==i.contentType&&!this.props.hideCategories&&w.a.createElement("div",{className:"details"},r&&w.a.createElement("div",{className:"duration item"},r.title),i.primaryCategory&&i.primaryCategory.title&&l.map(function(e){return w.a.createElement("div",{key:e,className:"detail_item"},e)})),w.a.createElement("span",{itemprop:"name",style:{display:"none"}},i&&i.title),Object(R.a)(i),!this.props.noHover&&n&&"PERSON"!==i.contentType&&w.a.createElement("div",{className:"hover-details"},i.scheduleStartDate&&w.a.createElement("div",{className:"day"},Object(I.format)(i.scheduleStartDate,"dddd h:mm A")),i.description&&w.a.createElement("div",{className:"desc"},Object(P.b)(i.description,20,10)),a.length>0&&w.a.createElement("div",{className:"tag-list"},w.a.createElement("p",{className:"equipment-title"},"SET-UP"),w.a.createElement("p",{className:"equipments"},a.join(","))))),i.scheduleStartDate&&w.a.createElement("div",{className:"event-time"},Object(I.format)(i.scheduleStartDate,"h:mm A")),this.props.showProgressBar&&o>0&&w.a.createElement("progress",{value:o,max:"100"}),this.props.showPlayIcon&&w.a.createElement(A.I,{className:"playIconLarge"}))),this.props.showDetailsBottom&&Object(D.displayDetailsOnBottom)(r,i))}},{key:"mouseLeave",value:function(e){e.persist(),Object(E.debounce)(function(e){var t=e.target.closest(".tray-item");Array.from(t.parentElement.parentElement.children).forEach(function(e){e.classList.remove("overflow"),e.style.transform="translate3d(0, 0, 0)"})},100)(e)}},{key:"handleShareToggleClick",value:function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:this.props.item.gist};O.a.open(t)}},{key:"clearSession",value:function(){window.sessionStorage.removeItem("rvid")}},{key:"fetchUserData",value:function(){var e=this,t=this.props.item.gist.originalObjectId||this.props.item.gist.id;Object(k.f)(function(i){i?Object(j.k)(t,function(t){e.setState({userData:t})}):e.setState({userData:null})})}},{key:"addToQueue",value:function(){var e=this,t=this.props.item,i=t.gist,n=void 0===i?{}:i,s=t.creditBlocks,a=void 0===s?[]:s,r=n.id,o=n.contentType,l=n&&n.title||r;Object(j.a)(r,o,l,function(t){var i={contentId:n.id,contentTitle:n.title,contentType:n.contentType,playbackType:"Streamed",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",PlaySource:Object(S.c)(),showName:n.title,platform:"Web"};a.forEach(function(e){"Director"===e.title.trim()&&(i.directorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"Starring"===e.title.trim()&&(i.actorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),Object(S.g)("Added to Watchlist",i),e.setState({isQueued:!0})})}},{key:"removeFromQueue",value:function(){var e=this,t=this.props.item,i=t.gist,n=void 0===i?{}:i,s=t.creditBlocks,a=void 0===s?[]:s,r=n.id,o=n&&n.title||r;Object(j.o)(r,o,function(t){var i={contentId:n.id,contentTitle:n.title,contentType:n.contentType,playbackType:"Streamed",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",PlaySource:Object(S.c)(),showName:n.title,platform:"Web"};a.forEach(function(e){"Director"===e.title.trim()&&(i.directorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"Starring"===e.title.trim()&&(i.actorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),Object(S.g)("Removed From Watchlist",i),e.setState({isQueued:!1})})}},{key:"thumbnailImage",get:function(){var e=this.props.maxWidth||400,t=this.props.item.gist,i="portrait"===this.props.thumbnailType?Object(E.get)(t,'imageGist["_9x16"]')||t.posterImageUrl||Object(E.get)(t.posterImage,"url")||Object(E.get)(this.props.item.images,"_3x4Image.secureUrl")||Object(E.get)(this.props.item.images,"_3x4Image.secureUrl")||Object(E.get)(t,'imageGist["_3x4"]')||Object(E.get)(window.settings,"images.placeholderPoster"):t.videoImageUrl||Object(E.get)(t.videoImage,"url")||Object(E.get)(t,"landscapeImageUrl")||Object(E.get)(this.props.item.images,"_16x9Image.secureUrl")||Object(E.get)(t,'imageGist["_16x9"]')||Object(E.get)(window.settings,"images.placeholderCover");return"portrait"===this.props.thumbnailType?"".concat(i,"?impolicy=resize&w=").concat(e,"&h=").concat(1.78*e):"".concat(i,"?impolicy=resize&w=").concat(e,"&h=").concat(.5625*e)}},{key:"lowQualityImage",get:function(){var e=this.props.item.gist,t="portrait"===this.props.thumbnailType?Object(E.get)(e,'imageGist["_9x16"]')||e.posterImageUrl||Object(E.get)(e.posterImage,"url")||Object(E.get)(window.settings,"images.placeholderPoster"):e.videoImageUrl||Object(E.get)(e.videoImage,"url")||Object(E.get)(e,"landscapeImageUrl")||Object(E.get)(e,'imageGist["_16x9"]')||Object(E.get)(window.settings,"images.placeholderCover");return"".concat(t,"?impolicy=resize&w=20&h=20")}},{key:"metaData",get:function(){var e=Object(E.get)(this.props,"item.gist"),t=Object(E.get)(window.settings,"brand.metadata");if(e)return w.a.createElement("div",{className:"metadata"},t&&t.displayDuration&&e.runtime&&w.a.createElement("span",null,Object(T.a)(e.runtime)),t&&t.displayAuthor&&e.author&&w.a.createElement("span",null,e.author),t&&t.displayPublishDate&&e.publishDate&&w.a.createElement("span",null,Object(I.format)(e.publishDate,"MMM D")),"IMAGE"===e.contentType&&this.props.item.streamingInfo&&this.props.item.streamingInfo.photogalleryAssets.length>0&&w.a.createElement("span",null,w.a.createElement("ion",{className:"ion-camera"})," ",this.props.item.streamingInfo.photogalleryAssets.length," Photos"))}}]),t}(w.a.Component);t.default=M},241:function(e,t,i){"use strict";i.r(t);var n=i(16),s=i.n(n),a=i(17),r=i.n(a),o=i(18),l=i.n(o),c=i(19),d=i.n(c),p=i(13),u=i.n(p),h=i(20),m=i.n(h),g=i(14),v=i.n(g),y=i(0),f=i.n(y),b=i(2),w=i(1080),E=i(1127),I=i(32),S=i(1105),T=i(211),P=i(1085),O=i(31),C=i(7),k=i(1107),j=i(1128),D=i(11),A=i(219),N=i(1083),R=i(232),M=i(12),L=i(218),_=function(e){return f.a.createElement("div",{className:"queue-button"},e.isAdded?f.a.createElement("div",{className:"remove",onClick:e.remove},f.a.createElement(L.K,null)):f.a.createElement("div",{className:"add",onClick:e.add},f.a.createElement(L.b,null)))},x=i(1),F=i.n(x),V=i(244),U=i(1081),W=i(1101),B=function(e){function t(e){var i;return s()(this,t),i=l()(this,d()(t).call(this,e)),v()(u()(i),"state",{hoverOverflow:!1,isFocused:!1,tooltip:!1,isQueued:!1,showTrailer:!1,enablePreview:!1}),v()(u()(i),"handleHover",function(){var e=i.el.current;if(e){var t=e.getBoundingClientRect(),n=window.document.body.clientWidth;i.setState({hoverOverflow:n<t.right+t.width}),setTimeout(function(e){return i.fetchUserData()},0),void 0===i.props.item.showDetails&&void 0===i.props.item.contentDetails||(i.timer2=setTimeout(function(){i.setState({showTrailer:!0})},1e3)),i.handleInfoPreview()}}),v()(u()(i),"handleClick",function(e){var t=i.props||{},n=t.trayTitle,s=t.index,a=t.season,r=t.item,o=(t.trackTrayEvent,t.isPersonalizationTray);n&&Object(I.f)(n),F.a.set("isFromRecommendationTray",!1),("recommdationTray"===i.props.trayTitle||o)&&(F.a.set("isFromRecommendationTray",!0),localStorage.setItem("recommendedVideoIds",JSON.stringify({records:i.props.refItems}))),i.props.isEpisode?i.props.openEpisodeOverlay(e,s,a,r,null,!0):i.clearSession(),i.props.trackTrayEvent&&"function"===typeof i.props.trackTrayEvent&&i.props.trackTrayEvent(r,s,i.props.pos||NaN)}),v()(u()(i),"handleBundleClick",function(e){i.props.isBundle&&i.props.purchaseBundleItem(e,i.props.item)}),v()(u()(i),"handleShareToggleClick",function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:i.props.item.gist};P.a.open(t)}),v()(u()(i),"getVideoInfo",function(){if(void 0!=i.props.item.gist){var e=i.props.item.gist.id||"";Object(D.f)(function(t){t&&Object(A.k)(e,function(e){i.setState({isQueued:e.isQueued})})})}}),v()(u()(i),"addToQueue",function(){var e=i.props.item,t=e.gist,n=void 0===t?{}:t,s=e.creditBlocks,a=void 0===s?[]:s,r=e.categories,o=void 0===r?[]:r,l=n.id,c=n.contentType,d=n&&n.title||l;Object(A.a)(l,c,d,function(e){o.push(n.primaryCategory);var t={contentId:n.id,contentTitle:n.title,contentType:"EPISODIC"===n.mediaType?"Episode":"Video",contentDuration:n.runtime,playbackType:"Streamed",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",platform:"Web",playSource:window.sessionStorage.getItem("playSourcePrefix")||"",showName:n.title};a.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(t.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(t.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),t.contentGenre=o.map(function(e){return e.title}).join(","),Object(I.g)("Added to Watchlist",t),i.setState({isQueued:!0})})}),v()(u()(i),"removeFromQueue",function(){var e=i.props.item,t=e.gist,n=void 0===t?{}:t,s=e.creditBlocks,a=void 0===s?[]:s,r=e.categories,o=void 0===r?[]:r,l=n.id,c=n&&n.title||l;Object(A.o)(l,c,function(e){o.push(n.primaryCategory);var t={contentId:n.id,contentTitle:n.title,contentType:"EPISODIC"===n.mediaType?"Episode":"Video",contentDuration:n.runtime,playbackType:"Streamed",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",platform:"Web",playSource:window.sessionStorage.getItem("playSourcePrefix")||"",showName:n.title};a.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(t.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(t.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),t.contentGenre=o.map(function(e){return e.title}).join(","),Object(I.g)("Removed From Watchlist",t),i.setState({isQueued:!1})})}),v()(u()(i),"showTitle",function(e){var t=e.title;return e.contentType&&"person"==e.contentType.toLowerCase()&&(e.firstName&&e.lastName?t="".concat(e.firstName," ").concat(e.lastName):e.firstName?t=e.firstName:e.lastName&&(t=e.lastName)),t}),v()(u()(i),"getGradientStyle",function(e,t){var i=window.settings.brand.cta.primary.backgroundColor;return e&&!t?{background:"linear-gradient(301deg ,".concat(e,", ").concat(i," )")}:!e&&t?{background:"linear-gradient(301deg ,".concat(i," , ").concat(t,")")}:{background:"linear-gradient(301deg,".concat(e,",").concat(t,")")}}),v()(u()(i),"getTrayGradient",function(e,t){return e&&!t?{background:"linear-gradient(to top ,".concat(e," 15%, transparent 45% )")}:!e&&t?{background:"linear-gradient(to top , transparent 15% , ".concat(t," 45%)")}:{background:"linear-gradient(to top,".concat(e," 15% , ").concat(t," 45%)")}}),v()(u()(i),"handleTooltip",function(e){e.preventDefault(),e.stopPropagation(),i.setState(function(e){return{tooltip:!e.tooltip}})}),v()(u()(i),"handleInfoPreview",function(){i.props.showPreview&&i.props.infoHover&&i.details.current&&(i.details.current.style.display="none"),i.props.showPreview&&(i.props.item.contentDetails&&i.props.item.contentDetails.trailers&&0!==i.props.item.contentDetails.trailers.length||i.props.item.showDetails&&i.props.item.showDetails.trailers&&0!==i.props.item.showDetails.trailers.length)?i.watchListIcon.current&&(i.watchListIcon.current.style.display="none"):i.el.current&&(i.el.current.style.transform="scale(1)")}),i.el=f.a.createRef(),i.timer2="",i.details=f.a.createRef(),i.watchListIcon=f.a.createRef(),i}return m()(t,e),r()(t,[{key:"clearSession",value:function(){window.sessionStorage.removeItem("rvid")}},{key:"fetchUserData",value:function(){var e=this,t=this.props.item.gist.originalObjectId||this.props.item.gist.id;Object(D.f)(function(i){i?Object(A.k)(t,function(t){e.setState({userData:t})}):e.setState({userData:null})})}},{key:"socialShare",value:function(e){var t=this.props.item,i=t.gist,n=void 0===i?{}:i,s=t.creditBlocks,a=void 0===s?[]:s,r=t.categories,o=void 0===r?[]:r;o.push(n.primaryCategory);var l={contentId:n.id,contentTitle:n.title,contentType:n.isTrailer?"Trailer":"EPISODIC"===n.mediaType?"Episode":"Movie Video",contentDuration:n.runtime,playbackType:"Streamed",platform:"Web"};switch(a.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(l.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(l.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),l.contentGenre=o.map(function(e){return e&&e.title}).join(","),l.medium=e,e){case"Facebook":V.a.facebook(window.location.href);break;case"Twitter":V.a.twitter(window.location.href,n.title);break;case"Email":V.a.email(window.location.href)}Object(I.g)("Shared",l)}},{key:"render",value:function(){var e=this,t=this.props&&this.props.enableOverrideSettings,i=t&&this.props&&this.props.columns&&this.props.columns.desktop,n=this.props,s=n.item,a=n.index,r=n.showData,o=s.gist||{},l=s.creditBlocks||o&&o.creditBlocks||null,c=!!(s&&s.contentDetails&&Object(b.isArray)(s.contentDetails.trailers)&&s.contentDetails.trailers.length>0),d=l&&Object(E.a)(l),p=Object(b.get)(this.props,"refItems[0].contentType",""),u=Object(b.get)(window.settings,"brand.trayGlow.isTrayGlow"),h=t&&this.props&&this.getGradientStyle(Object(b.get)(this.props,"buttonGradientColor1"),Object(b.get)(this.props,"buttonGradientColor2")),m=t&&this.props&&this.getTrayGradient(Object(b.get)(this.props,"backgroundGradientColor1"),Object(b.get)(this.props,"backgroundGradientColor2"));"SEASON_PASS"!==p&&a++;var g=!o.free&&s.pricing&&null!==s.pricing.purchase&&"PURCHASED"!==s.purchaseStatus&&this.props.isEpisode,v=!o.free&&s.pricing&&null!==s.pricing.purchase&&"PURCHASED"!==s.purchaseStatus&&this.props.isBundle&&!this.props.bundlePurchased,y={};this.props.aspectRatio&&(y={paddingTop:"176%"});var w=!this.props.episodeTray||!Object(b.get)(window.settings,"isMonetizationModelEnabled")||Object(U.d)(r,this.props.season,s.id),I=t&&Object(b.get)(this.props,"shareIconURL"),S=t&&Object(b.get)(this.props,"watchListIconURL")||"",P=t&&Object(b.get)(this.props,"removeWatchListIconURL")||!1,O=t&&Object(b.get)(this.props,"showWatchnowButton")||!1,C=t&&Object(b.get)(this.props,"showWatchTrailerButton")||!1,D=t&&Object(b.get)(this.props,"enableButtonGradientColor")||!1,A=t&&Object(b.get)(this.props,"enableBackgroundGradientColor")||!1,L=(Object(b.get)(this.props,"enableCustomStyle"),t&&this.props&&this.props.removeTrayBottomTitle),x=this.props&&this.props.tooltipColor,F=t&&Object(b.get)(this.props,"roundedCornerButton")||!1,V=this.state.user,B=V&&V.userId,z=void 0!==this.props.item.contentDetails&&(!!this.props.item.contentDetails.trailers&&void 0!==this.props.item.contentDetails.trailers[0]),H=this.props.showPreview||!1,G=!(!this.props.item.showDetails||!this.props.item.showDetails.trailers),q=z||G;return"PERSON"===s.contentType?f.a.createElement(k.a,{item:s,thumbnail:s.gist.imageGist._3x4,displayTitle:"true"}):"SEASON_PASS"===s.contentType?f.a.createElement("a",{href:"# ",className:"video-tray-item",onClick:this.handleClick},f.a.createElement("div",{className:"image-and-details",style:{backgroundColor:o.background}},f.a.createElement("div",{className:"title-overlay"},f.a.createElement("div",{className:"purchase-season-cta cta"},o.cta)))):f.a.createElement("div",null,f.a.createElement("a",{itemprop:"contentUrl",className:"video-tray-item ".concat(this.state.hoverOverflow?"overflow":""),href:Object(R.getVideoRedirectLink)(s),ref:this.el,onClick:this.handleClick,onFocus:this.handleFocus,onMouseEnter:this.handleHover,onMouseLeave:function(){clearTimeout(e.timer2),e.setState({showTrailer:!1})}},f.a.createElement("div",{className:"image-and-details",style:y},this.metaData,f.a.createElement(N.a,{item:s,thumbnailType:this.props.thumbnailType}),!t&&"VIDEO"===o.contentType&&f.a.createElement("div",{className:"play-button ".concat(w?"":"locked-button"," site-color hidePlayIcon")},this.state.showTrailer&&z||H?f.a.createElement(f.a.Fragment,null):w?f.a.createElement("i",{className:"ion-ios-play"}):f.a.createElement("i",{className:"ion-locked"})),u&&f.a.createElement("div",{className:"shadow-box",style:this.trayHoverStyle}),f.a.createElement("div",{className:"image"+"".concat(t?" custom-item-image":"")},this.state.showTrailer&&H&&q?f.a.createElement("div",{className:"trailer-allignment",style:{zIndex:"10",height:"100%"}},f.a.createElement(j.a,{trailerId:this.props.item,checkDetails:z,isTray:!0,portrait:this.props.thumbnailType||"Landscape"})):null,f.a.createElement("img",{src:this.props.clickNext||!this.props.lazyLoad?this.props.isRecommendationItem?Object(R.getRecommendationItemImages)(this.props):Object(R.getThumbnailImage)(this.props):Object(R.getLowQualityImage)(this.props),alt:o.title,title:o.title,className:"lazy","data-src":this.props.isRecommendationItem?Object(R.getRecommendationItemImages)(this.props):Object(R.getThumbnailImage)(this.props),itemprop:"thumbnailUrl"})),"VIDEO"===o.contentType&&f.a.createElement("div",{className:"queue-bar site-color",ref:this.watchListIcon,onClick:function(e){e.preventDefault(),e.stopPropagation()}},this.state.userData&&f.a.createElement(_,{isAdded:this.state.userData.isQueued,remove:this.removeFromQueue,add:this.addToQueue})),this.props.infoHover&&f.a.createElement("div",{className:this.state.enablePreview?"".concat(t?" custom-item-details":"details"):"".concat(t?" custom-item-details":"details disp"),onMouseEnter:t&&this.getVideoInfo,style:t&&A?m:{},ref:this.details},t?f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"custom-show-detail"},f.a.createElement("div",{className:"custom-info"},o&&o.title&&f.a.createElement("span",{className:"title"},o.title)),f.a.createElement("div",{className:"custom-features"},f.a.createElement("div",{className:"gradient-buttons"},O&&f.a.createElement("div",{onClick:this.handleClick,className:"cta"+(F?" customWatchNow ":" "),style:t&&D?h:{},href:o.permalink},Object(M.a)(window.settings,"genericMessages","watchNowCta")||"Watch Now"),i<5&&c&&C&&f.a.createElement("div",{className:"watchTrailer ".concat(F?" custom-cta":" ")},f.a.createElement("a",{onClick:this.handleClick,href:o.permalink+"?showTrailer=true"},Object(M.a)(window.settings,"genericMessages","trailerLabel")||"Watch Trailer"))),f.a.createElement("div",{className:"custom-icons"},S&&B&&P&&f.a.createElement("div",{className:"custom-icon",onClick:function(e){e.preventDefault(),e.stopPropagation()}},this.state.isQueued?f.a.createElement("img",{onClick:this.removeFromQueue,src:P}):f.a.createElement("img",{onClick:this.addToQueue,src:S})),B&&!S&&!P&&f.a.createElement("div",{className:"custom-icon"},f.a.createElement(_,{isAdded:this.state.isQueued,remove:this.removeFromQueue,add:this.addToQueue})),I&&f.a.createElement("div",{className:"custom-icon",onClick:function(t){e.handleTooltip(t)}},f.a.createElement("img",{src:I}),this.state.tooltip&&f.a.createElement("div",{className:"share",style:{backgroundColor:x},onClick:function(e){e.preventDefault(),e.stopPropagation()}},f.a.createElement("i",{className:"ion-social-facebook",onClick:function(){e.socialShare("Facebook")}}),f.a.createElement("i",{className:"ion-social-twitter",onClick:function(){e.socialShare("Twitter")}}),f.a.createElement("i",{className:"ion-ios-email-outline",onClick:function(){e.socialShare("Email")}}))))))):f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"title",title:this.showTitle(o)},o.title),o.year&&o.runtime&&f.a.createElement("div",{className:"info"},o.year," | ",Math.ceil(o.runtime/60),"mins"),s.parentalRating&&f.a.createElement("div",{className:"rated"},s.parentalRating.replace("_","")),o.primaryCategory&&f.a.createElement("div",{className:"category"},o.primaryCategory.title),f.a.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:o.description||""}}),f.a.createElement("div",{className:"crew"},d&&Object(b.map)(d,function(t,i){return f.a.createElement("div",{key:i},f.a.createElement("span",{className:"role"},Object(M.a)(e.props.data,"metadataMap","".concat(t.title,"Label"))||t.title),f.a.createElement("span",{className:"people"}," ",Object(b.map)(t.credits,"title").slice(0,3).join(", ")))})))),void 0!==o.watchHistory&&o.watchHistory.watchedPercentage>0?f.a.createElement("progress",{className:"site-color",value:o.watchHistory.watchedPercentage,max:"100"}):"",f.a.createElement("span",{itemprop:"name",style:{display:"none"}},o&&this.showTitle(o)),Object(W.a)(o)),!L&&f.a.createElement("div",{className:"title-container",title:this.showTitle(o)},f.a.createElement("div",{className:"title"},this.props.isEpisode&&!this.props.noEpisodeNumber&&f.a.createElement("span",{className:"episode-number"},a)," ",Object(T.a)(this.showTitle(o),50-a.toString().length)),this.props.sharing&&f.a.createElement("div",{className:"share"},f.a.createElement("div",{className:"share-toggle__icon",onClick:this.handleShareToggleClick},f.a.createElement("span",{className:"small-rect"}),f.a.createElement("span",{className:"small-rect"}),f.a.createElement("span",{className:"small-rect"})))),g&&!Object(b.get)(window.settings,"isMonetizationModelEnabled")&&f.a.createElement("div",{className:"purchase-episode-cta cta"},Object(M.a)(window.settings,"genericMessages","purchaseOverlayLabel")," ",window.settings.internalName.includes("bingeflix")?Object(M.a)(window.settings,"genericMessages","programLabel"):Object(M.a)(window.settings,"genericMessages","hoverEpisodeLabel")),v&&!Object(b.get)(window.settings,"isMonetizationModelEnabled")&&f.a.createElement("div",{className:"purchase-episode-cta cta",onClick:this.handleBundleClick},Object(M.a)(window.settings,"genericMessages","purchaseOverlayLabel"))))}},{key:"metaData",get:function(){var e=Object(b.get)(this.props,"item.gist"),t=Object(b.get)(window.settings,"brand.metadata");if(e)return f.a.createElement("div",{className:"metadata"},t&&t.displayDuration&&e.runtime>0&&f.a.createElement("span",null,Object(S.a)(e.runtime)),t&&t.displayAuthor&&e.author&&f.a.createElement("span",null,e.author),t&&t.displayPublishDate&&e.publishDate&&f.a.createElement("span",null,Object(w.format)(e.publishDate,"MMM D")),"IMAGE"===e.contentType&&this.props.item.streamingInfo&&this.props.item.streamingInfo.photogalleryAssets.length>0&&f.a.createElement("span",null,f.a.createElement("ion",{className:"ion-camera"})," ",this.props.item.streamingInfo.photogalleryAssets.length," Photos"))}},{key:"trayHoverStyle",get:function(){return{boxShadow:"0px 0px 34px 0px ".concat(Object(b.get)(window.settings,"brand.trayGlow.trayGlowColor"))}}}]),t}(f.a.Component);Object(O.a)(B,function(e){return{user:e.user}},C.a);t.default=B},243:function(e,t,i){"use strict";i.r(t);var n=i(5),s=i.n(n),a=i(9),r=i.n(a),o=i(10),l=i.n(o),c=i(16),d=i.n(c),p=i(17),u=i.n(p),h=i(18),m=i.n(h),g=i(19),v=i.n(g),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),I=i.n(E),S=i(0),T=i.n(S),P=i(2),O=i(238),C=i(211),k=i(1085),j=i(1083),D=i(232),A=i(1129),N=i(31),R=i(1140),M=i(1098),L=(i(609),function(e){function t(e){var i;return d()(this,t),i=m()(this,v()(t).call(this,e)),I()(f()(i),"state",{isHovered:!1}),I()(f()(i),"handleClick",function(e,t,n,s){var a=window,r=a.innerWidth,o=a.innerHeight;r>1024&&o>475?i.updateExpandedDetails(t,n,s):t&&t.gist&&"SERIES"===t.gist.mediaType?window.location.href=t.gist&&t.gist.permalink:n&&n.length>0?window.location.href=n[0].gist.permalink:Object(M.l)(e,t);i.props.trackTrayEvent&&"function"===typeof i.props.trackTrayEvent&&i.props.trackTrayEvent(i.props.item,i.props.index,i.props.pos||NaN)}),I()(f()(i),"updateExpandedDetails",function(){var e=l()(s.a.mark(function e(t,n,a){var o,l,c,d,p,u,h,m,g,v,y;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.setState({isHovered:!0});case 2:o=Object(O.getHignResImage)(i.props),l=t.gist,c=l.title,d=l.description,p=l.permalink,u=l.contentType,h=i.props.newsTrayId,m=A.a.getState().newsTrayId,g=A.a.getState().seriesDatas,v=r()({},g),y=t.gist.id,v[y]=n,t.gist.id===a&&m===h&&(y=""),A.a.dispatch(Object(R.a)({trailerSrc:o,episodeTitle:c,episodeDesc:d,permalink:p,id:y,contentType:u,newsTrayId:h,seriesDatas:v,video:t}));case 12:case"end":return e.stop()}},e)}));return function(t,i,n){return e.apply(this,arguments)}}()),I()(f()(i),"handleHover",function(){i.setState({isHovered:!0})}),I()(f()(i),"handleMouseLeave",function(){i.setState({isHovered:!1})}),I()(f()(i),"handleShareToggleClick",function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:i.props.item.gist};k.a.open(t)}),I()(f()(i),"setActiveStyle",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2px",s=window.settings.brand.cta?window.settings.brand.cta.primary.textColor:"",a=A.a.getState().newsTrayId,r=i.props.newsTrayId,o=e.id===t&&a===r,l={};return(i.state.isHovered||o)&&(l.border={border:"".concat(n," solid ").concat(s)}),o&&(l.triangle={borderRight:"16px solid ".concat(s),borderBottom:"16px solid ".concat(s)}),l}),i.el=T.a.createRef(),i}return w()(t,e),u()(t,[{key:"clearSession",value:function(){window.sessionStorage.removeItem("rvid")}},{key:"renderNewsTray",value:function(){var e=this,t=this.props,i=t.item,n=t.index,s=i.gist||{},a=Object(P.get)(window.settings,"brand.trayGlow.isTrayGlow"),o=Object(P.get)(window.settings,"brand.trayGlow.trayGlowColor"),l=void 0===this.props.hideVideoTitle||this.props.hideVideoTitle,c=A.a.getState().id,d=this.setActiveStyle(s,c),p=s.runtime&&Object(O.formatNewsDuration)(s.runtime),u=i.seriesData||i.series,h=i&&i.gist.watchedPercentage?i.gist.watchedPercentage:null;return T.a.createElement("div",{className:"news-tray-item-container",onMouseEnter:this.handleHover,onMouseLeave:this.handleMouseLeave,onClick:function(t){return e.handleClick(t,i,u,c)}},T.a.createElement("div",{className:"triangle",style:r()({},d.triangle)}),T.a.createElement("div",{className:"video-tray-item",ref:this.el,onFocus:this.handleFocus,style:r()({},d.border)},T.a.createElement("div",{className:"image-and-details"},p&&T.a.createElement("span",{className:"news-duration-wrapper"},p),T.a.createElement(j.a,{item:i,thumbnailType:this.props.thumbnailType}),a&&T.a.createElement("div",{className:"shadow-box",style:Object(D.trayHoverStyle)(o)}),T.a.createElement("div",{className:"image"},T.a.createElement("img",{src:this.props.clickNext||!this.props.lazyLoad?Object(D.getThumbnailImage)(this.props):Object(D.getLowQualityImage)(this.props),alt:s.title,className:"lazy","data-src":Object(D.getThumbnailImage)(this.props)})),h&&T.a.createElement("progress",{className:"site-color",value:h>0?h:0,max:"100"})),!l&&T.a.createElement("div",{className:"title-container"},T.a.createElement("div",{className:"title"},this.props.isEpisode&&!this.props.noEpisodeNumber&&T.a.createElement("span",{className:"episode-number"},n)," ",Object(C.a)(s.title,50-n.toString().length)))))}},{key:"renderCircularTray",value:function(){var e=this,t=this.props,i=t.item,n=(t.index,i.gist||{}),s=A.a.getState().id,a=this.setActiveStyle(n,s),o=i.seriesData||i.series;return T.a.createElement("div",{className:"news-tray-item-container",onMouseEnter:this.handleHover,onMouseLeave:this.handleMouseLeave,onClick:function(t){return e.handleClick(t,i,o,s)}},T.a.createElement("div",{className:"video-tray-item",ref:this.el,onFocus:this.handleFocus},T.a.createElement("div",{className:"image-and-details adjust-circular-image"},T.a.createElement("div",{className:"image-circular",style:r()({},a.border)},T.a.createElement("img",{src:this.props.clickNext||!this.props.lazyLoad?Object(D.getThumbnailImageCircular)(this.props):Object(D.getLowQualityImageCircular)(this.props),alt:n.title,className:"lazy","data-src":Object(D.getThumbnailImageCircular)(this.props)})))))}},{key:"render",value:function(){return this.props.circularTray?this.renderCircularTray():this.renderNewsTray()}}]),t}(T.a.Component));Object(N.a)(L,function(e){return{}},A.a),t.default=L},37:function(e,t,i){"use strict";i.r(t);var n=i(1077),s=i.n(n),a=i(16),r=i.n(a),o=i(17),l=i.n(o),c=i(18),d=i.n(c),p=i(19),u=i.n(p),h=i(13),m=i.n(h),g=i(20),v=i.n(g),y=i(0),f=i.n(y),b=i(2),w=i(1157),E=i.n(w),I=i(1124),S=i(1132),T=i(240),P=i(243),O=i(241),C=i(1142),k=i(27),j=i(210),D=i(1099),A=i(232),N=i(239),R=(i(610),function(e){function t(e){var i;r()(this,t),(i=d()(this,u()(t).call(this,e))).page=k.a.getState();var n=i.page.data.categoryMap,s=Object(b.get)(e,"data.filters.categories[0]"),a=Object(b.get)(e,"data.categoryUrl")||s&&n&&n[s];return i.state={filter:Object(b.get)(e,"data.filter",s),items:Object(b.get)(e,"data.contentData",[]),title:Object(b.get)(e,"data.title","")||e.title,seeAllPermalink:Object(b.get)(e,"data.settings.seeAllPermalink")||a,seeAllCard:Object(b.get)(e,"data.settings.seeAllCard"),seeAllChevron:Object(b.get)(i.props,"data.settings.seeAll")},i.goToTrayItem=i.goToTrayItem.bind(m()(i)),i}return v()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({innerWidth:window.innerWidth});var t=this.container&&this.container.querySelector(".slick-next");t&&null!==t&&t.addEventListener("click",function(t){!e.state.clickNext&&e.setState({clickNext:!0})})}},{key:"componentWillReceiveProps",value:function(e){Object(b.isEmpty)(e.title)||this.setState({title:e.title}),e.dataToShow?e.dataToShow.length>0?this.setState({items:e.dataToShow}):this.setState({items:[]}):this.setState({items:Object(b.get)(e,"data.contentData",[])})}},{key:"goToTrayItem",value:function(e){this.slider.slickGoTo(e)}},{key:"getCurrentTrayItem",value:function(e,t,i,n){var a=f.a.createElement(O.default,s()({},e,{item:t,maxWidth:this.state.innerWidth<600?i.mobileMaxWidth:i.maxWidth,isRecommendationItem:this.props.isRecommendationItem||!1,isEpisode:Object(b.get)(this.props,"data.isEpisode"),isBundle:Object(b.get)(this.props,"data.isBundle"),bundlePurchased:Object(b.get)(this.props,"data.bundlePurchased"),noEpisodeNumber:this.props.data.noEpisodeNumber,index:n,isPersonalizationTray:this.props.isPersonalizationTray,aspectRatio:this.props.aspectRatio,season:this.props.season,sharing:this.props.data.sharing,noBoxshadow:this.props.data.noBoxshadow,openEpisodeOverlay:this.props.openEpisodeOverlay,purchaseBundleItem:this.props.purchaseBundleItem,onFocus:this.goToTrayItem,clickNext:this.state.clickNext,trayTitle:this.props.trayTitle?this.props.trayTitle:this.state.title,lazyLoad:void 0===this.props.lazyLoad||this.props.lazyLoad,refItems:this.state.items,trackTrayEvent:this.props.trackTrayEvent,pos:this.props.pos||NaN,showData:this.props.showData,episodeTray:this.props.episodeTray}));return this.props.netflix&&(a=f.a.createElement(T.default,s()({},e,{noBadgeImage:this.props.noBadgeImage,item:t,maxWidth:this.state.innerWidth<600?i.mobileMaxWidth:i.maxWidth,isEpisode:Object(b.get)(this.props,"data.isEpisode"),noEpisodeNumber:this.props.data.noEpisodeNumber,index:n,season:this.props.season,sharing:this.props.data.sharing,noBoxshadow:this.props.data.noBoxshadow,openEpisodeOverlay:this.props.openEpisodeOverlay,onFocus:this.goToTrayItem,clickNext:this.state.clickNext,lazyLoad:void 0===this.props.lazyLoad||this.props.lazyLoad,refItems:this.state.items,slidesToScroll:i.slidesToScroll,hideCategories:this.props.hideCategories,showCount:this.props.showCount,showProgressBar:this.props.showProgressBar||!1,showDetailsBottom:this.props.showDetailsBottom||!1,showPlayIcon:this.props.showPlayIcon||!1,onlyPrimaryCategory:this.props.onlyPrimaryCategory,trackTrayEvent:this.props.trackTrayEvent,pos:this.props.pos||NaN}))),(this.props.newsTray||this.props.circularTray)&&(a=f.a.createElement(P.default,s()({},e,{item:t,maxWidth:this.state.innerWidth<600?i.mobileMaxWidth:i.maxWidth,isEpisode:Object(b.get)(this.props,"data.isEpisode"),noEpisodeNumber:this.props.data.noEpisodeNumber,index:n,season:this.props.season,sharing:this.props.data.sharing,noBoxshadow:this.props.data.noBoxshadow,openEpisodeOverlay:this.props.openEpisodeOverlay,onFocus:this.goToTrayItem,clickNext:this.state.clickNext,trayTitle:this.props.trayTitle?this.props.trayTitle:this.state.title,lazyLoad:void 0===this.props.lazyLoad||this.props.lazyLoad,newsTrayId:this.props.newsTrayId,refItems:this.state.items,trackTrayEvent:this.props.trackTrayEvent,pos:this.props.pos||NaN,circularTray:this.props.circularTray||""}))),a}},{key:"render",value:function(){var e=this,t=this.props.layout.settings,i=t.columns||{desktop:7,mobile:3,tablet:6,ott:7},n=Object(b.get)(this.state,"items.length",0)>i.desktop;window.innerWidth<768&&(n=Object(b.get)(this.state,"items.length",0)>i.mobile);var a=new I.a(i),r=Object(b.get)(this.props,"layout.settings.isHidden");return this.props.trayTitle&&"recommdationTray"===this.props.trayTitle&&Object(j.d)("recommendation-tray","isRecommendation","true"),this.state.items&&!this.state.items.length?null:f.a.createElement("div",{ref:function(t){return e.container=t},id:"tray-".concat(this.props.layout.id),className:"video-tray ".concat(t.infoHover?"infoHover":""," ").concat(this.props.override?"override-tray":""," ").concat(t.thumbnailType?t.thumbnailType:""," ").concat(r?"hide":""," ").concat(Object(D.a)("plleague")?"pll-wrapper":"","  ").concat(Object(D.a)("luly")?"luly-wrapper":"")},Object(A.applyTrayCustomStyle)(this.props),f.a.createElement("div",{className:this.props.neouTrayTitle?"tray-wrapper":"tray-wrapper-common"}," ",Object(b.get)(this.props,"data.noBlockTitle")?f.a.createElement("div",{className:"tray-header"},this.state.title):this.state.title&&f.a.createElement(C.a,{enableCustomStyle:this.props&&this.props.layout&&this.props.layout.settings&&this.props.layout.settings.enableCustomStyle},this.state.title,this.props.showCount&&this.state.items&&f.a.createElement("span",null," (".concat(this.state.items.length,")"))),this.state.seeAllChevron&&this.state.seeAllPermalink?f.a.createElement(S.a,{href:this.state.seeAllPermalink,className:"tray-detail"},f.a.createElement("i",{className:"ion-chevron-right"})):null),f.a.createElement("div",{className:"items ".concat(this.props.override?"override":"")},this.state.items&&this.state.items.length>0&&f.a.createElement(E.a,s()({ref:function(t){return e.slider=t},dots:!1,infinite:this.state.items.length>=a.slidesToShow&&t.loop,arrows:n,slidesToShow:a.slidesToShow,slidesToScroll:a.slidesToScroll,responsive:a.responsiveBreakpoints,lazyLoad:void 0===this.props.lazyLoad||this.props.lazyLoad,draggable:this.props.draggable},this.props.settings),this.state.items.map(function(i,n){return f.a.createElement("div",{key:n,itemprop:"video",itemscope:"",itemtype:"https://schema.org/VideoObject"},e.getCurrentTrayItem(t,i,a,n))}),this.state.seeAllCard&&this.state.seeAllPermalink&&f.a.createElement("a",{className:"tray-last-item",onClick:function(e){return e.stopPropagation()},href:this.state.seeAllPermalink},f.a.createElement("div",{className:"image-and-details"},"landscape"!==t.thumbnailType&&f.a.createElement("div",{className:"image"},f.a.createElement("img",{src:Object(b.get)(window.settings,"images.desktopLogo"),alt:"logo"})),f.a.createElement("div",{className:"details"},f.a.createElement("div",{className:"see-all"},"See All"),f.a.createElement("div",{className:"category-name"},this.state.title)))))))}}]),t}(f.a.Component));t.default=Object(N.default)(R)},608:function(e,t,i){"use strict";i.r(t),i.d(t,"getUserId",function(){return n}),i.d(t,"getPinInSession",function(){return s}),i.d(t,"setPinInSession",function(){return a});var n=function(e){return e&&e.userId},s=function(e){var t=n(e);if(t)return sessionStorage.getItem(t)?sessionStorage.getItem(t):""},a=function(e,t){var i=n(t);if(i)return e?s(t)?"":sessionStorage.setItem(i,e):void 0}},609:function(e,t,i){},610:function(e,t,i){},991:function(e,t,i){}}]);
//# sourceMappingURL=modules-Tray-Video.a98dab76.chunk.js.map