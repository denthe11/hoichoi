(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[4,72,104,457,523,816],{1079:function(e,t,i){"use strict";i.d(t,"d",function(){return l}),i.d(t,"e",function(){return d}),i.d(t,"f",function(){return c}),i.d(t,"b",function(){return p}),i.d(t,"c",function(){return u}),i.d(t,"a",function(){return h});var s=i(4),n=i(3),r=i.n(n),a=i(201),o=i(2);i(1);function l(e,t){if(e)return Object(s.b)().then(function(i){return r.a.get("".concat(window.settings.apiBaseUrl,"/entitlement/video/status?id=").concat(e),{headers:{Authorization:i},params:{deviceType:"web_browser",contentConsumption:"web"},withCredentials:!0}).then(function(e){return t(e)}).catch(function(e){throw e&&e.response&&e.response.data})})}function d(e,t,i){var n=document.getElementById("embed-auth"),a=null;if(n&&(a=n.getAttribute("data-auth")),e)return Object(s.b)().then(function(s){return r.a.get("".concat(window.settings.apiBaseUrl,"/entitlement/video/status?id=").concat(e),{headers:{Authorization:t&&a?a:s},params:{deviceType:"web_browser",contentConsumption:"web"},withCredentials:!0}).then(function(e){return i(e)}).catch(function(e){throw e&&e.response&&e.response.data})})}function c(e){return Object(s.b)().then(function(t){return r()({url:"/signature/entitlement",baseURL:window.settings.apiBaseUrl,params:{site:window.settings.internalName,id:e},method:"GET",headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey},withCredentials:!0}).then(function(e){})})}function p(e,t,i,n,a,l,d,c){return Object(s.b)().then(function(s){var p=null,u=null,h={Authorization:s};if(!Object(o.isEmpty)(t)){var g=Object(o.merge)({},t);Object.keys(g).map(function(e){0==g[e].length?delete g[e]:(g[e].map(function(e){e.replace(/ /g,"+")}),"Filter Out"==g[e]&&(u=!1,delete g[e]))}),p=Object.keys(g).map(function(e){return g[e]}).join("::")}return r.a.get("".concat(window.settings.apiBaseUrlCached||window.settings.apiBaseUrl,"/search/v2/list"),{params:{site:window.settings.internalName,type:e,field:d,value:c,concepts:i,tagNames:p,explicit:u,languageCode:"default",maxTotal:!0,limit:1==a?20:null,offset:n||0,sortBy:l||"updateDate"},requestId:"search",headers:h}).catch(function(e){r.a.isCancel(e)&&console.log("Request canceled",e.message)})}).then(function(e){return console.log(e.data),e&&e.data})}function u(e,t,i,s,n,a){var o="";return o="https://prod-api.viewlift.com"===window.settings.apiBaseUrl?"https://prod-api-cached-2.viewlift.com":window.settings.apiBaseUrlCached||window.settings.apiBaseUrl,r.a.get("".concat(o,"/search/v2/list"),{params:{site:window.settings.internalName,type:e,field:t,value:i,languageCode:"default",limit:1==n?20:null,offset:s||0,episodeId:a||null},requestId:"search"}).then(function(e){return e&&e.data}).catch(function(e){r.a.isCancel(e)&&console.log("Request canceled",e.message)})}var h=function(){return new Promise(function(e,t){var i=window.settings.internalName;Object(s.b)(function(s){return Object(a.b)({method:"GET",url:"".concat(window.settings.apiBaseUrlCached||window.settings.apiBaseUrl,"/content/categories?site=").concat(i,"&languageCode=default"),headers:{Authorization:s}}).then(function(t){e(t.data)}).catch(t)})})}},1081:function(e,t,i){"use strict";i.d(t,"d",function(){return r}),i.d(t,"e",function(){return a}),i.d(t,"c",function(){return o}),i.d(t,"f",function(){return l}),i.d(t,"b",function(){return d}),i.d(t,"g",function(){return c}),i.d(t,"a",function(){return p});var s=i(2),n=i(7),r=function(e,t,i){var r=n.a.getState().user,a=n.a.getState().purchasedItems||null,o=n.a.getState().subscription||null,l=e&&e.gist.id,d=e&&e.gist.originalObjectId,c=e&&e.seasons,p=c&&c[t].id,u=a&&a.purchasedItems,h=r&&r.planId,g=e&&e.monetizationModels&&Object(s.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),m=e&&e.plans&&Object(s.find)(e.plans,function(e){return"SVOD"===e.type}),v=e&&e.seriesPlans&&Object(s.find)(e.seriesPlans,function(e){return"AVOD"===e.monetizationModel}),y=e&&e.seriesPlans&&Object(s.find)(e.seriesPlans,function(e){return e.id===h}),f=r&&y&&r.istveLoggedIn,b=u&&(Object(s.find)(u,function(e){return e.contentId===l})||d&&Object(s.find)(u,function(e){return e.contentId===d})),w=e&&Object(s.find)(e.seriesPlans,function(e){return"FREE"===e.monetizationModel}),E=v&&!g&&1===e.seriesPlans.length,P=o&&o.subscription&&o.subscription.subscriptionInfo&&o.subscription.subscriptionInfo.planId,I=g&&(!m||m&&m.planIds&&m.planIds.includes("svodAll"))?r&&r.isSubscribed:r&&r.isSubscribed&&P&&m&&m.planIds&&m.planIds.includes(P),S=c&&Object(s.find)(c[t].episodes,function(e){return e.id===i}),T=S&&S.gist.originalObjectId,C=S&&S.plans&&Object(s.find)(S.plans,function(e){return"SVOD"===e.type}),O=S&&Object(s.find)(S.episodePlans,function(e){return e.id===h}),D=S&&Object(s.find)(S.episodePlans,function(e){return"FREE"===e.monetizationModel}),A=S&&Object(s.find)(S.episodePlans,function(e){return"AVOD"===e.monetizationModel}),k=S&&Object(s.find)(S.monetizationModels,function(e){return"SVOD"===e.type}),j=r&&O&&r.istveLoggedIn,R=i&&u&&(Object(s.find)(u,function(e){return e.contentId===i})||T&&Object(s.find)(u,function(e){return e.contentId===T})),M=A&&!C&&1===S.episodePlans.length,L=k&&(!C||C&&C.planIds&&C.planIds.includes("svodAll"))?r&&r.isSubscribed:r&&r.isSubscribed&&P&&C&&C.planIds&&C.planIds.includes(P),N=u&&Object(s.find)(u,function(e){return e.contentId===p});return I||L||R||D||j||M||N||b||w||f||E},a=function(e){for(var t=n.a.getState().user||{},i=n.a.getState().purchasedItems||null,r=n.a.getState().subscription||{},a=e&&e.gist.id,o=e&&e.gist.originalObjectId,l=e&&e.seasons,d=i&&i.purchasedItems,c=t&&t.planId,p=!0,u=function(e){var t=0;if(!Object(s.find)(d,function(t){return t.contentId===l[e].id})){for(var i=function(i){var n=l[e].episodes[i].gist.originalObjectId,r=l[e].episodes[i].episodePlans&&Object(s.find)(l[e].episodes[i].episodePlans,function(e){return"FREE"===e.monetizationModel}),a=l[e].episodes[i].episodePlans&&Object(s.find)(l[e].episodes[i].episodePlans,function(e){return"AVOD"===e.monetizationModel})&&1===l[e].episodes[i].episodePlans.length;(Object(s.find)(d,function(t){return t.contentId===l[e].episodes[i].id})||Object(s.find)(d,function(e){return e.contentId===n})||r||a)&&t++},n=0;n<l[e].episodes.length;n++)i(n);l[e].episodes.length!==t&&(p=!1)}},h=0;h<l.length;h++)u(h);var g=e&&e.monetizationModels&&Object(s.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),m=e&&e.plans&&Object(s.find)(e.plans,function(e){return"SVOD"===e.type}),v=e&&e.seriesPlans&&Object(s.find)(e.seriesPlans,function(e){return"AVOD"===e.monetizationModel}),y=e&&e.seriesPlans&&Object(s.find)(e.seriesPlans,function(e){return e.id===c}),f=r&&r.subscription&&r.subscription.subscriptionInfo&&r.subscription.subscriptionInfo.planId,b=g&&(!m||m&&m.planIds&&m.planIds.includes("svodAll"))?t&&t.isSubscribed:t&&t.isSubscribed&&f&&m&&m.planIds&&m.planIds.includes(f),w=t&&y&&t.istveLoggedIn,E=e&&Object(s.find)(e.seriesPlans,function(e){return"FREE"===e.monetizationModel}),P=d&&(Object(s.find)(d,function(e){return e.contentId===a})||o&&Object(s.find)(d,function(e){return e.contentId===o})),I=v&&!g&&1===e.seriesPlans.length;return b||P||E||w||I||p},o=function(e){var t=n.a.getState().purchasedItems||null,i=t&&t.purchasedItems;return i&&Object(s.find)(i,function(t){return t.contentId===e})},l=function(e,t){var i=n.a.getState().user||{},r=i&&i.planId,a=n.a.getState().purchasedItems||null,o=n.a.getState().subscription||{},l=a&&a.purchasedItems,d=e&&Object(s.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),c=e&&e.plans&&Object(s.find)(e.plans,function(e){return"SVOD"===e.type}),p=t&&Object(s.find)(t,function(e){return"AVOD"===e.monetizationModel}),u=t&&Object(s.find)(t,function(e){return e.id===r}),h=o&&o.subscription&&o.subscription.subscriptionInfo&&o.subscription.subscriptionInfo.planId,g=d&&(!c||c&&c.planIds&&c.planIds.includes("svodAll"))?i&&i.isSubscribed:i&&i.isSubscribed&&h&&c&&c.planIds&&c.planIds.includes(h),m=i&&u&&i.istveLoggedIn,v=t&&Object(s.find)(t,function(e){return"FREE"===e.monetizationModel}),y=v&&v.featureSetting&&v.featureSetting.isLoginRequired,f=e&&l&&(Object(s.find)(l,function(t){return t.contentId===e.gist.id})||Object(s.find)(l,function(t){return t.contentId===e.gist.originalObjectId})),b=p&&1===t.length,w=e&&l&&Object(s.find)(l,function(t){return t.contentId===e.seriesId}),E=e&&l&&Object(s.find)(l,function(t){return t.contentId===e.seasonId});return g||f||b||v&&!y||v&&y&&i&&i.userId||m||w||E},d=function(e){for(var t=n.a.getState().user||{},i=n.a.getState().purchasedItems||null,r=n.a.getState().subscription||{},a=e&&e.gist.bundleList,o=e&&e.id,l=e&&e.gist.originalObjectId,d=i&&i.purchasedItems,c=t&&t.planId,p=!0,u=function(e){var t=a[e].gist.originalObjectId;Object(s.find)(d,function(t){return t.contentId===a[e].id})||Object(s.find)(d,function(e){return e.contentId===t})||(p=!1)},h=0;h<a.length;h++)u(h);var g=d&&(Object(s.find)(d,function(e){return e.contentId===o})||l&&Object(s.find)(d,function(e){return e.contentId===l})),m=e&&e.monetizationModels&&Object(s.find)(e.monetizationModels,function(e){return"SVOD"===e.type}),v=e&&e.plans&&Object(s.find)(e.plans,function(e){return"SVOD"===e.type}),y=e&&e.bundlePlans&&Object(s.find)(e.bundlePlans,function(e){return"AVOD"===e.monetizationModel}),f=e&&e.bundlePlans&&Object(s.find)(e.bundlePlans,function(e){return e.id===c}),b=r&&r.subscription&&r.subscription.subscriptionInfo&&r.subscription.subscriptionInfo.planId,w=m&&(!v||v&&v.planIds&&v.planIds.includes("svodAll"))?t&&t.isSubscribed:t&&t.isSubscribed&&b&&v&&v.planIds&&v.planIds.includes(b),E=f&&t.istveLoggedIn,P=e&&Object(s.find)(e.bundlePlans,function(e){return"FREE"===e.monetizationModel}),I=y&&1===e.bundlePlans.length;return w||P||E||I||p||g},c=function(e,t){var i=t&&Object(s.find)(t,function(e){return"AVOD"===e.monetizationModel}),n=t&&Object(s.find)(t,function(e){return"FREE"===e.monetizationModel}),r=n&&n.featureSetting&&n.featureSetting.isLoginRequired;return i&&1===t.length||n&&!r},p=function(e){for(var t=n.a.getState().purchasedItems||null,i=e&&e.seasons,r=t&&t.purchasedItems,a=0,o=0,l=!1,d=function(e){for(var t=function(t){i[e].episodes[t].episodePlans&&Object(s.find)(i[e].episodes[t].episodePlans,function(e){return"TVOD"===e.monetizationModel})&&a++;var n=i[e].episodes[t].gist.originalObjectId;(Object(s.find)(r,function(s){return s.contentId===i[e].episodes[t].id})||Object(s.find)(r,function(e){return e.contentId===n}))&&o++},n=0;n<i[e].episodes.length;n++)t(n)},c=0;c<i.length;c++)d(c);return a===o&&(l=!0),l}},1082:function(e,t,i){var s={"./EPGInfo.js":[1094],"./RatingDescriptors/index.js":[1096],"./assets/icons.js":[1126,829],"./configKeyShortcuts.js":[1095],"./controls/EmbedButton.js":[1173,830],"./controls/helpers.js":[1161,831],"./controls/hlsResolutionMenu.js":[1169,759],"./controls/mp4ResolutionMenu.js":[1168,760],"./controls/news/rewind.js":[1174,755],"./controls/news/seasonList.js":[1177,752],"./controls/news/skip.js":[1175,756],"./controls/news/title.js":[1176,0,832],"./controls/playNext.js":[1167,833],"./controls/rewind.js":[1171,757],"./controls/skip.js":[1172,758],"./controls/skipIntro.js":[1165,834],"./controls/skipRecap.js":[1166,835],"./customPlayBackQuality.js":[1097],"./drmObject.js":[1092],"./ima/autoplay.js":[1150,276],"./ima/videojs.ima.js":[1089],"./index.js":[1086],"./neouskin.js":[1180,17,753],"./newsSkin.js":[1108,0,17,35],"./registerVjsComponent.js":[1164,836],"./screens/Embed.js":[1090],"./screens/embedWall.js":[1093],"./screens/loaderScreen.js":[1117],"./screens/nextVideoTimer.js":[1088],"./screens/rating.js":[1091],"./screens/upgrade.js":[1114],"./screens/videoWall.js":[1111],"./screens/waysToWatch/index.js":[1115],"./skin.js":[1149,17,275],"./video.js":[1119],"./video06.js":[1113]};function n(e){if(!i.o(s,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],n=t[0];return Promise.all(t.slice(1).map(i.e)).then(function(){return i(n)})}n.keys=function(){return Object.keys(s)},n.id=1082,e.exports=n},1084:function(e,t,i){"use strict";i.d(t,"d",function(){return r}),i.d(t,"b",function(){return a}),i.d(t,"a",function(){return o}),i.d(t,"c",function(){return l});var s=i(7),n=i(608),r=function(){if(window.settings.features&&window.settings.features.parental_control){var e=s.a.getState().user;if(e){if(a()){if(e&&e.parentalControl&&e.parentalControl.parentalPin){var t=e.parentalControl.parentalPin;return Object(n.getPinInSession)(e)!=t}return!1}return!1}return!1}return!1},a=function(){var e=s.a.getState().user;return!!(e&&e.parentalControl&&e.parentalControl.parentalControl)&&e.parentalControl.parentalControl},o=function(){var e=s.a.getState().user,t=e&&e.parentalControl&&e.parentalControl.parentalPin;return t||""},l=function(){var e=s.a.getState().user;return!!(e&&e.parentalControl&&e.parentalControl.parentalRating)&&e.parentalControl.parentalRating}},1086:function(e,t,i){"use strict";i.r(t);var s=i(1077),n=i.n(s),r=i(16),a=i.n(r),o=i(17),l=i.n(o),d=i(18),c=i.n(d),p=i(19),u=i.n(p),h=i(20),g=i.n(h),m=i(0),v=i.n(m),y=i(1119),f=i(1113),b=(i(1154),i(31)),w=i(7),E=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return g()(t,e),l()(t,[{key:"disableRightClick",value:function(e){}},{key:"render",value:function(){return v.a.createElement("div",{className:"VideoJS",onContextMenu:this.disableRightClick.bind(this)},"AC VideoPlayerWithInfo 06"===this.props.layout||"AC VideoPlayerWithInfo 07"===this.props.layout?v.a.createElement(f.default,n()({},this.props,{user:this.state.user})):v.a.createElement(y.default,n()({},this.props,{user:this.state.user})))}}]),t}(v.a.Component);Object(b.a)(E,function(e){return{user:e.user}},w.a),t.default=E},1087:function(e,t,i){"use strict";i.d(t,"e",function(){return l}),i.d(t,"d",function(){return d}),i.d(t,"a",function(){return c}),i.d(t,"g",function(){return p}),i.d(t,"f",function(){return u}),i.d(t,"c",function(){return h}),i.d(t,"b",function(){return g});var s=i(221),n=i.n(s),r=i(3),a=i.n(r),o=i(2);function l(e,t){return"object"!==n()(e[t])&&""!==e[t]&&e.hasOwnProperty(t)}function d(e,t){if(Object(o.isObject)(t))return"GAME"===e?"FINAL"!==t.gamescore.boxscore.gameinformation.gamestatus.status:t.LiveEvents[0].Fights.filter(function(e){return"2"===e.FightStatus}).length!==t.LiveEvents[0].Fights.length}function c(e,t,i){var s=[];if(null===e||""===e||void 0===e)return s;var n=function(e){var s=Object(o.get)(e,t),n=Object(o.get)(e,i);return s+(1===s.length?". ":" ")+n};if(Array.isArray(e[0])&&e.length>1)for(var r=0;r<e.length;r++)s.push(e[r].map(function(e){return Object.assign({fullname:n(e)},e)}));else s=(e=Array.isArray(e)?e:[e]).map(function(e){return Object.assign({fullname:n(e)},e)});return s}function p(e){return Object(o.reduce)(e,function(e,t){return e[t.name]=t.value,e},{})}function u(e){var t=e.filter(function(e){return 1e3*(e.schedule&&e.schedule.gameTime+10800)>Date.now()})[0];return e.indexOf(t)}function h(){var e=Math.floor(new Date("January 01, ".concat((new Date).getFullYear())).valueOf()/1e3),t=Math.floor(new Date("December 31, ".concat((new Date).getFullYear())).valueOf()/1e3),i=window.settings,s=i.internalName,n=i.apiBaseUrl;return a.a.get("".concat(n,"/content/game/schedule?site=").concat(s,"&from=").concat(e,"&to=").concat(t)).then(function(e){var t=e.data.map(function(e){return e.gist.gameSchedule.map(function(t){return{schedule:t,homeTeam:e.gist.homeTeam.gist,awayTeam:e.gist.awayTeam.gist,ticket:e.gist.ticketUrl,stream:e.gist.livestreamUrl,dataId:e.gist.dataId,link:e.gist.permalink}})});return Object(o.flatten)(t).sort(function(e,t){return e.schedule.gameTime-t.schedule.gameTime})}).catch(function(e){console.log(e)})}function g(e){var t=e/1e3,i=Math.floor(t/86400),s=Math.floor((t-86400*i)/3600),n=Math.floor((t-3600*s-86400*i)/60),r=Math.floor(t-60*n-3600*s-86400*i);return{getDays:function(){return i<10?"0"+i:i},getHours:function(){return s<10?"0"+s:s},getMinutes:function(){return n<10?"0"+n:n},getSeconds:function(){return r<10?"0"+r:r}}}},1088:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(13),u=i.n(p),h=i(20),g=i.n(h),m=i(0),v=i.n(m),y=i(12),f=i(1099),b=function(e){function t(e){var i;return n()(this,t),(i=l()(this,c()(t).call(this,e))).state={timer:e.timer},i.changeTimer=i.changeTimer.bind(u()(i)),i}return g()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.changeTimer,1e3)}},{key:"changeTimer",value:function(){this.setState({timer:this.state.timer-1}),this.state.timer<=0&&(clearInterval(this.interval),this.props.action&&this.props.action(),this.props.initializeAds(this.props.videoTag,this.props.thisTimer))}},{key:"render",value:function(){var e={};e=this.props.backgroundUrl?{background:"url(".concat(this.props.backgroundUrl,") no-repeat"),backgroundSize:"cover"}:{backgroundSize:"cover"};var t=Object(f.a)("bingeflix")?Object(y.a)(window.settings,"genericMessages","programLabel"):Object(y.a)(window.settings,"genericMessages","episodeLabel"),i=Object(y.a)(window.settings,"genericMessages","willStartInLabel")||"will start in",s=Object(y.a)(window.settings,"genericMessages","videoLabel")||"Video";return v.a.createElement("div",{className:"timer-prompt",style:e},v.a.createElement("div",{className:"next-episode-timer"},Object(y.a)(window.settings,"genericMessages","nextLabel")," ",this.props.isPlaylistItem?s:t," ",this.props.nextVideoTitle," ",i," ",this.state.timer))}}]),t}(v.a.Component);t.default=b},1089:function(e,t,i){"use strict";i.r(t);var s,n=i(221),r=i.n(n);s=function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,i){this.vjsPlayer=e,this.controller=i,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.on("adtimeout",this.onAdTimeout.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),"onPlay"===this.controller.getSettings().requestMode&&this.vjsPlayer.one("play",this.controller.requestAds.bind(this.controller)),this.vjsPlayer.ads(t)};t.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},t.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},t.prototype.checkForSeeking=function(){var e=1e3*(this.vjsPlayer.currentTime()-this.contentPlayheadTracker.previousTime);Math.abs(e)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},t.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},t.prototype.localContentEndedListener=function(){for(var e in this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete()),this.contentEndedListeners)"function"===typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},t.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},t.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},t.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},t.prototype.onAdTimeout=function(){this.controller.onAdTimeout()},t.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},t.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},t.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},t.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},t.prototype.getContentPlayer=function(){return this.h5Player},t.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},t.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},t.prototype.unmute=function(){this.vjsPlayer.muted(!1)},t.prototype.mute=function(){this.vjsPlayer.muted(!0)},t.prototype.play=function(){this.vjsPlayer.play()},t.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseFloat(e)||this.vjsPlayer.width()},t.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseFloat(e)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseFloat(e)||this.vjsPlayer.height()},t.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},t.prototype.getPlayerId=function(){return this.vjsPlayer.id()},t.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},t.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},t.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},t.prototype.onAdLog=function(e){var t=e.getAdData(),i=void 0!==t.adError?t.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:i,AdEvent:e}})},t.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},t.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},t.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},t.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.contentSource&&this.vjsPlayer.currentSrc()!=this.contentSource&&this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType}),this.controller.onContentAndAdsCompleted())},t.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},t.prototype.changeSource=function(e){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},t.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},t.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},t.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},t.prototype.reset=function(){this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var i=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,!1===this.controller.getSettings().showCountdown&&(this.showCountdown=!1),this.createAdContainer()};i.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},i.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.controller.getIsMobile()?this.countdownDiv.style.display="none":(this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none"),this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},i.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},i.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},i.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},i.prototype.onAdsPaused=function(){this.controller.sdkImpl.adPlaying=!1,this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},i.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},i.prototype.onAdsPlaying=function(){this.controller.sdkImpl.adPlaying=!0,this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},i.prototype.updateAdUi=function(e,t,i,s,n){var r=Math.floor(t/60),a=Math.floor(t%60);a.toString().length<2&&(a="0"+a);var o=": ";n>1&&(o=" ("+s+" "+this.controller.getSettings().adLabelNofN+" "+n+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+o+r+":"+a;var l=100*(e/i);this.progressDiv.style.width=l+"%"},i.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},i.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},i.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},i.prototype.onMouseMove=function(e){this.changeVolume(e)},i.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},i.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},i.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},i.prototype.hideAdContainer=function(){this.adContainerDiv.style.display="none"},i.prototype.reset=function(){this.hideAdContainer()},i.prototype.onAdError=function(){this.hideAdContainer()},i.prototype.onAdBreakStart=function(e){this.showAdContainer(),"application/javascript"!==e.getAd().getContentType()||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},i.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&this.hideAdContainer(),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},i.prototype.onAllAdsCompleted=function(){this.hideAdContainer()},i.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},i.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},i.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},i.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},i.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},i.prototype.showAdControls=function(){this.controller.getSettings().disableAdControls||this.addClass(this.controlsDiv,"ima-controls-div-showing")},i.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing")},i.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},i.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},i.prototype.elementHasClass=function(e,t){return this.getClassRegexp(t).test(e.className)},i.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},i.prototype.removeClass=function(e,t){var i=this.getClassRegexp(t);e.className=e.className.trim().replace(i,"")},i.prototype.getAdContainerDiv=function(){return this.adContainerDiv},i.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var s="1.8.1",n="function"===typeof Symbol&&"symbol"===r()(Symbol.iterator)?function(e){return r()(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r()(e)},a=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.isAdTimedOut=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,!1===this.controller.getSettings().autoPlayAdBreaks&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.controller.getSettings().ppid&&google.ima.settings.setPpid(this.controller.getSettings().ppid)};a.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(s),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-loader",adsLoader:this.adsLoader})},a.prototype.requestAds=function(){var e=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var t=this.controller.getSettings().adsRequest;t&&"object"===("undefined"===typeof t?"undefined":n(t))&&Object.keys(t).forEach(function(i){e[i]=t[i]}),this.adsLoader.requestAds(e),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-request",AdsRequest:e})},a.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.controller.playerWrapper.vjsPlayer.trigger({type:"ads-manager",adsManager:this.adsManager}),this.autoPlayAdBreaks||this.initAdsManager();var t=this.controller.getSettings().preventLateAdStart;t?t&&!this.isAdTimedOut&&this.controller.onAdsReady():this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},a.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},a.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.initializeAdDisplayContainer()}catch(i){this.onAdError(i)}},a.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},a.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},a.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},a.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},a.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},a.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},a.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},a.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},a.prototype.onAdPaused=function(){this.controller.onAdsPaused()},a.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},a.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},a.prototype.onAdLog=function(e){this.controller.onAdLog(e)},a.prototype.onAdPlayheadTrackerInterval=function(){if(null!==this.adsManager){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),i=t-e;i=i>0?i:0;var s=0,n=void 0;this.currentAd.getAdPodInfo()&&(n=this.currentAd.getAdPodInfo().getAdPosition(),s=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(i,e,t,n,s)}},a.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},a.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},a.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},a.prototype.onAdTimeout=function(){this.isAdTimedOut=!0},a.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&"onLoad"===this.controller.getSettings().requestMode&&this.requestAds()},a.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},a.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},a.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),this.adMuted=0==e},a.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},a.prototype.getCurrentAd=function(){return this.currentAd},a.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},a.prototype.isAdPlaying=function(){return this.adPlaying},a.prototype.isAdMuted=function(){return this.adMuted},a.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},a.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},a.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},a.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},a.prototype.setVolume=function(e){this.adsManager.setVolume(e),this.adMuted=0==e},a.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainerInitialized=!0))},a.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},a.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},a.prototype.getAdsManager=function(){return this.adsManager},a.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var o=function(e,s){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(s);var n={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},r=this.extend({},n,s.contribAdsSettings||{});this.playerWrapper=new t(e,r,this),this.adUi=new i(this),this.sdkImpl=new a(this)};o.IMA_DEFAULTS={adLabel:"Advertisement",adLabelNofN:"of",debug:!1,disableAdControls:!1,prerollTimeout:1e3,preventLateAdStart:!1,requestMode:"onLoad",showControlsForJSAds:!0,timeout:5e3},o.prototype.initWithSettings=function(e){this.settings=this.extend({},o.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,!1===this.settings.showCountdown&&(this.showCountdown=!1)},o.prototype.warnAboutDeprecatedSettings=function(){var e=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")})},o.prototype.getSettings=function(){return this.settings},o.prototype.getIsMobile=function(){return this.isMobile},o.prototype.getIsIos=function(){return this.isIos},o.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},o.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},o.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},o.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},o.prototype.requestAds=function(){this.sdkImpl.requestAds()},o.prototype.setSetting=function(e,t){this.settings[e]=t},o.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},o.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},o.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},o.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},o.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},o.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},o.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},o.prototype.showAdContainer=function(){this.adUi.showAdContainer()},o.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},o.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},o.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},o.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},o.prototype.onAdPlayheadUpdated=function(e,t,i,s,n){this.adUi.updateAdUi(e,t,i,s,n)},o.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},o.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},o.prototype.playContent=function(){this.playerWrapper.play()},o.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},o.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},o.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},o.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},o.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},o.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},o.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},o.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},o.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},o.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"===typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},o.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},o.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},o.prototype.onAdTimeout=function(){this.sdkImpl.onAdTimeout()},o.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},o.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},o.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},o.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},o.prototype.setContentWithAdTag=function(e,t){this.reset(),this.settings.adTagUrl=t||this.settings.adTagUrl,this.playerWrapper.changeSource(e)},o.prototype.setContentWithAdsResponse=function(e,t){this.reset(),this.settings.adsResponse=t||this.settings.adsResponse,this.playerWrapper.changeSource(e)},o.prototype.setContentWithAdsRequest=function(e,t){this.reset(),this.settings.adsRequest=t||this.settings.adsRequest,this.playerWrapper.changeSource(e)},o.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset(),this.adUi.reset()},o.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},o.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},o.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},o.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.adUi.countdownDiv.style.display=this.showCountdown?"block":"none"},o.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},o.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},o.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},o.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},o.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},o.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},o.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},o.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},o.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},o.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},o.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)},o.prototype.extend=function(e){for(var t=void 0,i=void 0,s=void 0,n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(i=0;i<r.length;i++)for(s in t=r[i])t.hasOwnProperty(s)&&(e[s]=t[s]);return e};var l=function(e,t){this.controller=new o(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t){this.controller.setContentWithAdTag(e,t)}.bind(this),this.setContentWithAdsResponse=function(e,t){this.controller.setContentWithAdsResponse(e,t)}.bind(this),this.setContentWithAdsRequest=function(e,t){this.controller.setContentWithAdsRequest(e,t)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)};return(e.registerPlugin||e.plugin)("ima",function(e){this.ima=new l(this,e)}),l},"object"===("undefined"===typeof exports?"undefined":r()(exports))&&"undefined"!==typeof e?s(i(1103)):s(window.videojs)},1090:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(20),u=i.n(p),h=i(0),g=i.n(h),m=i(218),v=function(e){function t(){return n()(this,t),l()(this,c()(t).apply(this,arguments))}return u()(t,e),a()(t,[{key:"render",value:function(){var e='<iframe allowfullscreen="true" src="'.concat(window.location.origin,"/embed/player?filmId=").concat(this.props.videoId,'"/>');return g.a.createElement("div",{className:"embed-prompt"},g.a.createElement("div",{className:"embed-overlay"},g.a.createElement("div",{onClick:this.props.toggleEmbed}," ",g.a.createElement(m.k,null)),g.a.createElement("textarea",{className:"copy-text",rows:"4",cols:"50",defaultValue:e}),g.a.createElement("button",{className:"copy-button",onClick:this.copy},"Copy")))}},{key:"copy",value:function(){document.getElementsByClassName("copy-text")[0].select(),document.execCommand("Copy"),document.querySelector(".copy-button").innerHTML="Copied"}}]),t}(g.a.Component);t.default=v},1091:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(20),u=i.n(p),h=i(0),g=i.n(h),m=function(e){function t(){return n()(this,t),l()(this,c()(t).apply(this,arguments))}return u()(t,e),a()(t,[{key:"componentDidMount",value:function(){setTimeout(this.props.hide,4e3)}},{key:"render",value:function(){return g.a.createElement("div",{className:"rating-discretion"},g.a.createElement("div",{className:"content"},g.a.createElement("div",{onClick:function(){window.history.go(-1)},className:"back site-border-color"},"Back"),g.a.createElement("div",{className:"warning site-color"},"WARNING"),g.a.createElement("div",{className:"rating-container site-border-color"},g.a.createElement("div",{className:"label"},"The following content is rated:"),g.a.createElement("div",{className:"rating"},this.props.rating)),g.a.createElement("div",{className:"discretion"},"Viewer Discretion Is Advised")))}}]),t}(g.a.Component);t.default=m},1092:function(e,t,i){"use strict";i.r(t),i.d(t,"getDRMWidevinePlayreadyObject",function(){return a}),i.d(t,"getSecureDRMWidevinePlayreadyObject",function(){return o}),i.d(t,"getFairPlayObject",function(){return l});var s=i(1),n=i.n(s),r=i(562),a=function(e,t){return{src:e.src,type:e.type,keySystemOptions:[{name:"com.widevine.alpha",options:{serverURL:e.licenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licenseToken}}},{name:"com.microsoft.playready",options:{serverURL:e.playReadyLicenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licensePlayreadyToken}}}]}},o=function(e,t){return window.navigator.userAgent.indexOf("Edg")>-1?{"com.microsoft.playready":{serverURL:e.playReadyLicenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licensePlayreadyToken}}}:{"com.widevine.alpha":{serverURL:e.licenseUrl,httpRequestHeaders:{"X-AxDRM-Message":e.licenseToken}}}},l=function(e,t){var i=e.src;return i=e.src.includes("?")?"".concat(e.src,"&Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature):"".concat(e.src,"?Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature),n.a.set("CloudFront-Key-Pair-Id",e.CloudFrontKeyPairId,{expires:1,domain:".".concat(Object(r.a)(window.location.hostname))}),n.a.set("CloudFront-Policy",e.CloudFrontPolicy,{expires:1,domain:".".concat(Object(r.a)(window.location.hostname))}),n.a.set("CloudFront-Signature",e.CloudFrontSignature,{expires:1,domain:".".concat(Object(r.a)(window.location.hostname))}),{src:i,type:"application/x-mpegURL",keySystems:{"com.apple.fps.1_0":{getCertificate:function(i,s){var n={uri:e.certificateUrl,method:"GET",responseType:"arraybuffer"};t.xhr(n,function(e,t,i){console.log(e),e&&s(e),s(null,new Uint8Array(i))})},getContentId:function(e,t){if(t)return new TextDecoder("utf-16").decode(t.slice(16))},getLicense:function(i,s,n,r){var a={uri:e.licenseUrl,method:"POST",responseType:"arraybuffer",body:n,headers:{"Content-type":"application/octet-stream","X-AxDRM-Message":e&&e.licenseToken}};t.xhr(a,function(e,t,i){console.log(e),e&&r(e),r(null,i)})}}}}}},1093:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(20),u=i.n(p),h=i(0),g=i.n(h),m=i(2),v=function(e){function t(){return n()(this,t),l()(this,c()(t).apply(this,arguments))}return u()(t,e),a()(t,[{key:"render",value:function(){var e=Object(m.get)(window.settings,"images.desktopLogo"),t="//"+Object(m.get)(window.settings,"domainName")+Object(m.get)(this.props,"videoGist.permalink");return window.SERVER_SIDE_RENDERING?g.a.createElement("div",{className:"embed-wall-prompt"}):g.a.createElement("div",{className:"embed-wall-prompt"},g.a.createElement("div",{className:"overlay"},g.a.createElement("img",{src:e,alt:"site logo",className:"siteLogo"}),!this.props.embedPlayable&&g.a.createElement("h3",null,"FORBIDDEN!"),!this.props.embedPlayable&&g.a.createElement("p",null,"Embed not allowed to play here, go ",g.a.createElement("a",{href:t,target:"_blank"},"HERE")," to watch the content."),this.props.embedPlayable&&g.a.createElement("p",null,"Click ",g.a.createElement("a",{href:t,target:"_blank"},"HERE")," to watch the content."),g.a.createElement("div",{className:"poweredBy"},"Powered by ",g.a.createElement("a",{target:"_blank",href:"https://www.viewlift.com"},"Viewlift"))))}}]),t}(g.a.Component);t.default=v},1094:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(13),u=i.n(p),h=i(20),g=i.n(h),m=i(14),v=i.n(m),y=i(0),f=i.n(y),b=(i(1151),i(12)),w=function(e){function t(){var e;return n()(this,t),e=l()(this,c()(t).call(this)),v()(u()(e),"displayCompleteDesc",function(){e.setState({showLessDesc:!1})}),e.state={showLessDesc:!0},e}return g()(t,e),a()(t,[{key:"ellipsify",value:function(e,t){return f.a.createElement("div",null,e.split(" ").slice(0,t).join(" "),"...",f.a.createElement("span",{className:"more-button",onClick:this.displayCompleteDesc},f.a.createElement("b",null,f.a.createElement("u",null,Object(b.a)(window.settings,"genericMessages","moreLabel")))))}},{key:"render",value:function(){var e=this.props.item.desc?this.props.item.desc._text:this.props.item.synopsis._text,t=this.props.item.title?this.props.item.title._text:null,i=this.props.item.episode_title?this.props.item.episode_title._text:null;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"info_card_wrapper"},f.a.createElement("div",{className:"info_details"},f.a.createElement("div",{className:"program_date"},this.props.item.start_time+" - "+this.props.item.end_time),i&&f.a.createElement("div",{className:"program_info"},f.a.createElement("div",{className:"live_icon"}),f.a.createElement("div",{className:"season_info"},this.props.item.episode_number&&"E:"+this.props.item.episode_number._text+" |  "),f.a.createElement("div",{className:"rating_info"},this.props.item.fcc_rating&&this.props.item.fcc_rating._text+" |  "),f.a.createElement("div",{className:"cc_info"},this.props.item.closed_captioning&&this.props.item.closed_captioning._text)),f.a.createElement("div",{className:"program_title"},t&&t+" : "+(this.props.item["sub-title"]&&this.props.item["sub-title"]._text?this.props.item["sub-title"]._text:""),i&&this.props.item.series_title._text+" : "+i),f.a.createElement("div",{className:"program_description"},f.a.createElement("div",{className:"description",title:e},e&&e.split(" ").length>20&&this.state.showLessDesc?this.ellipsify(e,20):e)))))}}]),t}(f.a.Component);t.default=w},1095:function(e,t,i){"use strict";i.r(t),i.d(t,"configKeyShortcuts",function(){return s});var s=function(e,t){window&&window.addEventListener("keydown",function(i){var s=document.getElementsByClassName("modal"),n=document.getElementsByClassName("popup-view"),r=n.length>0&&n[0].childNodes[0].className.includes("overlay-player"),a=document.getElementsByClassName("video-module-wrapper"),o=document.getElementsByClassName("StandaloneVideoPlayer02-player"),l=document.getElementsByClassName("StandaloneVideoPlayer01__player"),d=document.getElementsByClassName("video-player-with-info-05"),c=document.getElementsByClassName("js-modal-inner"),p=!1;if(p=!!r||0===n.length&&(s.length>0||a.length>0||o.length>0||l.length>0||d.length>0),c.length>0&&(p=!1),p){var u=document.getElementsByClassName("search-container-input")[0],h=document.getElementsByClassName("news-search-input")[0],g=document.getElementsByClassName("news-search-input")[1],m=document.getElementsByClassName("device-code")[0];if(document.activeElement!==u&&document.activeElement!==g&&document.activeElement!==h&&document.activeElement!==m){var v=e&&e.controlBar&&e.controlBar.playToggle&&e.controlBar.playToggle.el_,y=e&&e.controlBar&&e.controlBar.volumePanel&&e.controlBar.volumePanel.muteToggle&&e.controlBar.volumePanel.muteToggle.el_,f=e&&e.controlBar&&e.controlBar.fullscreenToggle&&e.controlBar.fullscreenToggle.el_,b=e&&e.controlBar&&e.controlBar.childNameIndex_&&e.controlBar.childNameIndex_.VjsRewindBtn&&e.controlBar.childNameIndex_.VjsRewindBtn.el_.childNodes[0],w=e&&e.controlBar&&e.controlBar.childNameIndex_&&e.controlBar.childNameIndex_.NewsVjsRewindBtn&&e.controlBar.childNameIndex_.NewsVjsRewindBtn.el_.childNodes[0],E=e&&e.controlBar&&e.controlBar.childNameIndex_&&e.controlBar.childNameIndex_.VjsSkipBtn&&e.controlBar.childNameIndex_.VjsSkipBtn.el_.childNodes[0];switch(i.key){case" ":return i.preventDefault(),t&&t.focus(),void(v&&v.click());case"m":case"M":return i.preventDefault(),t&&t.focus(),void(y&&y.click());case"f":case"F":return i.preventDefault(),t&&t.focus(),void(f&&f.click());case"ArrowLeft":return i.preventDefault(),t&&t.focus(),b&&b.click(),void(w&&w.click());case"ArrowRight":return i.preventDefault(),t&&t.focus(),void(E&&E.click());default:return}}}})}},1096:function(e,t,i){"use strict";i.r(t),i.d(t,"checkRatingDescriptors",function(){return a});var s=i(0),n=i.n(s),r=i(12);i(1152);t.default=function(e){var t=e.metadataArray,i=e.isPip,s=window.screen.width,a=Object(r.a)(window.settings,"genericMessages","contentRatingTitle")||"Rated:",o=t.length>0&&t.filter(function(e){if(e.name&&"rating"==e.name.toLowerCase())return e}).map(function(e){return e.value}),l=o&&o[0]&&o[0].replaceAll("_",""),d=(t.length>0&&t.filter(function(e){if(e.name&&"rating descriptors"==e.name.toLowerCase())return e}).map(function(e){return e.value}))[0];return l&&d?n.a.createElement("div",{className:"rating-descriptor"},n.a.createElement("div",{className:"".concat(i?"rating-age-pip":"rating-age")},a.toUpperCase()," ",l.replaceAll("-","")),n.a.createElement("div",{className:"descriptor-message descriptor-ellipses  ".concat(i||s<768?"width-for-small":"width-for-big")},d)):n.a.createElement("div",null)};var a=function(e){var t=e.length>0&&e.filter(function(e){if(e.name&&"rating"==e.name.toLowerCase())return e}).map(function(e){return e.value}),i=t&&t[0]&&t[0].replaceAll("_",""),s=(e.length>0&&e.filter(function(e){if(e.name&&"rating descriptors"==e.name.toLowerCase())return e}).map(function(e){return e.value}))[0];return!(!i||!s)}},1097:function(e,t,i){"use strict";i.r(t),i.d(t,"getCustomPlayBackQuality",function(){return a}),i.d(t,"getCurrentResolution",function(){return o}),i.d(t,"getSourceSrc",function(){return l});var s=i(9),n=i.n(s),r=i(2),a=function(e){var t=Object(r.get)(window.settings,"videoQuality.playbackData"),i=e&&e.mpeg&&e.mpeg.length;if(t&&i){var s=t&&Object(r.uniqBy)(Object.values(t),"resolutionKey"),a=s&&s.length>0&&s.map(function(t){for(var s=0;s<i;s++){var r=e&&e.mpeg&&e.mpeg[s],a=r.renditionValue;if(t.resolutionKey==a.slice(1,-1)){var o=t.resolutionValue,l=o&&o.charAt(0).toUpperCase()+o.slice(1);return n()({},r,{height:t.resolutionKey,text:l})}}}),o=a&&a.length>0&&a.filter(function(e){return void 0!==e});return Object(r.sortBy)(o,function(e){return e.height}).reverse()}},o=function(e,t){if(e.includes("?")){var i=e.split("?")[0],s=!0,n=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(s=(a=o.next()).done);s=!0){var l=a.value;if(l.url.includes("?")&&l.url.split("?")[0]===i)return!0}}catch(d){n=!0,r=d}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}}},l=function(e,t){var i=a(t);return i&&i.length>0?o(e,i)?e:i&&i[0]&&i[0].url:e}},1099:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var s=function(e){return window.settings.internalName.includes(e)}},1109:function(e,t,i){},1110:function(e,t,i){"use strict";var s={"http://staging-api.viewlift.com":"develop","http://release-api.viewlift.com":"release","https://prod-api.viewlift.com":"production"};t.a=function(){return s[window.settings.apiBaseUrl]}},1111:function(e,t,i){"use strict";i.r(t);var s=i(5),n=i.n(s),r=i(10),a=i.n(r),o=i(9),l=i.n(o),d=i(16),c=i.n(d),p=i(17),u=i.n(p),h=i(18),g=i.n(h),m=i(19),v=i.n(m),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),P=i.n(E),I=i(0),S=i.n(I),T=i(2),C=i(15),O=i(31),D=i(7),A=i(12),k=i(1125),j=i(1121),R=function(e){function t(e){var i;return c()(this,t),i=g()(this,v()(t).call(this,e)),P()(f()(i),"subscriptionWall",function(){var e=66.66*window.innerWidth/100,t="?impolicy=resize&w=".concat(e,"&h=").concat(.5625*e),s={background:"url(".concat(i.props.videoGist.videoImageUrl).concat(t,") no-repeat")};if(window.SERVER_SIDE_RENDERING)return S.a.createElement("div",{className:"subscription-prompt",style:s});var n=localStorage.getItem("userSelectedPlan");return S.a.createElement("div",{className:"subscription-prompt",style:s},S.a.createElement("div",{className:"overlay"},S.a.createElement("p",null,Object(A.a)(window.settings,"genericMessages","encourageUserToLoginLabel")),S.a.createElement("div",{className:"button-container"},window.sessionStorage.getItem("openUpdatecard")?S.a.createElement("a",{href:"/user/account",className:"cta button"}," Activate Now "):n&&"string"===typeof n?S.a.createElement("div",{className:"cta button",style:{padding:"13px",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},onClick:function(e){return i.planSelection()}},Object(A.a)(window.settings,"genericMessages","startFreetrialButton")):S.a.createElement("a",{href:"/viewplans",className:"cta button",onClick:function(){return i.pushButtonEvent("video_wall")}},Object(A.a)(window.settings,"genericMessages","startFreetrialButton")),!i.state.user&&S.a.createElement("button",{className:"cta login-btn",onClick:function(e){return Object(C.login)(i.props.content.pricing.type)}},Object(A.a)(window.settings,"navigation.settings","primaryCta.loginCtaText")))))}),P()(f()(i),"purchaseWall",function(){var e=i.props.content,t=e.showData.seasons[e.currentSeason],s={series:e.seriesId,season:e.seasonId},n=Object(T.get)(e,"contentType")||Object(T.get)(e,"gist.contentType");if(n&&"VIDEO"===n){var r=l()({},s,{content:e.gist.id,video:e.gist.id}),a=k.a.formatPricing(e.pricing,r,e.gist.title),o={gist:l()({},t,{contentType:"EPISODE",title:e.gist.title})};return Object(C.purchase)(a[0],o,function(){return e.playEpisode()}),null}}),P()(f()(i),"loginWall",function(){var e=66.66*window.innerWidth/100,t="?impolicy=resize&w=".concat(e,"&h=").concat(.5625*e),s={background:"url(".concat(i.props.videoGist.videoImageUrl).concat(t,") no-repeat")},n=Object(A.a)(window.settings,"navigation.settings","primaryCta.loginCtaText");return window.SERVER_SIDE_RENDERING?S.a.createElement("div",{className:"subscription-prompt",style:s}):S.a.createElement("div",{className:"subscription-prompt",style:s},S.a.createElement("div",{className:"overlay"},S.a.createElement("p",null,Object(A.a)(window.settings,"genericMessages","entitlementLoginErrorMessage")),S.a.createElement("div",{className:"button-container"},S.a.createElement("button",{className:"cta login-btn",onClick:function(e){return Object(C.login)(i.props.content.pricing.type)}},void 0!==n?n:"Login"))))}),P()(f()(i),"subscriptionStatusWall",function(){var e=66.66*window.innerWidth/100,t="?impolicy=resize&w=".concat(e,"&h=").concat(.5625*e),s={background:"url(".concat(i.props.videoGist.videoImageUrl).concat(t,") no-repeat")},n=i.state.user.subscription,r=n.subscriptionInfo&&n.subscriptionInfo.paymentHandler;if(i.state.user&&"HOLD"===i.state.user.subscriptionStatus){var a=Object(A.a)(window.settings,"genericMessages","SUBSCRIPTION_HOLD"),o=Object(A.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");return S.a.createElement("div",{className:"subscription-prompt",style:s},S.a.createElement("div",{className:"overlay"},S.a.createElement("p",null,a&&o&&r&&a+" "+r+" "+o+"."||"Your subscription is on Hold.")))}if(i.state.user&&"PAUSED"===i.state.user.subscriptionStatus){var l=Object(A.a)(window.settings,"genericMessages","SUBSCRIPTION_PAUSED"),d=Object(A.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");return S.a.createElement("div",{className:"subscription-prompt",style:s},S.a.createElement("div",{className:"overlay"},S.a.createElement("p",null,l&&d&&r&&l+" "+r+". "+d+" "+r+"."||"Your subscription is Paused.")))}}),i.pushButtonEvent=i.pushButtonEvent.bind(f()(i)),i}return w()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=a()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.dataLayer){e.next=2;break}return e.abrupt("return");case 2:window.dataLayer.push({event:"soft_wall_shown",video_title:this.props.videoGist.title,video_id:this.props.videoGist.id});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"pushButtonEvent",value:function(e){window.dataLayer&&window.dataLayer.push({event:"subscribe_cta_click",source:e})}},{key:"planSelection",value:function(){var e=localStorage.getItem("userSelectedPlan");Object(j.c)(e)}},{key:"render",value:function(){var e=this.props.content&&this.props.content.pricing&&this.props.content.pricing.type&&this.props.content.pricing.type.toLowerCase();return"tvod"===e&&this.props.isEpisode?this.purchaseWall():!this.state.user&&("avod"===e||"free"===e||window.settings.forceLogin&&this.props.videoGist.free)?this.loginWall():!this.state.user||"HOLD"!==this.state.user.subscriptionStatus&&"PAUSED"!==this.state.user.subscriptionStatus?this.subscriptionWall():this.subscriptionStatusWall()}}]),t}(S.a.Component);Object(O.a)(R,function(e){return{user:e.user}},D.a),t.default=R},1112:function(e,t,i){"use strict";i.d(t,"a",function(){return g});var s=i(8),n=i.n(s),r=i(1),a=i.n(r),o=i(26),l=i(7),d=i(1179),c=i.n(d);window._deviceInfo=c()(navigator.userAgent);var p=function(e){return e>1024?"L":e>768?"M":"S"},u=function(e){var t=n()(e,"video.tags",[]),i=n()(n()(e,"video.gist.primaryCategory.title","VIEWLIFT_CONTENT_GENRE"));return t.length>0?t.map(function(e){return e.title}).join(","):i},h=function(){var e=JSON.parse(a.a.get("token"));if(!e||!e.authorizationToken)return"VIEWLIFT_IP";var t=Object(o.a)(e.authorizationToken),i=t.ipaddress,s=t.ipaddresses;return i||s||"VIEWLIFT_IP"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,d=arguments.length>6?arguments[6]:void 0;if(!e.includes("VIEWLIFT_"))return e;var c=i.dimensions,g=c.width,m=c.height,v=n()(t,"video.gist.id",""),y=o||n()(window.settings,"advertising.videoTag",""),f=new URLSearchParams(y),b=l.a.getState().user||{},w="1YNN";!1===(b&&b.emailConsent)&&(w="1YYN");var E={VIEWLIFT_WIDTH:g,VIEWLIFT_HEIGHT:m,VIEWLIFT_SIZE:p(g),VIEWLIFT_DOMAIN:window.location.hostname,VIEWLIFT_URL:window.location.href,VIEWLIFT_ENCODED_URL:encodeURIComponent(window.location.href),VIEWLIFT_DOUBLE_ENCODED_URL:encodeURIComponent(encodeURIComponent(window.location.href)),VIEWLIFT_CACHEBUSTER:"3708662946268",VIEWLIFT_TIMESTAMP:Date.now().toString().substring(0,10),VIEWLIFT_TIMESTAMP_MS:Date.now().toString(),VIEWLIFT_IP:h(),VIEWLIFT_USER_AGENT:navigator.userAgent,VIEWLIFT_DNT:"1"===navigator.doNotTrack?"1":"0",VIEWLIFT_DESCRIPTION:n()(t,"video.gist.description","VIEWLIFT_DESCRIPTION"),VIEWLIFT_DURATION:n()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_MIN_DURATION:0,VIEWLIFT_MAX_DURATION:n()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_AUTOPLAY:s||1,VIEWLIFT_AD_POS:f.get("pod")||"VIEWLIFT_AD_POS",VIEWLIFT_MUTE:r||0,VIEWLIFT_OS:n()(window,"_deviceInfo.os.name","VIEWLIFT_OS"),VIEWLIFT_OS_VER:n()(window,"_deviceInfo.os.version","VIEWLIFT_OS_VER"),VIEWLIFT_DEVICE_ID:localStorage.getItem("deviceId")||"VIEWLIFT_DEVICE_ID",VIEWLIFT_KEYWORDS:u(t),VIEWLIFT_MEDIA_ID:v,VIEWLIFT_ENCODED_VIDEO_TITLE:encodeURI(n()(t,"video.gist.title","VIEWLIFT_ENCODED_VIDEO_TITLE")),VIEWLIFT_VIDEO_ID:v,VIEWLIFT_VIDEO_URL:encodeURI(window.location.host+n()(t,"video.gist.permalink","")),VIEWLIFT_CONSENT:a.a.get("cc")||"VIEWLIFT_CONSENT",VIEWLIFT_COPPA:n()(window.settings,"compliance.coppa")?1:0,VIEWLIFT_GDPR:n()(window.settings,"compliance.gdpr")?1:0,VIEWLIFT_US_PRIVACY:w,VIEWLIFT_CONTENT_DURATION_MS:1e3*n()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_CONTENT_DURATION:n()(t,"video.gist.runtime","VIEWLIFT_DURATION"),VIEWLIFT_MAX_POD_DURATION:f.get("pmxd")||"VIEWLIFT_MAX_POD_DURATION",VIEWLIFT_MAX_POD_DURATION_MS:1e3*f.get("pmxd")||"VIEWLIFT_MAX_POD_DURATION_MS",VIEWLIFT_CONTENT_ID:v,VIEWLIFT_CONTENT_TITLE:n()(t,"video.gist.title","VIEWLIFT_ENCODED_VIDEO_TITLE"),VIEWLIFT_CONTENT_SERIES_TITLE:n()(t,"video.series[0].gist.title",n()(t,"seriesInfo.title","VIEWLIFT_CONTENT_SERIES_TITLE")),VIEWLIFT_CONTENT_EPISODE:n()(t,"video.currentEpisode","VIEWLIFT_CONTENT_EPISODE"),VIEWLIFT_CONTENT_SEASON:n()(t,"video.currentSeason","VIEWLIFT_CONTENT_SEASON"),VIEWLIFT_CONTENT_GENRE:n()(t,"video.gist.primaryCategory.title","VIEWLIFT_CONTENT_GENRE")};if(d){for(var P in E)"VIEWLIFT_CONTENT_DURATION_MS"!==P&&"VIEWLIFT_MAX_POD_DURATION_MS"!==P&&"VIEWLIFT_TIMESTAMP_MS"!==P&&"VIEWLIFT_OS_VER"!==P&&(e=e.replace(P,E[P]));return e}for(var I in E){var S=new RegExp("\\b("+I+")\\b","g");e=e.replace(S,E[I])}return e}},1113:function(e,t,i){"use strict";i.r(t);var s=i(9),n=i.n(s),r=i(5),a=i.n(r),o=i(10),l=i.n(o),d=i(16),c=i.n(d),p=i(17),u=i.n(p),h=i(18),g=i.n(h),m=i(19),v=i.n(m),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),P=i.n(E),I=i(0),S=i.n(I),T=i(1103),C=(i(1143),i(1144),i(1109),i(2)),O=i(1),D=i.n(O),A=i(1079),k=i(219),j=i(1120),R=i(562),M=i(1110),L=i(242),N=i(1090),_=i(1114),F=i(1091),V=i(1088),x=i(32),U=i(31),W=i(7),B=i(1092),z=i(236),H=i(1084),q=i(235),G=i(1093),K=i(15),Y=i(12),X=i(1115),J=i(36),Q=i(1081),Z=(i(21),i(1095)),$=i(237),ee=i(1094),te=i(1096),ie=i(1117),se=i(1112),ne=i(1097);window.videojs=T.default,i(1089);var re=function(e){function t(e){var s;return c()(this,t),s=g()(this,v()(t).call(this,e)),P()(f()(s),"showPinOverlay",l()(a.a.mark(function e(){var t,i,n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==s.props.showPinOverlay){e.next=12;break}if(t=!1,i=s.props.user&&s.props.user.parentalControl&&s.props.user.parentalControl.parentalRating,n=s.props.video&&s.props.video.parentalRating,!i||s.state.showPinOverlay||"string"!=typeof i){e.next=12;break}if(!s.ratingMap.length){e.next=9;break}r=s.ratingMap&&s.ratingMap.find(function(e){return e.key===i}),e.next=11;break;case 9:return e.next=11,Object(q.getRatingList)().then(function(e){s.ratingMap=e,r=e&&e.find(function(e){return e.key===i})}).catch(function(e){s.setState({showPinOverlay:!1})});case 11:r&&r.value&&(t=r.value.includes(n),s.setState({showPinOverlay:t}));case 12:case"end":return e.stop()}},e)}))),P()(f()(s),"initializePlayerControls",function(){var e=l()(a.a.mark(function e(t){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.props.modalOpen&&(r=document.querySelectorAll(".video-js")).forEach(function(e){e.addEventListener("play",function(e){r.forEach(function(t){var i=Object(T.default)(t);e.target!==t&&i.pause()})})}),e.next=3,i.e(276).then(i.bind(null,1150));case 3:if(o=e.sent,!window.SERVER_SIDE_RENDERING){e.next=6;break}return e.abrupt("return");case 6:s.props&&s.props.EPGMode&&s.props.video&&s.props.video.gist&&s.props.video.gist.isTrailer||(D.a.set("videoId",s.props.videoId),localStorage.setItem("videoId",s.props.videoId),localStorage.setItem("title",s.props.video.gist.title)),o.getAutoplaySupport().then(function(e){return n=e,t||s.fetchVideoSources(s.props.video.gist.originalObjectId||s.props.videoId)}).then(function(e){s.setState({videoAssets:e});var t=s.props.autoplay&&n.autoplayAllowed||!1,r=Object(C.get)(window,"settings.features.mute_sound"),a="boolean"===typeof r?r:n.autoplayRequiresMute;if(e){var o=Object(se.a)(Object(C.get)(s.assets,"hls"),s.props,f()(s));if("mp4"===("hls"===s.props.fileType&&o?"hls":"mp4")){var l=Object(se.a)(e.src,s.props,f()(s),t,a,s.state.dfpTag);e.src=Object(ne.getSourceSrc)(l,s.assets)}else e.src=Object(se.a)(e.src,s.props,f()(s),t,a,s.state.dfpTag)}var d={controls:!0,autoplay:t,muted:a,preload:!0,poster:s.state.poster,sources:[e],debug:!0};s.props.customControls&&(d.controlBar=s.props.customControls);var c="./skin";s.props.customSkin&&(c=s.props.customSkin),i(1082)("".concat(c,".js")).then(function(t){var i=t.replaceIcons,n=t.addRewindControl,r=t.customizeCaptions,a=t.addResolutionControl,o=t.addEmbedBtn,l=t.addSkipControl,c=t.addVideoTitle,p=t.addSeasonList,u=t.addSkipIntroControl,h=t.addSkipRecapControl,g=t.addPlayNextControl;s.showPinOverlay().then(function(t){try{s.addResolutionControl=a,s.isDrmEnabledVideo&&e.type&&("application/dash+xml"===e.type||"application/x-mpegURL"===e.type)?Object(H.d)()&&s.state.askPin&&(s.props.showPinOverlay||s.state.showPinOverlay)?s.videoRestrictions():(s.initializeDrmPlayer(e,i,n,r,a,o,d,u,h,g),s.videoNode&&Object(Z.configKeyShortcuts)(s.player,s.videoNode)):Object(H.d)()&&s.state.askPin&&(s.props.showPinOverlay||s.state.showPinOverlay)?s.videoRestrictions():(e&&s.initializePlayer(d,i,n,r,a,o,l,c,p,u,h,g),s.videoNode&&Object(Z.configKeyShortcuts)(s.player,s.videoNode))}catch(m){console.log(m)}})})}).catch(function(e){!e||e.playable||s.setState({videoWall:!0,plans:e.plans,errorMessage:e.errorMessage||e.message})});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),P()(f()(s),"videoRestrictions",l()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(H.d)()){e.next=5;break}return e.next=3,s.setState({askPin:!0});case 3:e.next=7;break;case 5:return e.next=7,s.setState({askPin:!1});case 7:case"end":return e.stop()}},e)}))),P()(f()(s),"playerEnter",function(){var e;e=JSON.parse(localStorage.getItem("program")),s.props.EPGMode&&e&&!s.props.isPip&&s.setState({EPGScreen:!0,epgData:e})}),P()(f()(s),"playerLeave",function(){s.state.EPGScreen&&s.setState({EPGScreen:!1})}),P()(f()(s),"videoPersonalizationHandler",function(){s.props.isFree&&s.state.user&&D.a.get("isUserSignUp")&&D.a.get("isUserSignUp").match("true")&&window.settings.recommendation&&window.settings.recommendation.isPersonalization&&window.settings.recommendation.recommendCategories&&window.settings.recommendation.recommendCategories.length>0&&(window.settings.recommendation.isSubscribed||(Object(K.persolizationSetUpProfile)()&&D.a.set("isUserSignUp",!1)&&D.a.set("isThankYouPage",!1),setTimeout(function(){window.player.pause()},200)))}),P()(f()(s),"setCCSettings",function(){document.querySelectorAll(".vjs-subs-caps-button li.vjs-menu-item").forEach(function(e){e.addEventListener("click",function(e){e.currentTarget.classList.contains("vjs-texttrack-settings")||(e.currentTarget.classList.contains("vjs-selected")&&e.currentTarget.classList.contains("vjs-subtitles-menu-item")?(localStorage.setItem("ccDefault","on"),localStorage.setItem("ccDefaultLang",e.currentTarget.querySelector(".vjs-menu-item-text").innerHTML)):localStorage.setItem("ccDefault","off"))})})}),P()(f()(s),"addPlayerEntitlementLogic",function(e){e.options;var t=e.replaceIcons,i=e.addRewindControl,n=e.customizeCaptions,r=e.addResolutionControl,a=e.addEmbedBtn,o=e.addSkipControl,l=e.addVideoTitle,d=e.addSeasonList,c=e.addSkipIntroControl,p=e.addSkipRecapControl,u=e.addPlayNextControl;t(s.player),o&&o(s.player),l&&l(s.player,s.props.video),d&&d(s.player,s.props.video),i(s.player);var h=document.getElementsByClassName("vjs-current-time-display")&&document.getElementsByClassName("vjs-current-time-display").item&&document.getElementsByClassName("vjs-current-time-display").item(0);void 0!==h&&h.setAttribute("translate","no");var g=s.props.closedCaptions||Object(C.get)(s.state,"video.contentDetails.closedCaptions"),m=(parseInt(D.a.get("hdbm")),Object(C.get)(window.settings,"features.free_preview"));m&&m.per_video;Object(C.some)(g,{format:"VTT"})&&n(s.player);var v=!!Object(C.isEmpty)(s.state.plans)||s.state.plans[0].featureSetting&&s.state.plans[0].featureSetting.isHdStreaming;r(s.player,s.isDrmEnabledVideo?"drm":s.props.fileType,s.assets,s.state.isLiveStream,s.showUpgradePopup,v),window.settings.embedPlayer&&window.settings.embedPlayer.showEmbedButton&&a(s.player,s.toggleEmbed),p&&p(s.player,s.props&&s.props.video,s.props&&s.props.isPip),c&&c(s.player,s.props&&s.props.video,s.props&&s.props.isPip),u&&u(s.player,s.props&&s.props.video),s.props.showTimer&&s.appendRemainingContainer(s.player,s.props.showTimer),!s.props.autoplay||L.a.isMobile()||L.a.isSafari()||s.startVideo()}),P()(f()(s),"addBeaconObject",function(e){var t=s.props;e&&(t=e);var i,r=t.video;i=new j.a(n()({player:s.player,videoTitle:Object(C.get)(t,"video.gist.title"),videoId:t.videoId,seriesTitle:Object(C.get)(t,"seriesInfo.title"),seriesId:Object(C.get)(t,"seriesInfo.id")},r&&{contentCategory:Object(C.get)(r.gist,"primaryCategory.title"),isLiveStream:Object(C.get)(r.gist,"isLiveStream")},{fileType:t.fileType,assets:s.assets,siteName:window.settings.internalName,clientId:window.settings.siteId,platform:"WEBSITE",userId:t.user&&t.user.userId,apiUrl:window.settings.beacon.apiBaseUrl,environment:Object(M.a)()})),s.beacon=i}),P()(f()(s),"shouldAdsInitialize",function(){if(s.state.dfpTag){var e=s.state.user,t=W.a.getState().purchasedItems||null,i=t&&t.purchasedItems&&t.purchasedItems.length,n=e&&e.istveLoggedIn,r=e&&e.isSubscribed,a=s.state.adFeatures,o=a.transactionPurchased,l=a.subscribed,d=a.loggedIn,c=a.nonLoggedIn,p=a.churned,u=a.tve,h=!(e&&(r||i)&&s.state.plans&&s.state.plans[0].featureSetting&&void 0!==s.state.plans[0].featureSetting.includingAds)||s.state.plans[0].featureSetting.includingAds,g=e&&(r&&l||d&&!r&&!i&&!n||("SUSPENDED"===e.subscriptionStatus||"CANCELLED"===e.subscriptionStatus)&&p||i&&o||n&&u)||!e&&c;return"undefined"!==typeof window.google&&h&&g}return!1}),P()(f()(s),"checkIfVideoIsEntitled",function(){var e=s.props.video;return e&&Object(Q.f)(e,s.state.plans)}),P()(f()(s),"checkIfVideoIsFree",function(){var e=s.props.video;return e&&Object(Q.g)(e,s.state.plans)}),P()(f()(s),"checkByPassEntitlementDomains",function(){var e=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&e&&e.length>0){var t=window.location!==window.parent.location?document.referrer:document.location.href;if(t=t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],e.includes(t)||e.includes("*"))return!0}return!1}),P()(f()(s),"checkEmbedDomains",function(){var e=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomains;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&e&&e.length>0){var t=window.location!==window.parent.location?document.referrer:document.location.href;if(t=t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],e.includes(t)||e.includes("*"))return!0}return!1}),P()(f()(s),"onTimeUpdate",function(e,t,i){t=[],i=[];var n=Math.floor(e.player.currentTime());if(e.props.showTimer&&e.getRemainingTime(e.props.isLive?(e.props.scheduleEndDate-Date.now())/1e3:e.player.remainingTimeDisplay()),!Object(C.includes)(i,n)){i.push(n),e.sendWatchedEventData(n,e.player.duration()),e.perVideo&&e.allow_recurring_plays&&!e.counterInitiated&&(e.props.user&&e.props.user.isSubscribed||!e.props.user)&&(D.a.set("hdbm",0),localStorage.setItem("hdbm",0));var r=parseInt(D.a.get("hdbm"))||parseInt(localStorage.getItem("hdbm"))||n,a=s.state.subscription&&s.state.subscription.subscriptionInfo&&s.state.video&&s.state.video.plans&&s.state.video.plans.length>0&&!s.state.video.plans[0].planIds.includes(s.state.subscription.subscriptionInfo.planId);if("Videos"!==e.previewshowUnit&&e.previewTime&&r<=e.previewTime&&(e.props.user&&!e.props.user.isSubscribed||!e.props.user)&&(n=r,e.perVideo?setTimeout(function(){e.counterInitiated=!0,D.a.set("hdbm",Math.floor(e.player.currentTime())+1),localStorage.setItem("hdbm",Math.floor(e.player.currentTime())+1)},900):e.perVideo||setTimeout(function(){D.a.set("hdbm",r+1),localStorage.setItem("hdbm",r+1)},900)),!e.props.embed||e.previewTime||e.checkIfVideoIsFree()||e.checkByPassEntitlementDomains()||(e.setState({embedWall:!0,embedPlayable:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),e.previewTime&&r>=e.previewTime&&(e.props.user&&!e.props.user.isSubscribed||a||!e.props.user))if(e.props.embed)e.checkIfVideoIsFree()||e.checkByPassEntitlementDomains()||(e.setState({embedWall:!0,embedPlayable:!0}),e.player.pause(),e.props.overlay||e.player.dispose());else if(e.props.isEpisode&&!e.props.isEntitled||!e.props.isEpisode&&!e.checkIfVideoIsEntitled())if(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose(),!s.state.user||"HOLD"!==s.state.user.subscriptionStatus&&"PAUSED"!==s.state.user.subscriptionStatus||e.player.dispose(),e.props.isEpisode)e.props.updateEntitlementScreen();else if(!e.props.isEpisode){var o=[];if(s.state.video.plans&&s.state.video.plans.length>0?o=s.state.video.plans:s.state.plans&&s.state.plans.length>0&&(o=s.state.plans),o.length>0&&!o[0].id){var l=o[0].planIds.toString();Object(J.g)(l).then(function(t){s.setState({videoWall:!0,plans:t,errorMessage:""}),e.props.updateEntitlementScreen(t)})}else o.length>0&&o[0].id&&(s.setState({videoWall:!0,plans:o,errorMessage:""}),e.props.updateEntitlementScreen(o))}e.perVideo&&D.a.set("videoId",e.props.videoId),"Videos"!==e.previewshowUnit||e.state.isFree||(n=parseInt(D.a.get("len")));var d=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||90,c=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==d&&c&&n>=d&&n%d===0&&e.props.user&&!Object(C.includes)(t,n)&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())){t.push(n);var p=Math.floor(e.player.duration());e.sendWatchedInfo(n,p).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&s.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var u=Math.floor(e.player.duration());!Object(C.includes)(t,n)&&c&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())&&e.props.user&&parseInt(u)-parseInt(n)<5&&(e.resetHistory||e.sendWatchedInfo(n,u,!0).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&s.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}))}}),P()(f()(s),"enableRatingDescriptor",function(){!s.state.showRatingDescriptor&&s.state.ratingDisplayDone&&(s.setState({showRatingDescriptor:!0}),setTimeout(function(){s.setState({showRatingDescriptor:!1})},7e3))}),P()(f()(s),"initializeOverlayPlayer",function(){if(s.state.initializePlayer){s.player.reset();var e=s.state.videoAssets,t=e&&e.src;s.isDrmEnabledVideo?s.configureDRMPlayback(e):(s.player.src(t),s.player.load(),s.player.play())}}),P()(f()(s),"configureDRMPlayback",function(e){if(L.a.isSafari()){var t=Object(B.getFairPlayObject)(e,T.default);D.a.set("CloudFront-Key-Pair-Id",e.CloudFrontKeyPairId,{domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Policy",e.CloudFrontPolicy,{domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Signature",e.CloudFrontSignature,{domain:".".concat(Object(R.a)(window.location.hostname))});try{s.player.eme()}catch(c){}s.player.src(t),e.isFromVideoEnded||s.player.play()}else{var i=Object(B.getDRMWidevinePlayreadyObject)(e),n=Object(B.getSecureDRMWidevinePlayreadyObject)(e);if(e.CloudFrontKeyPairId&&e.CloudFrontPolicy&&e.CloudFrontSignature){var r,a,o=e.src;r=document.querySelector("video"),(a=window.dashjs.MediaPlayer().create()).getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO"),a.extend("RequestModifier",function(){return{modifyRequestHeader:function(e){return e},modifyRequestURL:function(t){return t.includes("?")?"".concat(t,"&Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature):"".concat(t,"?Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature)}}}),a.initialize(),a.setProtectionData(n),a.updateSettings({streaming:{scheduleWhilePaused:!1,fastSwitchEnabled:!0}}),a.attachView(r),a.setAutoPlay(!0),a.attachSource(o);var l=document.querySelector(".vjs-big-play-button"),d=document.querySelector(".vjs-play-control");l&&l.addEventListener("click",function(e){a.play()}),d&&d.addEventListener("click",function(e){d.classList.contains("vjs-paused")?a.play():d.classList.contains("vjs-playing")&&a.pause()})}else s.player.src(i),e.isFromVideoEnded?s.player.pause():s.player.play()}}),s.state={video:null,startedAtSetTime:!1,ratingDisplayDone:!s.isRatingEnabled(),showRatingDiscretion:!1,videoWall:!1,videoEnded:!1,showEmbed:!1,askPin:!0,showPinOverlay:e.showPinOverlay||!1,showUpgrade:!1,embedPlayable:!1,showRatingDescriptor:!1},s.bufferedPercent=0,s.playStarted=!1,s.lastBufferedTime=0,s.totalBufferTime=0,s.bufferCount=0,s.errorMessage=null,s.streamedData=[],s.triggeredPause=!1,s.isFromErrorEvent=!1,s.ratingMap=[],s.initialData={},s.sourceURL=null,s.resetHistory=!1,s.counterInitiated=null,s.toggleRatingDiscretion=s.toggleRatingDiscretion.bind(f()(s)),s.toggleEmbed=s.toggleEmbed.bind(f()(s)),s.dimensions=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},s.showUpgradePopup=s.showUpgradePopup.bind(f()(s)),s.handlePreviewSettings(),e.video&&e.video.tags&&(s.tags=e.video.tags.map(function(e){return e&&e.title}).join(",")),e.video&&e.video.categories&&(s.categories=e.video.categories.map(function(e){return e&&e.title}).join(",")),s.hardWallEnabled=Object(C.get)(window.settings,"forceLogin"),s}return w()(t,e),u()(t,[{key:"handlePreviewSettings",value:function(){var e=Object(C.get)(window.settings,"features.free_preview");if(e){var t=e.isFreePreview;this.previewshowUnit=e.length.unit;var i="Minutes"===this.previewshowUnit?60*parseFloat(e.length.multiplier):parseFloat(e.length.multiplier);this.previewTime=t&&i,this.perVideo=t&&e.per_video,this.allow_recurring_plays=t&&e.allow_recurring_plays}}},{key:"componentWillReceiveProps",value:function(){var e=l()(a.a.mark(function e(t,s){var r,o,l,d,c,p,u,h,g,m,v,y,f,b,w,E,P,I,S,T,O,D=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.video&&(this.props.video.id||this.props.video.gist.id),o=t.video&&(t.video.id||t.video.gist.id),r!==o){e.next=4;break}return e.abrupt("return");case 4:if(l=t.video,d=null,this.state.user){e.next=29;break}if(!t.isEpisode){e.next=12;break}c=l&&l.episodePlans,d=c&&Object(C.find)(c,function(e){return"FREE"===e.monetizationModel}),e.next=22;break;case 12:if(p=l&&l.plans,u=p&&Object(C.find)(p,function(e){return"FREE"===e.type}),h=u&&u.planIds&&u.planIds[0],e.t0=h,!e.t0){e.next=20;break}return e.next=19,Object(J.e)(h);case 19:e.t0=e.sent;case 20:g=e.t0,d=g&&g[0];case 22:if(!d){e.next=29;break}if(m=d.featureSetting,v=m.isEmailRequired,y=m.isLoginRequired,f=localStorage.getItem("emailProcessed"),!(!this.state.user&&y||!f&&v)){e.next=29;break}return t.updateEntitlementScreen&&y&&t.updateEntitlementScreen([n()({},d)]),this.setState({videoWall:!0,plans:[n()({},d)]}),e.abrupt("return");case 29:if(!1!==t.isPip&&!0!==t.isPip||Promise.all([i.e(17),i.e(275)]).then(i.bind(null,1149)).then(function(e){var i=e.updateSkipRecapControl,s=e.updateSkipIntroControl;i&&i(D.player,t.video,t.isPip),s&&s(D.player,t.video,t.isPip)}),t.video&&(b=t.video,w=b.currentEpisode,E=b.currentSeason,P=b.showData,I=(P=void 0===P?{}:P).seasons,I&&I[E].episodes[w]||{}),this.player&&this.player.textTracks()&&this.player.textTracks().tracks_&&this.player.textTracks().tracks_.length>0&&(this.currentModeValue=this.player.textTracks().tracks_.find(function(e,t){return"on"===localStorage.getItem("ccDefault")&&localStorage.getItem("ccDefaultLang")===e.label?e:null})),null===this.props.user&&this.setState({videoWall:!1}),!t||!t.isEpisode&&!t.isPlaylistItem||r===o){e.next=49;break}return t.resetEntitlementScreen&&t.resetEntitlementScreen(),this.setState({video:t.video,videoEnded:!1,plans:[],videoWall:!1}),e.next=38,this.fetchVideoSources(t.video.gist.originalObjectId||t.video.gist.id,t.showPinOverlay,t);case 38:if(S=e.sent){e.next=41;break}return e.abrupt("return");case 41:this.props.video&&t.video&&this.props.video!==t.video&&(T="./newsSkin"===t.customSkin?"./newsSkin":"./skin")&&i(1082)("".concat(T,".js")).then(function(e){var i=e.updateSkipRecapControl,s=e.updateSkipIntroControl,n=e.updatePlayNextControl;i&&i(D.player,t.video,t.isPip),s&&s(D.player,t.video,t.isPip),n&&n(D.player,t.video)}),O=S&&S.src,this.playStarted=!1,this.streamedData=[],this.interval&&clearInterval(this.interval),this.player&&this.player.reset(),this.isDrmEnabledVideo?this.configureDRMPlayback(S):(this.player.src(O),this.player.load(),this.player.play()),"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateVideoTitle;i&&i(D.player,Object(C.get)(t,"video.gist"))});case 49:this.props.video&&t.video&&!this.props.video.seasons&&t.video.seasons&&"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateSeasonList;i&&i(D.player,t.video)});case 50:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}()},{key:"getSignature",value:function(){return"mp4"===this.props.fileType?Promise.resolve():Object(A.f)(this.props.videoId)}},{key:"fetchVideoSources",value:function(e,t,i){var s=this,n=this;if(this.setState({fetching:!0}),t&&Object(H.d)()&&this.state.askPin)return this.setState({initializePlayer:!0,currentVideoId:e}),Promise.resolve({src:"",type:"video/mp4"});if(this.props&&this.props.src)return Promise.resolve({src:this.props.src,type:"video/mp4"});if(!e)return Promise.reject("No Video Src or Video ID Not found");var r=void 0!==this.props.embed&&this.props.embed;return Object(A.e)(e,r,function(e){s.player&&s.player.controls(!0),i&&(n.resetHistory=!1,n.initialData={},s.addBeaconObject(i)),s.errorMessage=null;var t=e.data.video.streamingInfo;s.assets=t.videoAssets;var r=66.66*window.innerWidth/100,a="?impolicy=resize&w=".concat(r,"&h=").concat(.5625*r),o=e.data.ads&&Object(C.get)(e.data.ads,"preRoll.adTags.web.active")&&Object(C.get)(e.data.ads,"preRoll.adTags.web.url"),l=e.data.ads&&e.data.ads.features;if(s.setState({fetching:!1,isLiveStream:t.isLiveStream,isFree:s.props.isFree||Object(C.get)(e,"data.video.gist.free"),video:Object(C.get)(e,"data.video"),gist:Object(C.get)(e,"data.video.gist"),poster:"".concat(e.data.video.gist.videoImageUrl).concat(a),plans:Object(C.get)(e,"data.plans"),dfpTag:o||null,adFeatures:l||{}}),"Videos"===s.previewshowUnit&&!s.state.isFree){var d=parseInt(D.a.get("len"),10);D.a.set("len",(d||0)+1)}var c=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.hlsDetail,p="",u="",h="";if(c&&(p=c.keypairId||"",u=c.policy||"",h=c.signature||"",D.a.set("CloudFront-Key-Pair-Id",p,{expires:1,domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Policy",u,{expires:1,domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Signature",h,{expires:1,domain:".".concat(Object(R.a)(window.location.hostname))})),s.isDrmEnabledVideo=!1,s.isDrmEnabledVideo=Object(C.get)(e,"data.video.drmEnabled"),s.isDrmEnabledVideo)return!L.a.isSafari()&&s.assets.widevine&&s.assets.widevine.url?{src:s.assets.widevine.url,type:"application/dash+xml",licenseUrl:s.assets.widevine.licenseUrl,licenseToken:s.assets.widevine.licenseToken,licensePlayreadyToken:s.assets.playReady&&s.assets.playReady.licenseToken,playreadyUrl:s.assets.playReady&&s.assets.playReady.url,playReadyLicenseUrl:s.assets.playReady&&s.assets.playReady.licenseUrl}:{src:s.assets.fairPlay.url,type:"application/x-mpegURL",licenseUrl:s.assets.fairPlay.licenseUrl,licenseToken:s.assets.fairPlay.licenseToken,completeskd:s.assets.fairPlay.completeskd,certificateUrl:s.assets.fairPlay.certificateUrl};var g=Object(se.a)(Object(C.get)(s.assets,"hls"),s.props,s,null,null,o),m=!!Object(C.isEmpty)(s.state.plans)||s.state.plans[0].featureSetting&&s.state.plans[0].featureSetting.isHdStreaming,v=s.assets.mpeg,y=s.assets.mpeg&&s.assets.mpeg.length;m||(y=(v=Object(C.filter)(s.assets.mpeg,function(e){return e.renditionValue.slice(1,-1)<720}))&&v.length);var f=Object(se.a)(Object(C.get)(v,"[".concat(y-1,"].url")),s.props,s,null,null,o);return"hls"===s.props.fileType&&g?"snagfilms"!==window.settings.internalName&&g.includes("viewlift.com")?{src:g,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:g.includes("hoichoi.tv")||g.includes("supercrosslive.tv")?{src:g,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:"kronon"===window.settings.internalName?{src:g,type:"application/x-mpegURL",handleManifestRedirects:!0,CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:{src:g,type:"application/x-mpegURL",CloudFrontKeyPairId:p,CloudFrontPolicy:u,CloudFrontSignature:h}:{src:f,type:"video/mp4"}}).catch(function(e){s.setState({fetching:!1}),e&&!e.plans&&(e.plans=[]);var t={};if(e&&e.errorMessage&&s.props.embed){if(e.errorMessage.includes("Embed not allowed"))return void s.setState({embedWall:!0,embedPlayable:s.checkEmbedDomains()});if(e.errorMessage.includes("valid subscription"))return void s.setState({embedWall:!0,embedPlayable:!0})}if(e&&e.errorCode&&"SUBSCRIPTION_HOLD"===e.errorCode){var i=s.state.user&&s.state.subscription&&s.state.subscription.subscriptionInfo&&s.state.subscription.subscriptionInfo.paymentHandler,r=Object(Y.a)(window.settings,"genericMessages",e.errorCode),a=Object(Y.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");t={errorMessage:r&&a&&i&&r+" "+i+" "+a||"Your subscription is on Hold."}}else if(e&&e.errorCode&&"SUBSCRIPTION_PAUSED"===e.errorCode){var o=s.state.user&&s.state.subscription&&s.state.subscription.subscriptionInfo&&s.state.subscription.subscriptionInfo.paymentHandler,l=Object(Y.a)(window.settings,"genericMessages",e.errorCode),d=Object(Y.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");t={errorMessage:l&&d&&o&&l+" "+o+". "+d+" "+o+"."||"Your subscription is Paused."}}if(e&&e.errorCode&&"MAX_DEVICE_ERROR"===e.errorCode){D.a.set("MAX_DEVICE_ERROR",!0),setTimeout(function(){window.location.href="/user"},4e3);var c=Object(Y.a)(window.settings,"genericMessages","userDevicesExceedError")||"User has exceeded the device limit. Go to device management and remove the devices.";t={errorMessage:c,message:c}}if(e&&e.errorCode&&"VIDEO_NOT_EXISTS"===e.errorCode?t={errorMessage:Object(Y.a)(window.settings,"genericMessages","strContentNotAvailable")||"This content is not currently available."}:e&&e.errorCode&&"COUNTRY_PLAN_NOT_FOUND"===e.errorCode&&(t={errorMessage:Object(Y.a)(window.settings,"genericMessages","noPlanInContentMessage")||"This content has no plan associated."}),e&&e.errorCode&&"CANT_ACCESS_TVE_CONTENT"===e.errorCode&&(t={errorMessage:Object(Y.a)(window.settings,"genericMessages","ContentNotAvailableforTVProvider")||"The content is not available on your TV provider."}),e&&!e.playable){var p=e.plans,u=e&&e.errorCode&&e.errorCode;return u&&"MAX_STREAMS_ERROR"===u&&(p=[]),s.setState({videoWall:!0,plans:p,errorMessage:e&&t.errorMessage}),void(s.props.updateEntitlementScreen&&!n.checkIfVideoIsEntitled()&&(s.player&&(n.player.pause(),n.player.reset(),s.player.controls(!1)),s.props.updateEntitlementScreen(p)))}})}},{key:"componentDidMount",value:function(){var e=l()(a.a.mark(function e(){var t,s,r,o,l,d,c,p,u,h,g;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i(1145),i(1146),i(1147),i(1148),t=this.props.video,s=null,this.state.user||this.props.embed){e.next=29;break}if(!this.props.isEpisode){e.next=12;break}r=t&&t.episodePlans,s=r&&Object(C.find)(r,function(e){return"FREE"===e.monetizationModel}),e.next=22;break;case 12:if(o=t&&t.plans,l=o&&Object(C.find)(o,function(e){return"FREE"===e.type}),d=l&&l.planIds&&l.planIds[0],e.t0=d,!e.t0){e.next=20;break}return e.next=19,Object(J.e)(d);case 19:e.t0=e.sent;case 20:c=e.t0,s=c&&c[0];case 22:if(!s){e.next=29;break}if(p=s.featureSetting,u=p.isEmailRequired,h=p.isLoginRequired,g=localStorage.getItem("emailProcessed"),!(!this.state.user&&h||!g&&u)){e.next=29;break}return this.props.updateEntitlementScreen&&h&&this.props.updateEntitlementScreen([n()({},s)]),this.setState({videoWall:!0,plans:[n()({},s)]}),e.abrupt("return");case 29:this.initializePlayerControls();case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeDrmPlayer",value:function(e,t,i,s,n,r,a,o,l,d){var c=this,p={autoplay:a.autoplay,controls:a.controls,debug:a.debug,muted:a.muted,poster:a.poster,preload:a.preload};this.player=Object(T.default)(this.videoNode,p,function(){c.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:s,addResolutionControl:n,addEmbedBtn:r,addSkipIntroControl:o,addSkipRecapControl:l,addPlayNextControl:d}),c.configureDRMPlayback(e)}),window.player=this.player,this.addBeaconObject(),this.listenToPlayerEvents(),this.shouldAdsInitialize()&&this.initializeAds()}},{key:"updatePin",value:function(){this.setState({askPin:!1}),this.initializePlayerControls()}},{key:"initializePlayer",value:function(e,t,i,s,n,r,a,o,l,d,c,p){var u=this;if(e&&e.sources[0]&&e.sources[0].CloudFrontKeyPairId&&e.sources[0].CloudFrontPolicy&&e.sources[0].CloudFrontSignature&&"video/mp4"!==e.sources[0].type){var h=e.sources[0].CloudFrontKeyPairId,g=e.sources[0].CloudFrontPolicy,m=e.sources[0].CloudFrontSignature;L.a.isSafari()&&(T.default.options.hls.overrideNative=!0,T.default.options.html5.nativeAudioTracks=!1,T.default.options.html5.nativeVideoTracks=!1),T.default.options.hls.withCredentials=!0,T.default.Hls.xhr.beforeRequest=function(e){e.uri.includes("?")?e.uri="".concat(e.uri,"&Key-Pair-Id=").concat(h,"&Policy=").concat(g,"&Signature=").concat(m):e.uri="".concat(e.uri,"?Key-Pair-Id=").concat(h,"&Policy=").concat(g,"&Signature=").concat(m)}}this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&(window.registerIVSTech(T.default),e.techOrder=["AmazonIVS"]),this.player=Object(T.default)(this.videoNode,e,function(){u.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:s,addResolutionControl:n,addEmbedBtn:r,addSkipControl:a,addVideoTitle:o,addSeasonList:l,addSkipIntroControl:d,addSkipRecapControl:c,addPlayNextControl:p})}),window.player=this.player,this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&window.player.src(e.sources[0].src),this.addBeaconObject(),this.props.getVideoRef&&this.props.getVideoRef(this.player);var v=document.getElementsByClassName("next-episode")[0];v&&v.addEventListener("click",function(){u.shouldAdsInitialize()&&u.initializeAds()}),this.listenToPlayerEvents(),this.shouldAdsInitialize()&&this.initializeAds()}},{key:"appendRemainingContainer",value:function(e,t){e.el_.append(t)}},{key:"getRemainingTime",value:function(e){var t=Math.floor(e/60),i=Math.floor(e-60*t),s=document.querySelector(".remaining-time-wrapper");s&&(s.style.visibility="visible");var n=document.querySelector(".time-elapsed");n&&(n.innerHTML="".concat(t,":").concat(i<10?"0"+i:i))}},{key:"toggleEmbed",value:function(){this.setState({showEmbed:!this.state.showEmbed})}},{key:"showUpgradePopup",value:function(){this.setState({showUpgrade:!this.state.showUpgrade})}},{key:"listenToPlayerEvents",value:function(){var e=this,t=this;this.player.one(L.a.isMobile()?"touchend":"click",function(t){e.startVideo()}),this.player.one("loadeddata",function(){var i=Object(C.get)(e.state.video,"gist.runtime");(isFinite(e.player.duration())||isFinite(i)||document.getElementsByClassName("VideoJS")[0].classList.add("live"),e.isFromErrorEvent)?e.isFromErrorEvent=!1:!(t.perVideo&&t.allow_recurring_plays&&!t.counterInitiated&&(t.props.user&&t.props.user.isSubscribed||!t.props.user))&&e.props.startTime&&e.player.currentTime(e.props.startTime)}),this.player.on("firstplay",function(i){if(!e.playStarted&&e.state.video){var s=e.state.video,n=s.gist,r=void 0===n?{}:n,a=s.creditBlocks,o=void 0===a?[]:a,l=s.categories,d=void 0===l?[]:l,c=s.parentalRating,p=void 0===c?"NA":c;d.push(r.primaryCategory||{});var u=window.location.pathname.match(/movies|kids|originals|shows/g)||["videos"];e.playData={contentTypeDetail:u[0],freeOrPaid:r.isFree?"Free":r.free?"Free":"Paid",rating:p};var h=Object(C.filter)(e.props.closedCaptions||Object(C.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"}),g=Math.floor(t.player.currentTime()),m=e.beacon&&e.beacon.getBitrate()||null;if(D.a.set("getBitrate",m),e.videoEventData={contentId:r.id,contentTitle:r.title,contentType:r.isTrailer?"Trailer":"EPISODIC"===r.mediaType?"Episode":"Video",contentDuration:r.runtime,playbackType:"Streamed",platform:"Web",bufferCount:e.bufferCount,bufferTime:Object(C.round)(e.totalBufferTime),bitRate:e.beacon.getBitrate(),watchedTime:g>e.lastBufferedTime?Object(C.round)(g-e.lastBufferedTime):Object(C.round)(g),subtitles:h.length?"Y":"N",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi"},"EPISODIC"===r.mediaType&&e.props.video&&e.props.video.showData&&(D.a.set("episodeNumber",e.props.video.currentEpisode+1),D.a.set("seasonNumber",e.props.video.currentSeason+1),o=e.props.video.showData.creditBlocks,(d=e.props.video.showData.categories).push(e.props.video.showData.gist.primaryCategory||{}),e.videoEventData=Object(C.extend)({},e.videoEventData,{episodeNumber:e.props.video.currentEpisode+1,seasonNumber:e.props.video.currentSeason+1,showName:e.props.video.showData.gist.title})),e.videoEventData.playSource=Object(x.c)()+(e.props.video&&e.props.video.showData?"_Show Detail":"_Video Detail"),Object(C.each)(o,function(t){"director"===t.title.trim().toLowerCase()&&(e.videoEventData.directorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):""),"starring"===t.title.trim().toLowerCase()&&(e.videoEventData.actorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):"")}),e.videoEventData.contentGenre=d.map(function(e){return e.title}).join(","),Object(x.g)("Play Started",Object(C.extend)({},e.videoEventData,e.playData)),e.playStarted=!0,!e.shouldAdsInitialize()){var v=r&&r.metadata;Object(te.checkRatingDescriptors)(v)&&e.enableRatingDescriptor()}}});var i=[],s=[];this.player.on("timeupdate",function(n){e.onTimeUpdate(t,i,s)}),this.player.on("pause",function(){t.triggeredPause=!0}),this.player.on("play",function(){if(!0===t.triggeredPause){var e=void 0!==t.props.embed&&t.props.embed;Object(A.e)(t.props.videoId,e,function(e){}).catch(function(e){t.setState({errorMessage:e&&(e.errorMessage||e.message)}),t.errorMessage=t.state&&t.state.errorMessage})}t.triggeredPause=!1}),this.player.on("waiting",function(i){e.bufferCount+=1;var s=e.player.currentTime(),n=[],r=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||0,a=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==r&&a&&s>=r&&s%r===0&&t.props.user&&!Object(C.includes)(n,s)&&!e.props.isTrailer&&isFinite(e.player.duration())){n.push(s);var o=Math.floor(e.player.duration());e.sendWatchedInfo(s,o).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var l=Math.floor(e.player.duration());!Object(C.includes)(n,s)&&a&&t.props.user&&!e.props.isTrailer&&!t.props.isPromo&&isFinite(e.player.duration())&&parseInt(l)-parseInt(s)<5&&(t.resetHistory||e.sendWatchedInfo(s,l,!0).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}));var d=setInterval(function(){try{e.player&&e.player.currentTime()<=s+.1&&!e.player.paused()?e.totalBufferTime=e.totalBufferTime+.1:clearInterval(d)}catch(t){clearInterval(d)}},100)}),this.player.on("ended",function(t){if(window.settings.features.auto_play){e.props.isPlaylistItem&&e.setState({videoEnded:!0}),e.props.isEpisode&&e.props.video.nextEpisode&&e.setState({videoEnded:!0});var i=Object(C.get)(e.props,"video.contentDetails.relatedVideoIds");if(window.settings&&window.settings.recommendation&&window.settings.recommendation.isRecommendation&&window.settings.recommendation.isRecommendationAutoPlay&&D.a.get("isFromRecommendationTray")&&"true"==D.a.get("isFromRecommendationTray")&&localStorage.getItem("recommendedVideoIds")&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records.length>0){if(!(i=JSON.parse(localStorage.getItem("recommendedVideoIds")).records.filter(function(e,t){if(e.gist.mediaType&&"series"!==e.gist.mediaType.toLowerCase()||e.gist.contentType&&"series"!==e.gist.contentType.toLowerCase())return e.gist&&null!=e.gist.id}).map(function(e,t){return e.gist.id}))||0===i.length)return;var s=Object(C.get)(e.props,"video.gist.id"),n=0;if(void 0===i.find(function(e,t){return n=t,e===s}))return;if(n>=i.length)return;Object(A.d)(i[n+1],function(e){window.location.href=e.data.video.gist.permalink})}else if(i&&0!==i.length){if(!e.props.isEpisode&&!e.props.isPlaylistItem&&!e.props.isNewsTrailer){var r=null!==window.sessionStorage.getItem("rvid")?parseInt(window.sessionStorage.getItem("rvid"),10)+1:0;window.sessionStorage.setItem("rvid",r),Object(A.d)(i[r],function(e){window.location.href=e.data.video.gist.permalink})}}else e.isDrmEnabledVideo&&e.fetchVideoSources(e.props.video.gist.originalObjectId||e.props.videoId).then(function(t){t.isFromVideoEnded=!0,e.configureDRMPlayback(t)})}}),this.player.on("error",function(t){var i={};e.videoEventData&&Object(C.assignIn)(i,e.videoEventData),i.errorMessage=e.player.error().message,Object(x.g)("Media Error",i);var s=Math.floor(e.player.currentTime());5===e.player.error().code&&e.isDrmEnabledVideo&&(L.a.isSafari()?(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.video.gist.originalObjectId||e.props.videoId).then(function(t){t.certificateUrl="https://v-".concat(window.settings.internalName,".viewlift.com/fairplay.cer"),e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(s),e.player.play()})):(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.videoId).then(function(t){e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(s),e.player.play()}))),(3===e.player.error().code||-3===e.player.error().code)&&e.props.video&&e.props.video.gist.isLiveStream&&e.fetchVideoSources(e.props.video.gist.originalObjectId||e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t.src),e.player.load()}),2===e.player.error().code&&e.fetchVideoSources(e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t.src),e.player.load(),e.player.play()})}),this.player.on("ready",function(t){var i=Object(C.filter)(e.props.closedCaptions||Object(C.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"});e.updateCaptions(i,e.currentModeValue),e.videoPersonalizationHandler()}),this.player.on("ended",function(t){e.props.videoEndedHandler&&e.props.videoEndedHandler()})}},{key:"refreshPlayer",value:function(){this.player.currentTime()===this.bufferedPercent?(this.bufferedPercent++,this.player.currentTime(this.bufferedPercent)):clearInterval(this.refresh)}},{key:"sendWatchedInfo",value:function(){var e=l()(a.a.mark(function e(t,i,s){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetHistory=s,n=this.props.video&&this.props.video.gist&&this.props.video.gist.originalObjectId||this.props.videoId,this.initialData.videoId&&this.initialData.videoId!==this.props.videoId||this.initialData.watchedTime===t){e.next=10;break}return this.props.overlay&&(r=localStorage.getItem("vrtm")||"{}")&&((o=JSON.parse(r))[n]=t,localStorage.setItem("vrtm",JSON.stringify(o))),this.initialData.videoId=this.props.videoId,this.initialData.watchedTime=t,e.next=9,Object(k.p)({videoId:n,watchedTime:t,watchedPercentage:Math.floor(t/i*100),siteOwner:window.settings.internalName,userId:this.props.user&&this.props.user.userId}).then(function(e){return e}).catch(function(e){return console.log(e),e});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return function(t,i,s){return e.apply(this,arguments)}}()},{key:"sendWatchedEventData",value:function(e,t){if(this.videoEventData){var i=!1,s=Math.floor(e/t*100),n=Object(C.extend)({},this.videoEventData,this.playData);if(e>=120&&s<25&&-1===this.streamedData.indexOf("2 mins")?(this.streamedData.push("2 mins"),i=!0):s>=25&&s<50&&-1===this.streamedData.indexOf(25)?(this.streamedData.push(25),i=!0):s>=50&&s<75&&-1===this.streamedData.indexOf(50)?(this.streamedData.push(50),i=!0):s>=75&&s<80&&-1===this.streamedData.indexOf(75)?(this.streamedData.push(75),i=!0):s>=80&&-1===this.streamedData.indexOf(80)&&(this.streamedData.push(80),i=!0),i){var r="";this.props.video&&Object(C.get)(this.props.video,"showData.gist.title")&&(r=this.props.video.showData.gist.title);var a=this.streamedData[this.streamedData.length-1];D.a.set("stream",a);var o=Object(C.filter)(this.props.closedCaptions||Object(C.get)(this.state,"video.contentDetails.closedCaptions"),{format:"VTT"});n.subtitles=o.length?"Y":"N",n.stream=a,n.bufferTime=Object(C.round)(this.totalBufferTime),n.bufferCount=this.bufferCount,n.watchedTime=e>this.lastBufferedTime?Object(C.round)(e-this.lastBufferedTime):Object(C.round)(e),n.bitRate=this.beacon.getBitrate(),n.seasonNumber=this.props.video&&this.props.video.currentSeason||"",n.episodeNumber=this.props.video&&this.props.video.currentEpisode||"",n.showName=r,n.platform="Web",n.networkType=window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",Object(x.g)("Watched",n),this.lastBufferedTime=e,this.totalBufferTime=0,this.bufferCount=0}}}},{key:"startVideo",value:function(){void 0!==this.props.videoTag&&this.props.hideAds;if(this.shouldAdsInitialize())return this.player.ima.initializeAdDisplayContainer&&this.player.ima.initializeAdDisplayContainer(),void this.listenToAdEvents();this.toggleRatingDiscretion()}},{key:"initializeAds",value:function(e,t){var i=this,s=e&&e||this.state.dfpTag||this.props.videoTag,n=s.includes("spotx")?"spotx":"google";if(t?t.adUrl=null:this.adUrl=null,s=Object(se.a)(s,this.props,this,null,null,s,!0),"google"===n){var r=s.indexOf("cust_params="),a=new URL(s),o=a.search,l=new URLSearchParams(o);r>=0?(l.set("description_url",window.location),l.set("vid",this.props.videoId),l.set("cust_params","vid="+this.props.videoId),l.set("correlator",(new Date).getTime())):(l.set("description_url",window.location),t?l.set("vid",t.props.videoId):l.set("vid",this.props.videoId),l.set("url",window.location.href),l.set("correlator",(new Date).getTime()),l.set("cust_params=sd",6e4),t?l.append("vid",t.props.videoId):l.append("vid",this.props.videoId)),l.append("site",window.location.origin),l.append("autostart",""),l.append("mute",""),l.append("user_agent",""),l.append("keyword",""),t?l.append("category",t.props.category):l.append("category",this.props.category),l.append("categories",this.categories),l.append("tags",this.tags),a.search=l.toString();var d=a.toString();t?t.adUrl=d:this.adUrl=d}else if("spotx"===n){var c=new URL(s),p=c.search,u=new URLSearchParams(p);u.set("content_page_url",window.location.href),u.set("player_width",this.player.el_.clientWidth),u.set("player_height",this.player.el_.clientHeight),u.set("user[consent]",!0),u.set("regs[gdpr]",!0),u.set("cb",(new Date).getTime().toString()),c.search=u.toString();var h=c.toString();this.adUrl=h}var g=t?t.player:this.player;"function"===typeof g.ima?g.ima({id:"vjs_video_3",adTagUrl:this.adUrl,adLabel:"Your video will resume after this sponsor message"}):setTimeout(function(){g.ima.setContentWithAdTag(null,i.adUrl,!0),g.ima.requestAds()},1e3)}},{key:"listenToAdEvents",value:function(){var e=this;this.player.on("adsready",function(){window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()}),window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.AD_ERROR,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()})})}},{key:"toggleRatingDiscretion",value:function(){return this.isRatingEnabled()&&!this.state.ratingDisplayDone?this.showRatingDiscretion():this.hideRatingDiscretion()}},{key:"componentWillUnmount",value:function(){try{this.player&&this.player.dispose()}catch(e){}}},{key:"componentDidUpdate",value:function(e,t){if(!e.modalOpen&&this.props.modalOpen){if(!this.player||!this.player.player_)return;this.player.pause(),"undefined"!==typeof window.google&&this.player&&this.player.ima&&Object(C.isFunction)(this.player.ima.pause)&&this.player.ima.pause()}else e.modalOpen&&!this.props.modalOpen&&"undefined"!==typeof window.google&&this.player&&Object(C.isFunction)(this.player.ima.resume)&&this.player.ima.resume();var i=this.perVideo&&this.allow_recurring_plays&&!this.counterInitiated&&(this.props.user&&this.props.user.isSubscribed||!this.props.user);this.player&&!this.state.startedAtSetTime&&!i&&this.props.startTime&&e.startTime!==this.props.startTime&&(this.player.currentTime(this.props.startTime),this.setState({startedAtSetTime:!0})),!t.showEmbed&&this.state.showEmbed&&this.player.pause()}},{key:"isRatingEnabled",value:function(){return Object(C.get)(window.settings,"user_content_rating",!1)&&!this.props.isTrailer&&this.parentalRating&&"NR"!==this.parentalRating}},{key:"hideRatingDiscretion",value:function(){this.player.play(),this.setState({showRatingDiscretion:!1,ratingDisplayDone:!0})}},{key:"showRatingDiscretion",value:function(){this.player.pause(),this.setState({showRatingDiscretion:!0})}},{key:"updateCaptions",value:function(e,t){var i=this,s="on"===localStorage.getItem("ccDefault"),n=localStorage.getItem("ccDefaultLang");if(this.player&&e&&(Object(C.map)(this.player.remoteTextTrackEls(),function(e){i.player.removeRemoteTextTrack(e)}),Object(C.map)(e,function(e){i.player.addRemoteTextTrack({src:e.url,manualCleanup:!0,srcLang:e.language,label:e.language},!0)}),(t||s)&&this.player.textTracks()&&this.player.textTracks().tracks_.length>0)){var r=this.player.textTracks().tracks_.find(function(e){return s&&e.label===n?e:null});r&&(r.mode="showing")}this.setCCSettings()}},{key:"playVideoCb",value:function(){this.setState({videoWall:!1}),this.initializePlayerControls()}},{key:"render",value:function(){var e=this,t=Boolean(this.props&&this.props.video&&this.props.video.gist&&this.props.video.gist.clevertapPopupTime),i=Object(C.get)(this.props&&this.props.video,"gist.metadata")||"",s=this.props.video&&this.props.video.nextEpisode&&this.props.video.nextEpisode.id||null,n=Object(C.get)(this.props,"video.gist.id")||null;return s&&s===n&&this.props.overlay&&this.state.videoEnded&&Object(K.hide)(),S.a.createElement("div",{onMouseEnter:this.playerEnter,onMouseLeave:this.playerLeave},this.state.fetching&&S.a.createElement(ie.default,{videoGist:this.props.video&&this.props.video.gist}),t&&void 0!==this.player&&S.a.createElement($.default,{player:this.player,video:this.props&&this.props.video,userId:this.props&&this.props.user&&this.props.user.userId}),this.state.EPGScreen&&S.a.createElement(ee.default,{item:this.state.epgData}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&!this.props.isPlaylistItem&&S.a.createElement(V.default,{backgroundUrl:this.props.video.nextEpisode.videoImageUrl,nextVideoTitle:this.props.video.nextEpisode.title,timer:3,action:this.props.video.playNextEpisode,initializeAds:this.shouldAdsInitialize()&&this.initializeAds,videoTag:this.state.dfpTag||this.props.videoTag,thisTimer:this}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&this.props.isPlaylistItem&&this.props.nextVideoDataAction.nextVideoData.gist&&S.a.createElement(V.default,{backgroundUrl:this.props.nextVideoDataAction.nextVideoData.gist.videoImageUrl,nextVideoTitle:this.props.nextVideoDataAction.nextVideoData.gist.title,timer:3,isPlaylistItem:this.props.isPlaylistItem,action:this.props.nextVideoDataAction.playNextAction}),this.state.videoWall&&S.a.createElement(X.default,{isEpisode:this.props.isEpisode,content:this.props.video,videoGist:this.props.video&&this.props.video.gist,plans:this.state.plans,cb:function(){return e.playVideoCb()},metadataMap:Object(C.get)(this,"props.metadataMap")||{},errorMessage:this.state.errorMessage}),this.state.embedWall&&S.a.createElement(G.default,{isEpisode:this.props.isEpisode,content:this.props.video,embedPlayable:this.state.embedPlayable,videoGist:this.props.video&&this.props.video.gist}),Object(H.d)()&&this.state.askPin&&(this.props.showPinOverlay||this.state.showPinOverlay)&&S.a.createElement(z.default,{videoId:this.props.videoId,askPin:this.state.askPin,initializePlayer:function(){return e.initializeOverlayPlayer()},changePinState:function(){return e.updatePin()}}),this.state.showUpgrade&&S.a.createElement(_.default,{toggleUpgrade:this.showUpgradePopup}),S.a.createElement("div",{"data-vjs-player":!0},S.a.createElement("div",null,this.state.showRatingDescriptor&&i&&i.length>0&&S.a.createElement(te.default,{metadataArray:i,isPip:this.props.isPip})),this.state.showRatingDiscretion&&S.a.createElement(F.default,{hide:this.hideRatingDiscretion.bind(this),rating:this.parentalRating}),this.state.showEmbed&&S.a.createElement(N.default,{videoId:this.props.videoId,toggleEmbed:this.toggleEmbed}),S.a.createElement("video",{ref:function(t){return e.videoNode=t},playsInline:!0,id:"videoplayer",className:"video-js"+(this.hasAccess||this.props.isFree?"":" hd-cc")})))}},{key:"parentalRating",get:function(){return this.props.parentalRating||Object(C.get)(this.props,"video.parentalRating")}}]),t}(S.a.Component);Object(U.a)(re,function(e){return{user:e.user,subscription:e.subscription&&e.subscription.subscription}},W.a),t.default=re},1114:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(20),u=i.n(p),h=i(0),g=i.n(h),m=i(218),v=i(12),y=function(e){function t(){return n()(this,t),l()(this,c()(t).apply(this,arguments))}return u()(t,e),a()(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"upgrade-prompt"},g.a.createElement("div",{className:"upgrade-overlay"},g.a.createElement("div",{onClick:this.props.toggleUpgrade}," ",g.a.createElement(m.k,null)),Object(v.a)(window.settings,"genericMessages","featureRestrictUpgradeMsg"),g.a.createElement("button",{className:"upgrade-button cta",onClick:function(){return window.location="/user"}},Object(v.a)(window.settings,"genericMessages","upgradeNow"))))}}]),t}(g.a.Component);t.default=y},1115:function(e,t,i){"use strict";i.r(t);var s=i(5),n=i.n(s),r=i(10),a=i.n(r),o=i(14),l=i.n(o),d=i(16),c=i.n(d),p=i(17),u=i.n(p),h=i(18),g=i.n(h),m=i(19),v=i.n(m),y=i(20),f=i.n(y),b=i(0),w=i.n(b),E=i(201),P=i(7),I=i(31),S=i(2),T=i(12),C=i(1123),O=i(1081),D=(i(1153),function(e){function t(e){var i;return c()(this,t),(i=g()(this,v()(t).call(this,e))).state={plansByType:[],loading:!0,emailProcessing:!1,plans:i.props.plans},i.dimensions=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},i}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.updatePlans()}},{key:"updatePlans",value:function(){if(this.state.plans&&this.state.plans.length>0){var e=Object(S.groupBy)(this.state.plans,"monetizationModel");if(this.isFree=Object.keys(e)&&Object.keys(e).includes("FREE"),this.isTVE=Object.keys(e)&&Object.keys(e).includes("TVE"),this.isFree){var t=Object(S.find)(this.state.plans,function(e){return"FREE"===e.monetizationModel}).featureSetting,i=t.isEmailRequired,s=t.isLoginRequired;this.setState({plansByType:e,isEmailRequired:i,isLoginRequired:s,loading:!1})}else this.setState({plansByType:e,isEmailRequired:!1,isLoginRequired:!1,loading:!1})}else this.setState({plansByType:[],isEmailRequired:!1,isLoginRequired:!1,loading:!1})}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({plans:e.plans},function(){t.updatePlans()})}},{key:"emailForm",value:function(){var e=this;return w.a.createElement("form",{className:"emailForm",onSubmit:function(t){e.signUp(t)}},w.a.createElement("label",null,Object(T.a)(window.settings,"genericMessages","enterEmailLabel")),w.a.createElement("input",{type:"email",ref:function(t){e.emailInput=t},required:!0}),this.state.emailRequiredError&&w.a.createElement("div",{className:"emailError"},this.state.emailRequiredError),w.a.createElement("input",l()({className:"cta",type:"submit",value:this.state.emailProcessing?Object(T.a)(window.settings,"genericMessages","pleaseWaitMessage"):Object(T.a)(window.settings,"genericMessages","continueCta")},"className","cta")))}},{key:"signUp",value:function(){var e=a()(n.a.mark(function e(t){var i,s,r=this;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({emailProcessing:!0}),i={email:this.emailInput&&this.emailInput.value,ignorePassword:!0},s={site:window.settings.internalName},e.next=6,Object(E.b)({method:"POST",url:"".concat(window.settings.apiBaseUrl,"/identity/email/capture"),params:s,data:i,headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(e){localStorage.setItem("emailProcessed",!0),r.props.cb&&r.props.cb()}).catch(function(e){var t=Object(S.get)(e,"response.data");t&&t.code&&"EMAIL_ALREADY_LINKED"===t.code?(localStorage.setItem("emailProcessed",!1),r.setState({emailProcessing:!1,emailRequiredError:Object(T.a)(window.settings,"genericMessages","emailAlreadyLinked")||t&&t.error,isEmailRequired:!0})):r.setState({emailProcessing:!1,emailRequiredError:t&&t.error})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t={};if(t=this.props.videoGist.videoImageUrl?{backgroundImage:"url(".concat(this.props.videoGist.videoImageUrl,"?impolicy=resize&w=").concat(this.dimensions.width,"&h=").concat(this.dimensions.height,")"),backgroundPosition:"center",backgroundSize:"cover"}:{backgroundPosition:"center",backgroundSize:"cover"},this.state.loading)return w.a.createElement("div",{className:"waysSpinner",style:t}," ",w.a.createElement("div",{className:"spinner site-color"})," ");if(this.state.user&&"HOLD"===this.state.user.subscriptionStatus){var i=this.state.user.subscription,s=i.subscriptionInfo&&i.subscriptionInfo.paymentHandler,n=Object(T.a)(window.settings,"genericMessages","SUBSCRIPTION_HOLD"),r=Object(T.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");return w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement("div",{className:"contentNotAvailable"},n&&r&&s&&n+" "+s+" "+r+"."||"Your subscription is on Hold."))}if(this.state.user&&"PAUSED"===this.state.user.subscriptionStatus){var a=this.state.user.subscription,o=a.subscriptionInfo&&a.subscriptionInfo.paymentHandler,l=Object(T.a)(window.settings,"genericMessages","SUBSCRIPTION_PAUSED"),d=Object(T.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");return w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement("div",{className:"contentNotAvailable"},l&&d&&o&&l+" "+o+". "+d+" "+o+"."||"Your subscription is Paused."))}if(this.props.videoGist.scheduleEndDate&&this.props.videoGist.scheduleEndDate-Date.now()<0)return w.a.createElement("div",{className:"waysSpinner",style:t}," ",w.a.createElement("div",{className:"contentNotAvailable"},Object(T.a)(window.settings,"genericMessages","videoNotPlayableDialogTitle")));if(this.props.videoGist.scheduleStartDate&&this.props.videoGist.scheduleStartDate-Date.now()>0){var c=this.props.content&&Object(O.f)(this.props.content,this.props.plans);return w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement(C.a,{header:"Time until this video is available!",startTime:this.props.videoGist.scheduleStartDate,hide:function(){return e.props.cb()}}),c&&!this.isFree&&w.a.createElement("div",{className:"purchased-copy"},w.a.createElement("p",null,Object(T.a)(this.props,"metadataMap","videoAlreadyPurchasedLabel")||"You have purchased this video. Sit back, and enjoy when it starts")))}return Object(S.isEmpty)(this.state.plansByType)?w.a.createElement("div",{className:"waysSpinner",style:t},w.a.createElement("div",{className:"contentNotAvailable"},this.props.errorMessage?this.props.errorMessage:Object(T.a)(window.settings,"genericMessages","ContentNotAvailableInYourArea"))):this.state.user&&this.state.user.istveLoggedIn&&this.isTVE?w.a.createElement("div",{className:"waysSpinner",style:t}," ",w.a.createElement("div",{className:"contentNotAvailable"},this.props.errorMessage?this.props.errorMessage:Object(T.a)(window.settings,"genericMessages","ContentNotAvailableforTVProvider"))):w.a.createElement("div",{className:"waysToWatchPrompt",style:t},w.a.createElement("div",{className:"overlay"},w.a.createElement("div",{className:"optionTypes"},!this.state.user&&!this.state.isLoginRequired&&this.state.isEmailRequired&&this.emailForm())))}}]),t}(w.a.Component));Object(I.a)(D,function(e){return{user:e.user}},P.a),t.default=D},1116:function(e,t,i){},1117:function(e,t,i){"use strict";i.r(t);var s=i(0),n=i.n(s);t.default=function(e){var t=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},i={};return i=e.videoGist.videoImageUrl?{backgroundImage:"url(".concat(e.videoGist.videoImageUrl,"?impolicy=resize&w=").concat(t.width,"&h=").concat(t.height,")"),backgroundPosition:"center",backgroundSize:"cover"}:{backgroundPosition:"center",backgroundSize:"cover"},n.a.createElement("div",{className:"waysSpinner",style:i}," ",n.a.createElement("div",{className:"spinner site-color"})," ")}},1119:function(e,t,i){"use strict";i.r(t);var s=i(9),n=i.n(s),r=i(5),a=i.n(r),o=i(10),l=i.n(o),d=i(16),c=i.n(d),p=i(17),u=i.n(p),h=i(18),g=i.n(h),m=i(19),v=i.n(m),y=i(13),f=i.n(y),b=i(20),w=i.n(b),E=i(14),P=i.n(E),I=i(0),S=i.n(I),T=i(1103),C=(i(1143),i(1144),i(1109),i(2)),O=i(1),D=i.n(O),A=i(1079),k=i(219),j=i(1120),R=i(562),M=i(1110),L=i(242),N=i(1090),_=i(1091),F=i(1088),V=i(1111),x=i(32),U=function(e,t){var i=e.user&&e.user.isSubscribed,s=!!t.purchaseStatus;return{FREE:!0,AVOD:!0,TVOD:s,SVOD:i,PPV:s,"SVOD+TVOD":s||i,"SVOD+PPV":s||i}[e.pricingOptions&&e.pricingOptions.type||t.pricing&&t.pricing.type||window.settings.serviceType]},W=i(31),B=i(7),z=i(1092),H=i(236),q=i(1084),G=i(235),K=i(1093),Y=i(15),X=i(12),J=i(1112),Q=i(1094),Z=i(1095),$=i(237),ee=i(1096),te=i(1097);window.videojs=T.default,i(1089);var ie=function(e){function t(e){var s;return c()(this,t),s=g()(this,v()(t).call(this,e)),P()(f()(s),"showPinOverlay",l()(a.a.mark(function e(){var t,i,n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==s.props.showPinOverlay){e.next=12;break}if(t=!1,i=s.props.user&&s.props.user.parentalControl&&s.props.user.parentalControl.parentalRating,n=s.props.video&&s.props.video.parentalRating,!i||s.state.showPinOverlay||"string"!=typeof i){e.next=12;break}if(!s.ratingMap.length){e.next=9;break}r=s.ratingMap&&s.ratingMap.find(function(e){return e.key===i}),e.next=11;break;case 9:return e.next=11,Object(G.getRatingList)().then(function(e){s.ratingMap=e,r=e&&e.find(function(e){return e.key===i})}).catch(function(e){s.setState({showPinOverlay:!1})});case 11:r&&r.value&&(t=r.value.includes(n),s.setState({showPinOverlay:t}));case 12:case"end":return e.stop()}},e)}))),P()(f()(s),"initializePlayerControls",function(){var e=l()(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(276).then(i.bind(null,1150));case 2:if(r=e.sent,!window.SERVER_SIDE_RENDERING){e.next=5;break}return e.abrupt("return");case 5:s.perVideo&&!s.props.isTrailer&&localStorage.setItem("title",s.props.video.gist.title),r.getAutoplaySupport().then(function(e){return n=e,t||s.fetchVideoSources(s.props.videoId)}).then(function(e){s.setState({videoAssets:e});var t=s.props.autoplay&&n.autoplayAllowed||!1,r=Object(C.get)(window,"settings.features.mute_sound"),a="boolean"===typeof r?r:n.autoplayRequiresMute;if(e){var o=Object(J.a)(Object(C.get)(s.assets,"hls"),s.props,f()(s));if("mp4"===("hls"===s.props.fileType&&o?"hls":"mp4")){var l=Object(J.a)(e.src,s.props,f()(s),t,a);e.src=Object(te.getSourceSrc)(l,s.assets)}else e.src=Object(J.a)(e.src,s.props,f()(s),t,a)}var d={controlBar:s.props.isCheck?{captionsButton:!1,volumePanel:!1,muteToggle:!0,pictureInPictureToggle:!1,chaptersButton:!1,subtitlesButton:!1,remainingTimeDisplay:!1,durationDisplay:!1,timeDivider:!1,currentTimeDisplay:!1,progressControl:{seekBar:!1,keepTooltipsInside:!0},playbackRateMenuButton:!1}:{},controls:!0,autoplay:t,muted:a,preload:!0,poster:s.state.poster,sources:[e],debug:!0};s.props.customControls&&(d.controlBar=s.props.customControls);var c="./skin";s.props.customSkin&&(c=s.props.customSkin),i(1082)("".concat(c,".js")).then(function(t){var i=t.replaceIcons,n=t.addRewindControl,r=t.customizeCaptions,a=t.addResolutionControl,o=t.addEmbedBtn,l=t.addSkipControl,c=t.addVideoTitle,p=t.addSeasonList,u=t.addSkipIntroControl,h=t.addSkipRecapControl,g=t.addPlayNextControl;s.showPinOverlay().then(function(t){var m=[e,function(){},r,a,d,u,h,g],v=[d,function(){},function(){},a,l,c,p,u,h,g];try{if(s.addResolutionControl=a,s.isDrmEnabledVideo&&e.type&&("application/dash+xml"===e.type||"application/x-mpegURL"===e.type))if(Object(q.d)()&&s.state.askPin&&(s.props.showPinOverlay||s.state.showPinOverlay))s.videoRestrictions();else{var y;if(s.props.isCheck)(y=s).initializeDrmPlayer.apply(y,m);else s.initializeDrmPlayer(e,i,n,r,a,o,d,u,h,g);s.videoNode&&Object(Z.configKeyShortcuts)(s.player,s.videoNode)}else if(Object(q.d)()&&s.state.askPin&&(s.props.showPinOverlay||s.state.showPinOverlay))s.videoRestrictions();else{var f;if(s.props.isCheck)e&&(f=s).initializePlayer.apply(f,v);else e&&s.initializePlayer(d,i,n,r,a,o,l,c,p,u,h,g);s.videoNode&&Object(Z.configKeyShortcuts)(s.player,s.videoNode)}}catch(b){console.log(b)}})})}).catch(function(e){e&&e.errorMessage&&e.errorMessage.includes("valid subscription")?s.setState({videoWall:!0}):s.setState({errorMessage:e.errorMessage||e.message})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),P()(f()(s),"videoRestrictions",l()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(q.d)()){e.next=5;break}return e.next=3,s.setState({askPin:!0});case 3:e.next=7;break;case 5:return e.next=7,s.setState({askPin:!1});case 7:case"end":return e.stop()}},e)}))),P()(f()(s),"videoPersonalizationHandler",function(){s.props.isFree&&s.state.user&&D.a.get("isUserSignUp")&&D.a.get("isUserSignUp").match("true")&&window.settings.recommendation&&window.settings.recommendation.isPersonalization&&window.settings.recommendation.recommendCategories&&window.settings.recommendation.recommendCategories.length>0&&(window.settings.recommendation.isSubscribed||(Object(Y.persolizationSetUpProfile)()&&D.a.set("isUserSignUp",!1)&&D.a.set("isThankYouPage",!1),setTimeout(function(){window.player.pause()},200)))}),P()(f()(s),"setCCSettings",function(){document.querySelectorAll(".vjs-subs-caps-button li.vjs-menu-item").forEach(function(e){e.addEventListener("click",function(e){e.currentTarget.classList.contains("vjs-texttrack-settings")||(e.currentTarget.classList.contains("vjs-selected")&&e.currentTarget.classList.contains("vjs-subtitles-menu-item")?(localStorage.setItem("ccDefault","on"),localStorage.setItem("ccDefaultLang",e.currentTarget.querySelector(".vjs-menu-item-text").innerHTML)):localStorage.setItem("ccDefault","off"))})})}),P()(f()(s),"setVolSettings",function(){s.props.isCheck&&document.querySelectorAll(".vjs-control-bar").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()})})}),P()(f()(s),"addPlayerEntitlementLogic",function(e){e.options;var t=e.replaceIcons,i=e.addRewindControl,n=e.customizeCaptions,r=e.addResolutionControl,a=e.addEmbedBtn,o=e.addSkipControl,l=e.addVideoTitle,d=e.addSeasonList,c=e.addSkipIntroControl,p=e.addSkipRecapControl,u=e.addPlayNextControl;t(s.player),o&&o(s.player),l&&l(s.player,s.props.video),d&&d(s.player,s.props.video,s.props.handleClick,s.props.currentSeason),i(s.player);var h=s.props.closedCaptions||Object(C.get)(s.state,"video.contentDetails.closedCaptions"),g=parseInt(D.a.get("hdbm"))||parseInt(localStorage.getItem("hdbm")),m=Object(C.get)(window.settings,"features.free_preview"),v=m&&m.per_video;Object(C.some)(h,{format:"VTT"})&&n(s.player),r(s.player,s.isDrmEnabledVideo?"drm":s.props.fileType,s.assets,s.state.isLiveStream),window.settings.embedPlayer&&window.settings.embedPlayer.showEmbedButton&&a&&a(s.player,s.toggleEmbed),p&&p(s.player,s.props&&s.props.video,s.props&&s.props.isPip),c&&c(s.player,s.props&&s.props.video,s.props&&s.props.isPip),u&&u(s.player,s.props&&s.props.video),s.props.showTimer&&s.appendRemainingContainer(s.player,s.props.showTimer);var y=document.getElementsByClassName("vjs-current-time-display")&&document.getElementsByClassName("vjs-current-time-display").item&&document.getElementsByClassName("vjs-current-time-display").item(0);void 0!==y&&y.setAttribute("translate","no"),!s.props.autoplay||L.a.isMobile()||L.a.isSafari()||s.startVideo(),!s.props.isTrailer&&!v&&s.hardWallEnabled&&s.previewTime&&g>=s.previewTime&&s.props&&(!s.props.user||!s.checkIfVideoIsFree.bind(f()(s))&&!s.props.user.isSubscribed)&&(s.setState({videoWall:!0}),s.player.pause(),s.props.overlay||s.player.dispose()),!s.props.isTrailer&&v&&s.hardWallEnabled&&s.previewTime&&Math.floor(s.player.currentTime())>=s.previewTime&&s.props&&(!s.props.user||!s.checkIfVideoIsFree.bind(f()(s))&&!s.props.user.isSubscribed)&&(s.setState({videoWall:!0}),s.player.pause(),s.props.overlay||s.player.dispose()),s.previewTime||s.checkIfVideoIsFree.bind(f()(s))||!s.state.user||"HOLD"!==s.state.user.subscriptionStatus&&"PAUSED"!==s.state.user.subscriptionStatus||s.player.dispose()}),P()(f()(s),"addBeaconObject",function(e){var t=s.props;e&&(t=e);var i,r=t.video;i=new j.a(n()({player:s.player,videoTitle:Object(C.get)(t,"video.gist.title"),videoId:t.videoId,seriesTitle:Object(C.get)(t,"seriesInfo.title"),seriesId:Object(C.get)(t,"seriesInfo.id")},r&&{contentCategory:Object(C.get)(r.gist,"primaryCategory.title"),isLiveStream:Object(C.get)(r.gist,"isLiveStream")},{fileType:t.fileType,assets:s.assets,siteName:window.settings.internalName,clientId:window.settings.siteId,platform:"WEBSITE",userId:t.user&&t.user.userId,apiUrl:window.settings.beacon.apiBaseUrl,environment:Object(M.a)()})),s.beacon=i}),P()(f()(s),"shouldAdsInitialize",function(){return"undefined"!==typeof window.google&&s.props.videoTag&&!(s.props.user&&s.props.user.isSubscribed)&&(!s.props.hideAds||s.enableAdsForNews)}),P()(f()(s),"onTimeUpdate",function(e,t,i){t=[],i=[];var n=Math.floor(e.player.currentTime());e.props.showTimer&&e.getRemainingTime(e.props.isLive?(e.props.scheduleEndDate-Date.now())/1e3:e.player.remainingTimeDisplay());var r=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement,a=!1;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&r&&r.length>0){var o=window.location!==window.parent.location?document.referrer:document.location.href;o=o.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],r.includes(o)&&(a=!0)}if(!Object(C.includes)(i,n)){i.push(n),e.sendWatchedEventData(n,e.player.duration()),(e.perVideo&&e.allow_recurring_plays&&!e.counterInitiated||e.props.user&&e.props.user.isSubscribed)&&(D.a.set("hdbm",0),localStorage.setItem("hdbm",0));var l=parseInt(D.a.get("hdbm"))||parseInt(localStorage.getItem("hdbm"))||n;a=!!(s.showFreePreview&&s.previewTime&&l<=s.previewTime),"Videos"!==e.previewshowUnit&&e.previewTime&&l<=e.previewTime&&(e.props.user&&!e.props.user.isSubscribed||!e.props.user)&&(n=l,e.perVideo&&e.player&&e.player.currentTime()?setTimeout(function(){e.counterInitiated=!0,D.a.set("hdbm",Math.floor(e.player.currentTime())+1),localStorage.setItem("hdbm",Math.floor(e.player.currentTime())+1)},900):e.perVideo||setTimeout(function(){D.a.set("hdbm",l+1),localStorage.setItem("hdbm",l+1)},900)),!e.props.isTrailer&&!e.perVideo&&!a&&e.hardWallEnabled&&e.previewTime&&l>=e.previewTime&&e.props&&(!e.props.user||!e.checkIfVideoIsFree.bind(e)&&!e.props.user.isSubscribed)&&(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),!e.props.isTrailer&&e.perVideo&&!a&&e.hardWallEnabled&&e.previewTime&&Math.floor(e.player.currentTime())>=e.previewTime&&e.props&&(!e.props.user||!e.checkIfVideoIsFree.bind(e)&&!e.props.user.isSubscribed)&&(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),e.props.isTrailer||(D.a.set("videoId",e.props.videoId),localStorage.setItem("videoId",e.props.videoId),localStorage.setItem("title",e.props.video.gist.title)),"Videos"!==e.previewshowUnit||e.state.isFree||(n=parseInt(D.a.get("len"))),!(("SVOD"===window.settings.serviceType||e.props.pricingOptions&&"SVOD"===e.props.pricingOptions.type)&&l>=e.previewTime)||e.state.isFree||a||e.props.user&&e.props.user.isSubscribed||e.props.purchased||!e.props.pricingOptions||e.props.pricingOptions.purchase||e.props.pricingOptions.rent||(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose()),(e.state.isFree||e.props.pricingOptions&&("FREE"===e.props.pricingOptions.type||"AVOD"===e.props.pricingOptions.type||null===e.props.pricingOptions.type))&&l>=e.previewTime&&!a&&!e.props.isTrailer&&!e.props.user&&e.hardWallEnabled&&(e.setState({videoWall:!0}),e.player.pause(),e.props.overlay||e.player.dispose());var d=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||90,c=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==d&&c&&n>=d&&n%d===0&&e.props.user&&!Object(C.includes)(t,n)&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())){t.push(n);var p=Math.floor(e.player.duration());e.sendWatchedInfo(n,p).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&s.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var u=Math.floor(e.player.duration());!Object(C.includes)(t,n)&&c&&!e.props.isTrailer&&!e.props.isPromo&&isFinite(e.player.duration())&&e.props.user&&parseInt(u)-parseInt(n)<5&&(e.resetHistory||e.sendWatchedInfo(n,u,!0).then(function(e){e&&e.error&&"MAX_STREAMS_ERROR"===e.error&&s.setState({errorMessage:e.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}))}}),P()(f()(s),"playerEnter",function(){var e;e=JSON.parse(localStorage.getItem("program")),s.props.EPGMode&&e&&!s.props.isPip&&s.setState({EPGScreen:!0,epgData:e})}),P()(f()(s),"playerLeave",function(){s.state.EPGScreen&&s.setState({EPGScreen:!1})}),P()(f()(s),"enableRatingDescriptor",function(){!s.state.showRatingDescriptor&&s.state.ratingDisplayDone&&(s.setState({showRatingDescriptor:!0}),setTimeout(function(){s.setState({showRatingDescriptor:!1})},7e3))}),P()(f()(s),"initializeOverlayPlayer",function(){if(s.state.initializePlayer){s.player.reset();var e=s.state.videoAssets,t=e&&e.src;s.isDrmEnabledVideo?s.configureDRMPlayback(e):(s.player.src(t),s.player.load(),s.player.play())}}),P()(f()(s),"configureDRMPlayback",function(e){if(L.a.isSafari()){var t=Object(z.getFairPlayObject)(e,T.default);D.a.set("CloudFront-Key-Pair-Id",e.CloudFrontKeyPairId,{domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Policy",e.CloudFrontPolicy,{domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Signature",e.CloudFrontSignature,{domain:".".concat(Object(R.a)(window.location.hostname))});try{s.player.eme()}catch(c){}s.player.src(t),e.isFromVideoEnded||s.player.play()}else{var i=Object(z.getDRMWidevinePlayreadyObject)(e),n=Object(z.getSecureDRMWidevinePlayreadyObject)(e);if(e.CloudFrontKeyPairId&&e.CloudFrontPolicy&&e.CloudFrontSignature){var r,a,o=e.src;r=document.querySelector("video"),(a=window.dashjs.MediaPlayer().create()).getProtectionController().setRobustnessLevel("SW_SECURE_CRYPTO"),a.extend("RequestModifier",function(){return{modifyRequestHeader:function(e){return e},modifyRequestURL:function(t){return t.includes("?")?"".concat(t,"&Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature):"".concat(t,"?Key-Pair-Id=").concat(e.CloudFrontKeyPairId,"&Policy=").concat(e.CloudFrontPolicy,"&Signature=").concat(e.CloudFrontSignature)}}}),a.initialize(),a.setProtectionData(n),a.updateSettings({streaming:{scheduleWhilePaused:!1,fastSwitchEnabled:!0}}),a.attachView(r),a.setAutoPlay(!0),a.attachSource(o);var l=document.querySelector(".vjs-big-play-button"),d=document.querySelector(".vjs-play-control");l&&l.addEventListener("click",function(e){a.play()}),d&&d.addEventListener("click",function(e){d.classList.contains("vjs-paused")?a.play():d.classList.contains("vjs-playing")&&a.pause()})}else s.player.src(i),e.isFromVideoEnded?s.player.pause():s.player.play()}}),s.state={video:null,startedAtSetTime:!1,ratingDisplayDone:!s.isRatingEnabled(),showRatingDiscretion:!1,videoWall:!1,videoEnded:!1,showEmbed:!1,askPin:!0,showPinOverlay:e.showPinOverlay||!1,embedPlayable:!1,showRatingDescriptor:!1},s.bufferedPercent=0,s.playStarted=!1,s.lastBufferedTime=0,s.totalBufferTime=0,s.bufferCount=0,s.errorMessage=null,s.streamedData=[],s.triggeredPause=!1,s.isFromErrorEvent=!1,s.ratingMap=[],s.initialData={},s.sourceURL=null,s.resetHistory=!1,s.counterInitiated=null,s.toggleRatingDiscretion=s.toggleRatingDiscretion.bind(f()(s)),s.toggleEmbed=s.toggleEmbed.bind(f()(s)),s.dimensions=window.innerWidth<=600?{height:203,width:360}:{height:480,width:854},s.handlePreviewSettings(),e.video&&e.video.tags&&(s.tags=e.video.tags.map(function(e){return e&&e.title}).join(",")),e.video&&e.video.categories&&(s.categories=e.video.categories.map(function(e){return e&&e.title}).join(",")),s.hardWallEnabled=Object(C.get)(window.settings,"forceLogin"),s.enableAdsForNews=!0===s.props.enableAdsForNews,s}return w()(t,e),u()(t,[{key:"handlePreviewSettings",value:function(){var e=Object(C.get)(window.settings,"features.free_preview");if(e){var t=e.isFreePreview;this.showFreePreview=t,this.previewshowUnit=e.length.unit;var i="Minutes"===this.previewshowUnit?60*parseFloat(e.length.multiplier):parseFloat(e.length.multiplier);this.previewTime=t&&i,this.perVideo=t&&e.per_video,this.allow_recurring_plays=t&&e.allow_recurring_plays}}},{key:"componentWillReceiveProps",value:function(){var e=l()(a.a.mark(function e(t,s){var n,r,o,l,d,c,p,u,h,g,m,v,y,f=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.video&&(n=t.video,r=n.currentEpisode,o=n.currentSeason,l=n.showData,d=(l=void 0===l?{}:l).seasons,c=d&&d[o].episodes[r]||{},this.hasAccess=U(t,c)),this.player&&this.player.textTracks()&&this.player.textTracks().tracks_&&this.player.textTracks().tracks_.length>0&&!this.enableAdsForNews&&(this.currentModeValue=this.player.textTracks().tracks_.find(function(e,t){return"on"===localStorage.getItem("ccDefault")&&localStorage.getItem("ccDefaultLang")===e.label?e:null})),null===this.props.user&&this.hasAccess&&this.setState({videoWall:!1}),!1!==t.isPip&&!0!==t.isPip||Promise.all([i.e(17),i.e(275)]).then(i.bind(null,1149)).then(function(e){var i=e.updateSkipRecapControl,s=e.updateSkipIntroControl;i&&i(f.player,t.video,t.isPip),s&&s(f.player,t.video,t.isPip)}),p=this.props.video&&(this.props.video.id||this.props.video.gist.id),u=t.video&&(t.video.id||t.video.gist.id),h=t&&t.video&&t.video.gist&&t.video.gist.scheduleStartDate&&t.video.gist.scheduleStartDate-Date.now()>0,!t||!((t.isEpisode||t.isPlaylistItem||t.enableAdsForNews)&&p!==u||!h&&this.errorMessage)){e.next=25;break}if(g=!1,t.video.gist.free||this.previewTime||this.hasAccess||(g=!0,this.player&&this.player.pause()),this.setState({video:t.video,videoEnded:!1,videoWall:g}),!g){e.next=13;break}return e.abrupt("return");case 13:return this.props.video&&t.video&&this.props.video!==t.video&&(m="./newsSkin"===t.customSkin?"./newsSkin":"./skin")&&i(1082)("".concat(m,".js")).then(function(e){var i=e.updateSkipRecapControl,s=e.updateSkipIntroControl,n=e.updatePlayNextControl;i&&i(f.player,t.video,t.isPip),s&&s(f.player,t.video,t.isPip),n&&n(f.player,t.video)}),e.next=16,this.fetchVideoSources(t.video.gist.id,t.showPinOverlay,t);case 16:v=e.sent,y=v&&v.src,this.player||h||this.initializePlayerControls(v),this.playStarted=!1,this.streamedData=[],this.interval&&clearInterval(this.interval),this.player&&this.player.reset(),this.isDrmEnabledVideo?this.configureDRMPlayback(v):this.enableAdsForNews?(this.player&&this.player.src(y),this.player&&this.player.load(),this.props.shouldPlayAds&&this.player&&this.player.one("loadeddata",function(){setTimeout(function(){f.player.ima&&f.player.ima.setContentWithAdTag&&f.player.ima.requestAds&&(f.player.ima.setContentWithAdTag(y,null,!0),f.player.ima.requestAds())},100)})):(t.startTime&&"./newsSkin"===t.customSkin&&this.player.currentTime(t.startTime),this.player&&this.player.src(y),this.player&&this.player.load(),this.player&&this.player.play()),"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateVideoTitle;i&&i(f.player,Object(C.get)(t,"video.gist"))});case 25:this.props.video&&t.video&&!this.props.video.seasons&&t.video.seasons&&"./newsSkin"===t.customSkin&&Promise.all([i.e(0),i.e(17),i.e(35)]).then(i.bind(null,1108)).then(function(e){var i=e.updateSeasonList;i&&i(f.player,t.video,t.handleClick,t.currentSeason)});case 26:case"end":return e.stop()}},e,this)}));return function(t,i){return e.apply(this,arguments)}}()},{key:"getSignature",value:function(){return"mp4"===this.props.fileType?Promise.resolve():Object(A.f)(this.props.videoId)}},{key:"fetchVideoSources",value:function(e,t,i){var s=this,n=this;if(t&&Object(q.d)()&&this.state.askPin)return this.setState({initializePlayer:!0,currentVideoId:e}),Promise.resolve({src:"",type:"video/mp4"});if(this.props&&this.props.src)return Promise.resolve({src:this.props.src,type:"video/mp4"});if(!e)return Promise.reject("No Video Src or Video ID Not found");var r=void 0!==this.props.embed&&this.props.embed;this.checkControlPlayer();var a=function(e){i&&(n.resetHistory=!1,n.initialData={},s.addBeaconObject(i)),s.errorMessage=null;var t=e.data.video.streamingInfo;s.assets=t.videoAssets;var r=66.66*window.innerWidth/100,a="?impolicy=resize&w=".concat(r,"&h=").concat(.5625*r);if(s.setState({isLiveStream:t.isLiveStream,isFree:s.props.isFree||Object(C.get)(e,"data.video.gist.free"),video:Object(C.get)(e,"data.video"),gist:Object(C.get)(e,"data.video.gist"),poster:"".concat(e.data.video.gist.videoImageUrl).concat(a)}),"Videos"===s.previewshowUnit&&!s.state.isFree){var o=parseInt(D.a.get("len"),10);D.a.set("len",(o||0)+1)}var l=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.hlsDetail,d="",c="",p="";if(l&&(d=l.keypairId||"",c=l.policy||"",p=l.signature||"",D.a.set("CloudFront-Key-Pair-Id",d,{expires:1,domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Policy",c,{expires:1,domain:".".concat(Object(R.a)(window.location.hostname))}),D.a.set("CloudFront-Signature",p,{expires:1,domain:".".concat(Object(R.a)(window.location.hostname))})),s.isDrmEnabledVideo=!1,s.isDrmEnabledVideo=Object(C.get)(e,"data.video.drmEnabled"),s.isDrmEnabledVideo){var u=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.fairPlay,h="",g="",m="";u&&(h=u.keypairId||"",g=u.policy||"",m=u.signature||"");var v=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.playReady;v&&(v.keypairId||"",v.policy||"",v.signature||"");var y=e.data&&e.data.video&&e.data.video.streamingInfo&&e.data.video.streamingInfo.videoAssets&&e.data.video.streamingInfo.videoAssets.widevine,f="",b="",w="";return y&&(f=y.keypairId||"",b=y.policy||"",w=y.signature||""),!L.a.isSafari()&&s.assets.widevine&&s.assets.widevine.url?{src:s.assets.widevine.url,type:"application/dash+xml",licenseUrl:s.assets.widevine.licenseUrl,CloudFrontKeyPairId:f,CloudFrontPolicy:b,CloudFrontSignature:w,licenseToken:s.assets.widevine.licenseToken,licensePlayreadyToken:s.assets.playReady&&s.assets.playReady.licenseToken,playreadyUrl:s.assets.playReady&&s.assets.playReady.url,playReadyLicenseUrl:s.assets.playReady&&s.assets.playReady.licenseUrl}:{src:s.assets.fairPlay.url,type:"application/x-mpegURL",licenseUrl:s.assets.fairPlay.licenseUrl,CloudFrontKeyPairId:h,CloudFrontPolicy:g,CloudFrontSignature:m,licenseToken:s.assets.fairPlay.licenseToken,completeskd:s.assets.fairPlay.completeskd,certificateUrl:s.assets.fairPlay.certificateUrl}}var E=Object(J.a)(Object(C.get)(s.assets,"hls"),s.props,s),P=s.assets.mpeg&&s.assets.mpeg.length,I=Object(J.a)(Object(C.get)(s.assets,"mpeg[".concat(P-1,"].url")),s.props,s);return I&&!E&&(s.assets.mpeg[P-1].url=I),"hls"===s.props.fileType&&E?"snagfilms"!==window.settings.internalName&&E.includes("viewlift.com")?{src:E,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:d,CloudFrontPolicy:c,CloudFrontSignature:p}:E.includes("hoichoi.tv")||E.includes("supercrosslive.tv")?{src:E,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0,CloudFrontKeyPairId:d,CloudFrontPolicy:c,CloudFrontSignature:p}:"kronon"===window.settings.internalName?{src:E,type:"application/x-mpegURL",handleManifestRedirects:!0,CloudFrontKeyPairId:d,CloudFrontPolicy:c,CloudFrontSignature:p}:{src:E,type:"application/x-mpegURL",CloudFrontKeyPairId:d,CloudFrontPolicy:c,CloudFrontSignature:p}:{src:I,type:"video/mp4"}};if(this.props.isCheck){var o=n.props.response;return a(o)}return Object(A.e)(e,r,function(e){return a(e)}).catch(function(e){if(e&&e.errorMessage&&s.props.embed){if(e.errorMessage.includes("Embed not allowed"))return void s.setState({embedWall:!0});if(e.errorMessage.includes("valid subscription"))return void s.setState({embedWall:!0,embedPlayable:!0})}if(e&&e.errorMessage&&e.errorMessage.includes("valid subscription"))s.setState({videoWall:!0});else{if(e&&e.errorCode&&"SUBSCRIPTION_HOLD"===e.errorCode){var t=s.state.user&&s.state.subscription&&s.state.subscription.subscriptionInfo&&s.state.subscription.subscriptionInfo.paymentHandler,i=Object(X.a)(window.settings,"genericMessages",e.errorCode),n=Object(X.a)(window.settings,"genericMessages","holdSubscriptionStatusMessagePartTwo");e={errorMessage:i&&n&&t&&i+" "+t+" "+n||"Your subscription is on Hold."}}else if(e&&e.errorCode&&"SUBSCRIPTION_PAUSED"===e.errorCode){var r=s.state.user&&s.state.subscription&&s.state.subscription.subscriptionInfo&&s.state.subscription.subscriptionInfo.paymentHandler,a=Object(X.a)(window.settings,"genericMessages",e.errorCode),o=Object(X.a)(window.settings,"genericMessages","pauseSubscriptionStatusMessagePartTwo");e={errorMessage:a&&o&&r&&a+" "+r+". "+o+" "+r+"."||"Your subscription is Paused."}}if(e&&e.errorCode&&"MAX_DEVICE_ERROR"===e.errorCode){D.a.set("MAX_DEVICE_ERROR",!0),setTimeout(function(){window.location.href="/user"},4e3);var l=Object(X.a)(window.settings,"genericMessages","userDevicesExceedError")||"User has exceeded the device limit. Go to device management and remove the devices.";e={errorMessage:l,message:l}}e&&e.errorCode&&"VIDEO_NOT_EXISTS"===e.errorCode&&(e={errorMessage:Object(X.a)(window.settings,"genericMessages","strContentNotAvailable")||"This content is not currently available."}),s.setState({errorMessage:e&&(e.errorMessage||e.message)}),s.errorMessage=e&&e.errorMessage||s.state&&s.state.errorMessage}})}},{key:"checkControlPlayer",value:function(){var e=document.querySelector(".VideoJS"),t=e.closest(".carousel-item");this.props.isCheck&&e?this.props.isTray||(e.style.position="unset"):(e.style.position="relative",t&&(t.style.paddingBottom="0px"))}},{key:"componentDidMount",value:function(){i(1145),i(1146),i(1147),i(1148);var e=D.a.get("hdbm")&&parseInt(D.a.get("hdbm"))||localStorage.getItem("hdbm")&&parseInt(localStorage.getItem("hdbm")),t=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement,s=!1;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&t&&t.length>0){var n=window.location!==window.parent.location?document.referrer:document.location.href;n=n.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],t.includes(n)&&(s=!!(this.showFreePreview&&this.previewTime&&e<=this.previewTime))}if(!this.props.isTrailer&&this.props.video){var r=this.props.video,a=r.currentEpisode,o=r.currentSeason,l=r.purchasedFlag,d=r.showData,c=(d=void 0===d?{}:d).seasons,p=c&&c[o].episodes[a]||{};if(this.hasAccess=U(this.props,p),!this.previewTime&&!this.props.isFree&&this.state.user&&this.state.user.subscriptionStatus&&"PAUSED"===this.state.user.subscriptionStatus)return void this.setState({videoWall:!0});if(!this.previewTime&&!this.props.isFree&&this.state.user&&this.state.user.subscriptionStatus&&"HOLD"===this.state.user.subscriptionStatus)return void this.setState({videoWall:!0});if(!this.previewTime&&!this.props.isFree&&!s&&!this.hasAccess&&!l&&!this.props.purchased)return void this.setState({videoWall:!0});if(!this.previewTime&&this.hardWallEnabled&&!s&&!this.state.user&&(this.props.isFree||this.hasAccess))return void this.setState({videoWall:!0});if(("SVOD"===window.settings.serviceType||this.props.pricingOptions&&"SVOD"===this.props.pricingOptions.type)&&e>=this.previewTime&&!s&&!this.props.isFree&&(!this.props.user||!this.props.user.isSubscribed)&&!this.perVideo&&!this.props.purchased&&this.props.pricingOptions&&!this.props.pricingOptions.purchase&&!this.props.pricingOptions.rent)return void this.setState({videoWall:!0});if((this.props.isFree||this.props.pricingOptions&&("FREE"===this.props.pricingOptions.type||"AVOD"===this.props.pricingOptions.type||null===this.props.pricingOptions.type))&&e>=this.previewTime&&!s&&!this.perVideo&&!this.props.user&&this.hardWallEnabled)return void this.setState({videoWall:!0})}this.initializePlayerControls()}},{key:"initializeDrmPlayer",value:function(e,t,i,s,n,r,a,o,l,d){var c=this,p={autoplay:a.autoplay,controls:a.controls,debug:a.debug,muted:a.muted,poster:a.poster,preload:a.preload};this.player=Object(T.default)(this.videoNode,p,function(){c.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:s,addResolutionControl:n,addEmbedBtn:r,addSkipIntroControl:o,addSkipRecapControl:l,addPlayNextControl:d}),c.configureDRMPlayback(e)}),window.player=this.player,this.addBeaconObject(),this.listenToPlayerEvents(),this.shouldAdsInitialize()&&this.initializeAds()}},{key:"updatePin",value:function(){this.setState({askPin:!1}),this.initializePlayerControls()}},{key:"initializePlayer",value:function(e,t,i,s,n,r,a,o,l,d,c,p){var u=this;if(e&&e.sources[0]&&e.sources[0].CloudFrontKeyPairId&&e.sources[0].CloudFrontPolicy&&e.sources[0].CloudFrontSignature&&"video/mp4"!==e.sources[0].type){var h=e.sources[0].CloudFrontKeyPairId,g=e.sources[0].CloudFrontPolicy,m=e.sources[0].CloudFrontSignature;L.a.isSafari()&&(T.default.options.hls.overrideNative=!0,T.default.options.html5.nativeAudioTracks=!1,T.default.options.html5.nativeVideoTracks=!1),T.default.options.html5.nativeTextTracks=!1,T.default.Vhs.xhr.beforeRequest=function(e){e.uri.includes("?")?e.uri="".concat(e.uri,"&Key-Pair-Id=").concat(h,"&Policy=").concat(g,"&Signature=").concat(m):e.uri="".concat(e.uri,"?Key-Pair-Id=").concat(h,"&Policy=").concat(g,"&Signature=").concat(m)}}this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&(window.registerIVSTech(T.default),e.techOrder=["AmazonIVS"]),this.player=Object(T.default)(this.videoNode,e,function(){u.addPlayerEntitlementLogic({options:e,replaceIcons:t,addRewindControl:i,customizeCaptions:s,addResolutionControl:n,addEmbedBtn:r,addSkipControl:a,addVideoTitle:o,addSeasonList:l,addSkipIntroControl:d,addSkipRecapControl:c,addPlayNextControl:p})}),window.player=this.player,this.shouldAdsInitialize()&&this.initializeAds(),this.state.video&&this.state.video.liveDetails&&this.state.video.liveDetails.isLowLatency&&e.sources&&e.sources[0]&&window.player.src(e.sources[0].src),this.addBeaconObject(),this.props.getVideoRef&&this.props.getVideoRef(this.player),this.listenToPlayerEvents();var v=document.getElementsByClassName("next-episode")[0];v&&v.addEventListener("click",function(){u.shouldAdsInitialize()&&u.initializeAds()})}},{key:"appendRemainingContainer",value:function(e,t){e.el_.append(t)}},{key:"getRemainingTime",value:function(e){var t=Math.floor(e/60),i=Math.floor(e-60*t),s=document.querySelector(".remaining-time-wrapper");s&&(s.style.visibility="visible");var n=document.querySelector(".time-elapsed");n&&(n.innerHTML="".concat(t,":").concat(i<10?"0"+i:i))}},{key:"toggleEmbed",value:function(){this.setState({showEmbed:!this.state.showEmbed})}},{key:"checkIfVideoIsFree",value:function(){var e=window.settings.embedPlayer&&window.settings.embedPlayer.allowedDomainsForByPassEntitlement,t=!1;if(window.settings.embedPlayer&&window.settings.embedPlayer.embedPlayer&&e&&e.length>0){var i=window.location!==window.parent.location?document.referrer:document.location.href;i=i.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],e.includes(i)&&!this.showFreePreview&&!this.previewTime&&this.props.embed&&(t=!0)}if(this.props.embed)return t;var s=this.props.pricingOptions?this.props.pricingOptions.type:null;return this.state.isFree||("FREE"===s||"AVOD"===s||null===s)}},{key:"listenToPlayerEvents",value:function(){var e=this,t=this;this.player.one(L.a.isMobile()?"touchend":"click",function(t){e.startVideo()}),this.player.one("loadeddata",function(){var i=Object(C.get)(e.state.video,"gist.runtime");isFinite(e.player.duration())||isFinite(i)||document.getElementsByClassName("VideoJS")[0].classList.add("live"),e.isFromErrorEvent?e.isFromErrorEvent=!1:e.props.startTime&&(!e.showFreePreview||t.props.user&&t.props.user.isSubscribed)&&e.player.currentTime(e.props.startTime)}),this.player.on("firstplay",function(i){if(!e.playStarted&&e.state.video){var s=e.state.video,n=s.gist,r=void 0===n?{}:n,a=s.creditBlocks,o=void 0===a?[]:a,l=s.categories,d=void 0===l?[]:l,c=s.parentalRating,p=void 0===c?"NA":c;d.push(r.primaryCategory||{});var u=window.location.pathname.match(/movies|kids|originals|shows/g)||["videos"];e.playData={contentTypeDetail:u[0],freeOrPaid:r.isFree?"Free":r.free?"Free":"Paid",rating:p};var h=Object(C.filter)(e.props.closedCaptions||Object(C.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"}),g=Math.floor(t.player.currentTime()),m=e.beacon&&e.beacon.getBitrate()||null;if(D.a.set("getBitrate",m),e.videoEventData={contentId:r.id,contentTitle:r.title,contentType:r.isTrailer?"Trailer":"EPISODIC"===r.mediaType?"Episode":"Video",contentDuration:r.runtime,playbackType:"Streamed",platform:"Web",bufferCount:e.bufferCount,bufferTime:Object(C.round)(e.totalBufferTime),bitRate:m,watchedTime:Object(C.round)(g-e.lastBufferedTime),subtitles:h.length?"Y":"N",networkType:window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi"},"EPISODIC"===r.mediaType&&e.props.video&&e.props.video.showData&&(D.a.set("episodeNumber",e.props.video.currentEpisode+1),D.a.set("seasonNumber",e.props.video.currentSeason+1),o=e.props.video.showData.creditBlocks,(d=e.props.video.showData.categories).push(e.props.video.showData.gist.primaryCategory||{}),e.videoEventData=Object(C.extend)({},e.videoEventData,{episodeNumber:e.props.video.currentEpisode+1,seasonNumber:e.props.video.currentSeason+1,showName:e.props.video.showData.gist.title})),e.videoEventData.playSource=Object(x.c)()+(e.props.video&&e.props.video.showData?"_Show Detail":"_Video Detail"),Object(C.each)(o,function(t){"director"===t.title.trim().toLowerCase()&&(e.videoEventData.directorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):""),"starring"===t.title.trim().toLowerCase()&&(e.videoEventData.actorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):"")}),e.videoEventData.contentGenre=d.map(function(e){return e.title}).join(","),Object(x.g)("Play Started",Object(C.extend)({},e.videoEventData,e.playData)),e.playStarted=!0,!e.shouldAdsInitialize()){var v=r&&r.metadata;Object(ee.checkRatingDescriptors)(v)&&e.enableRatingDescriptor()}}});var i=[],s=[];this.player.on("timeupdate",function(n){e.onTimeUpdate(t,i,s)}),this.player.on("pause",function(){t.triggeredPause=!0}),this.player.on("play",function(){if(!0===t.triggeredPause){var e=void 0!==t.props.embed&&t.props.embed;Object(A.e)(t.props.videoId,e,function(e){}).catch(function(e){t.setState({errorMessage:e&&(e.errorMessage||e.message)}),t.errorMessage=e&&e.errorMessage||t.state&&t.state.errorMessage})}t.triggeredPause=!1}),this.player.on("waiting",function(i){e.bufferCount+=1;var s=e.player.currentTime(),n=[],r=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.interval&&parseInt(window.settings.features.watched_history.interval)||0,a=window.settings.features&&window.settings.features.watched_history&&window.settings.features.watched_history.enable||!1;if(0!==r&&a&&s>=r&&s%r===0&&t.props.user&&!Object(C.includes)(n,s)&&!e.props.isTrailer&&isFinite(e.player.duration())){n.push(s);var o=Math.floor(e.player.duration());e.sendWatchedInfo(s,o).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)})}var l=Math.floor(e.player.duration());!Object(C.includes)(n,s)&&a&&t.props.user&&!e.props.isTrailer&&!t.props.isPromo&&isFinite(e.player.duration())&&parseInt(l)-parseInt(s)<5&&(t.resetHistory||e.sendWatchedInfo(s,l,!0).then(function(t){t&&t.error&&"MAX_STREAMS_ERROR"===t.error&&e.setState({errorMessage:t.errorMessage||"User has exceeded the concurrent stream limit"})}).catch(function(e){console.log(e)}));var d=setInterval(function(){try{e.player&&e.player.currentTime()<=s+.1&&!e.player.paused()?e.totalBufferTime=e.totalBufferTime+.1:clearInterval(d)}catch(t){clearInterval(d)}},100)}),this.player.on("ended",function(t){if(window.settings.features.auto_play){e.props.isPlaylistItem&&e.setState({videoEnded:!0}),e.props.isEpisode&&e.props.video.nextEpisode&&e.setState({videoEnded:!0});var i=Object(C.get)(e.props,"video.contentDetails.relatedVideoIds");if(window.settings&&window.settings.recommendation&&window.settings.recommendation.isRecommendation&&window.settings.recommendation.isRecommendationAutoPlay&&D.a.get("isFromRecommendationTray")&&"true"==D.a.get("isFromRecommendationTray")&&localStorage.getItem("recommendedVideoIds")&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records&&JSON.parse(localStorage.getItem("recommendedVideoIds")).records.length>0){if(!(i=JSON.parse(localStorage.getItem("recommendedVideoIds")).records.filter(function(e,t){if(e.gist.mediaType&&"series"!==e.gist.mediaType.toLowerCase()||e.gist.contentType&&"series"!==e.gist.contentType.toLowerCase())return e.gist&&null!=e.gist.id}).map(function(e,t){return e.gist.id}))||0===i.length)return;var s=Object(C.get)(e.props,"video.gist.id"),n=0;if(void 0===i.find(function(e,t){return n=t,e===s}))return;if(n>=i.length)return;e.props.isCheck||Object(A.d)(i[n+1],function(e){window.location.href=e.data.video.gist.permalink})}else if(i&&0!==i.length){if(!e.props.isEpisode&&!e.props.isPlaylistItem&&!e.props.isNewsTrailer){var r=null!==window.sessionStorage.getItem("rvid")?parseInt(window.sessionStorage.getItem("rvid"),10)+1:0;window.sessionStorage.setItem("rvid",r),e.props.isCheck||Object(A.d)(i[r],function(e){window.location.href=e.data.video.gist.permalink})}}else e.isDrmEnabledVideo&&e.fetchVideoSources(e.props.videoId).then(function(t){t.isFromVideoEnded=!0,e.configureDRMPlayback(t)})}}),this.player.on("error",function(t){var i={};e.videoEventData&&Object(C.assignIn)(i,e.videoEventData),i.errorMessage=e.player.error().message,Object(x.g)("Media Error",i);var s=Math.floor(e.player.currentTime());5===e.player.error().code&&e.isDrmEnabledVideo&&(L.a.isSafari()?(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.videoId).then(function(t){t.certificateUrl="https://v-".concat(window.settings.internalName,".viewlift.com/fairplay.cer"),e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(s),e.player.play()})):(e.isFromErrorEvent=!0,e.fetchVideoSources(e.props.videoId).then(function(t){e.configureDRMPlayback(t),e.player.load(),e.player.currentTime(s),e.player.play()}))),(3===e.player.error().code||-3===e.player.error().code)&&e.props.video&&e.props.video.gist.isLiveStream&&e.fetchVideoSources(e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t&&t.src),e.player.load()}),2===e.player.error().code&&e.fetchVideoSources(e.props.video.gist.id).then(function(t){e.player.reset(),e.player.src(t&&t.src),e.player.load(),e.player.play()})}),this.player.on("ready",function(t){var i=Object(C.filter)(e.props.closedCaptions||Object(C.get)(e.state,"video.contentDetails.closedCaptions"),{format:"VTT"});e.updateCaptions(i,e.currentModeValue),e.videoPersonalizationHandler(),e.setVolSettings()}),this.player.on("ended",function(t){e.props.videoEndedHandler&&e.props.videoEndedHandler()})}},{key:"refreshPlayer",value:function(){this.player.currentTime()===this.bufferedPercent?(this.bufferedPercent++,this.player.currentTime(this.bufferedPercent)):clearInterval(this.refresh)}},{key:"sendWatchedInfo",value:function(){var e=l()(a.a.mark(function e(t,i,s){var n,r,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.resetHistory=s,n=this.props.video&&this.props.video.gist&&this.props.video.gist.originalObjectId||this.props.videoId,this.initialData.videoId&&this.initialData.videoId!==this.props.videoId||this.initialData.watchedTime===t){e.next=10;break}return this.props.overlay&&(r=localStorage.getItem("vrtm")||"{}")&&((o=JSON.parse(r))[n]=t,localStorage.setItem("vrtm",JSON.stringify(o))),this.initialData.videoId=this.props.videoId,this.initialData.watchedTime=t,e.next=9,Object(k.p)({videoId:n,watchedTime:t,watchedPercentage:Math.floor(t/i*100),siteOwner:window.settings.internalName,userId:this.props.user&&this.props.user.userId}).then(function(e){return e}).catch(function(e){return console.log(e),e});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e,this)}));return function(t,i,s){return e.apply(this,arguments)}}()},{key:"sendWatchedEventData",value:function(e,t){if(this.videoEventData){var i=!1,s=Math.floor(e/t*100),n=Object(C.extend)({},this.videoEventData,this.playData);if(e>=120&&s<25&&-1===this.streamedData.indexOf("2 mins")?(this.streamedData.push("2 mins"),i=!0):s>=25&&s<50&&-1===this.streamedData.indexOf(25)?(this.streamedData.push(25),i=!0):s>=50&&s<75&&-1===this.streamedData.indexOf(50)?(this.streamedData.push(50),i=!0):s>=75&&s<80&&-1===this.streamedData.indexOf(75)?(this.streamedData.push(75),i=!0):s>=80&&-1===this.streamedData.indexOf(80)&&(this.streamedData.push(80),i=!0),i){var r="";this.props.video&&Object(C.get)(this.props.video,"showData.gist.title")&&(r=this.props.video.showData.gist.title);var a=Object(C.filter)(this.props.closedCaptions||Object(C.get)(this.state,"video.contentDetails.closedCaptions"),{format:"VTT"});n.subtitles=a.length?"Y":"N",n.stream=this.streamedData[this.streamedData.length-1],n.bufferTime=Object(C.round)(this.totalBufferTime),n.bufferCount=this.bufferCount,n.watchedTime=Object(C.round)(e-this.lastBufferedTime),n.bitRate=this.beacon.getBitrate(),n.seasonNumber=this.props.video&&this.props.video.currentSeason||"",n.episodeNumber=this.props.video&&this.props.video.currentEpisode||"",n.showName=r,n.platform="Web",n.networkType=window.navigator.connection?window.navigator.connection.type?window.navigator.connection.type:window.navigator.connection.effectiveType:"wifi",Object(x.g)("Watched",n),this.lastBufferedTime=e,this.totalBufferTime=0,this.bufferCount=0}}}},{key:"startVideo",value:function(){if(void 0!==this.props.videoTag&&(!this.props.hideAds||this.enableAdsForNews)&&(!this.props.user||!this.props.user.isSubscribed))return this.player.ima.initializeAdDisplayContainer&&this.player.ima.initializeAdDisplayContainer(),void this.listenToAdEvents();this.toggleRatingDiscretion()}},{key:"initializeAds",value:function(){var e=this,t="";this.props.videoTag.includes("spotx")?t="spotx":this.props.videoTag.includes("google")&&(t="google");var i=this.props.videoTag;this.adUrl=null;var s=Object(J.a)(i,this.props,this,null,null,i,!0);if("spotx"===t){var n=new URL(s),r=n.search,a=new URLSearchParams(r);a.set("content_page_url",window.location.href),a.set("player_width",this.player.el_.clientWidth),a.set("player_height",this.player.el_.clientHeight),a.set("user[consent]",!0),a.set("regs[gdpr]",!0),a.set("cb",(new Date).getTime().toString()),n.search=a.toString();var o=n.toString();this.adUrl=o}else{var l="",d="&vid=".concat(this.props.videoId)+"&url=".concat(window.location.href,"&correlator=").concat((new Date).getTime())+"&cust_params=sd%3D60000%26site%3D".concat(window.location.origin,"%26autostart%3D")+"%26mute%3D%26user_agent%3D%26keyword%3D%26category%3D".concat(this.props.category)+"%26vid%3D".concat(this.props.videoId,"%26categories%3D").concat(this.categories,"%26tags%3D").concat(this.tags);if(s.indexOf("cust_params=")>=0){var c=s.split("cust_params="),p=c[1].indexOf("&"),u=c[1].slice(0,p+1);s=c[0]+c[1].replace(u,""),l=c[1].split("&")[0],this.adUrl="".concat(s).concat(d,"%26").concat(l)}else this.adUrl="".concat(s).concat(d)}"function"===typeof this.player.ima?this.player.ima({id:"vjs_video_3",adTagUrl:this.adUrl,adLabel:"Your video will resume after this sponsor message"}):setTimeout(function(){e.player.ima.setContentWithAdTag(null,e.adUrl,!0),e.player.ima.requestAds()},1e3)}},{key:"listenToAdEvents",value:function(){var e=this;this.player.on("adsready",function(){window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.COMPLETE,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()}),window.player.ima.getAdsManager().addEventListener(window.google.ima.AdEvent.Type.AD_ERROR,function(){e.toggleRatingDiscretion(),e.enableRatingDescriptor()})})}},{key:"toggleRatingDiscretion",value:function(){return this.isRatingEnabled()&&!this.state.ratingDisplayDone?this.showRatingDiscretion():this.hideRatingDiscretion()}},{key:"componentWillUnmount",value:function(){try{this.player&&this.player.dispose()}catch(e){}}},{key:"componentDidUpdate",value:function(e,t){if(!e.modalOpen&&this.props.modalOpen){if(!this.player||!this.player.player_)return;this.player.pause(),"undefined"!==typeof window.google&&this.player&&this.player.ima&&Object(C.isFunction)(this.player.ima.pause)&&this.player.ima.pause()}else e.modalOpen&&!this.props.modalOpen&&"undefined"!==typeof window.google&&this.player&&Object(C.isFunction)(this.player.ima.resume)&&this.player.ima.resume();this.player&&!this.state.startedAtSetTime&&this.props.startTime&&e.startTime!==this.props.startTime&&(this.player.currentTime(this.props.startTime),this.setState({startedAtSetTime:!0})),!t.showEmbed&&this.state.showEmbed&&this.player.pause()}},{key:"isRatingEnabled",value:function(){return Object(C.get)(window.settings,"user_content_rating",!1)&&!this.props.isTrailer&&this.parentalRating&&"NR"!==this.parentalRating}},{key:"hideRatingDiscretion",value:function(){this.player.play(),this.setState({showRatingDiscretion:!1,ratingDisplayDone:!0})}},{key:"showRatingDiscretion",value:function(){this.player.pause(),this.setState({showRatingDiscretion:!0})}},{key:"updateCaptions",value:function(e,t){var i=this,s="on"===localStorage.getItem("ccDefault"),n=localStorage.getItem("ccDefaultLang");if(this.player&&e&&(Object(C.map)(this.player.remoteTextTrackEls(),function(e){i.player.removeRemoteTextTrack(e)}),Object(C.map)(e,function(e){i.player.addRemoteTextTrack({src:e.url,manualCleanup:!0,srcLang:e.language,label:e.language},!0)}),(t||s)&&this.player.textTracks()&&this.player.textTracks().tracks_.length>0)){var r=this.player.textTracks().tracks_.find(function(e){return s&&e.label===n?e:null});r&&(r.mode="showing")}this.setCCSettings()}},{key:"render",value:function(){var e=this,t=Boolean(this.props&&this.props.video&&this.props.video.gist&&this.props.video.gist.clevertapPopupTime),i=Object(C.get)(this.props&&this.props.video,"gist.metadata")||"";return S.a.createElement("div",{onMouseEnter:this.playerEnter,onMouseLeave:this.playerLeave},t&&void 0!==this.player&&S.a.createElement($.default,{player:this.player,video:this.props&&this.props.video,userId:this.props&&this.props.user&&this.props.user.userId}),this.state.EPGScreen&&S.a.createElement(Q.default,{item:this.state.epgData}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&!this.props.isPlaylistItem&&S.a.createElement(F.default,{backgroundUrl:this.props.video.nextEpisode.videoImageUrl,nextVideoTitle:this.props.video.nextEpisode.title,timer:3,action:this.props.video.playNextEpisode}),this.state.videoEnded&&!this.props.disableNextEpisodeTimer&&this.props.isPlaylistItem&&this.props.nextVideoDataAction.nextVideoData.gist&&S.a.createElement(F.default,{backgroundUrl:this.props.nextVideoDataAction.nextVideoData.gist.videoImageUrl,nextVideoTitle:this.props.nextVideoDataAction.nextVideoData.gist.title,timer:3,isPlaylistItem:this.props.isPlaylistItem,action:this.props.nextVideoDataAction.playNextAction}),this.state.videoWall&&!this.props.hidePipLogin&&S.a.createElement(V.default,{isEpisode:this.props.isEpisode,content:this.props.video,videoGist:this.props.video&&this.props.video.gist}),this.state.embedWall&&S.a.createElement(K.default,{isEpisode:this.props.isEpisode,content:this.props.video,embedPlayable:this.state.embedPlayable,videoGist:this.props.video&&this.props.video.gist}),Object(q.d)()&&this.state.askPin&&(this.props.showPinOverlay||this.state.showPinOverlay)&&S.a.createElement(H.default,{videoId:this.props.videoId,askPin:this.state.askPin,initializePlayer:function(){return e.initializeOverlayPlayer()},changePinState:function(){return e.updatePin()}}),S.a.createElement("div",{"data-vjs-player":!0},S.a.createElement("div",null,this.state.showRatingDescriptor&&i&&i.length>0&&S.a.createElement(ee.default,{metadataArray:i,isPip:this.props.isPip})),this.state.showRatingDiscretion&&S.a.createElement(_.default,{hide:this.hideRatingDiscretion.bind(this),rating:this.parentalRating}),this.state.showEmbed&&S.a.createElement(N.default,{videoId:this.props.videoId,toggleEmbed:this.toggleEmbed}),!this.state.errorMessage||this.props.timerPreview||this.props.isFutureStartDate||this.state.embedWall?S.a.createElement("video",{ref:function(t){return e.videoNode=t},playsInline:!0,id:"videoplayer",className:"video-js"+(this.hasAccess||this.props.isFree?"":" hd-cc")}):S.a.createElement("div",{className:"error-message"}," ",this.state.errorMessage," ")))}},{key:"parentalRating",get:function(){return this.props.parentalRating||Object(C.get)(this.props,"video.parentalRating")}}]),t}(S.a.Component);Object(W.a)(ie,function(e){return{user:e.user,subscription:e.subscription&&e.subscription.subscription}},B.a);t.default=ie},1120:function(e,t,i){"use strict";var s=i(9),n=i.n(s),r=i(16),a=i.n(r),o=i(17),l=i.n(o),d=i(3),c=i.n(d),p=i(2),u=function(e){return function(){try{return e.apply(this,arguments)}catch(t){return console.error(t),null}}},h=i(210);function g(){var e=function(e){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function m(e){return e?String(e):""}var v,y,f,b,w,E,P,I,S,T,C,O,D,A,k,j,R,M,L,N,_=null,F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(this,e),v=t.player,y=t.videoId,f=t.videoTitle,b=t.fileType,w=t.assets,E=t.userId||function(){var e=window.localStorage.getItem("uid");return e||(e=g(),window.localStorage.setItem("uid",e),e)}(),P=t.siteName,I=t.clientId,S=t.platform,T=t.apiUrl,C=g(),O=t.environment,_=null,D=t.isLiveStream,A=t.contentCategory,k=t.seriesId,j=t.seriesTitle,this.setVideoListeners()}return l()(e,[{key:"setVideoListeners",value:function(){this.firstFrame();var e=window.settings.features&&window.settings.features.enableQOS||!1,t=window.settings.features&&window.settings.features.analytics_beacon&&window.settings.features.analytics_beacon.enable||!1;e&&(this.streamFailures(),this.buffering()),t&&(this.ads(),this.ping())}},{key:"streamFailures",value:function(){var e=this,t=Math.floor(v.currentTime());v.on("error",function(){var i=Math.floor(v.currentTime());e.event({eventName:t===i?"FAILED_TO_START":"DROPPED_STREAM",videoPosition:Math.floor(v.currentTime()),isAdEvent:!1})})}},{key:"firstFrame",value:function(){var e=this,t=window.dataLayer||{push:function(e){}},i=window.settings.features&&window.settings.features.enableQOS||!1;v.one("play",u(function(){R=0,clearInterval(M),i&&(M=setInterval(function(){R=e.handleBufferTimer(R)},100)),Object(h.d)("player-video","playVideo",f||y),t.push(n()({event:"stream_start",content_uuid:y,content_name:f},k&&{series_uuid:k},j&&{series_name:j},{content_category:A,content_is_live:D})),e.event({eventName:"PLAY",videoPosition:Math.floor(v.currentTime()),resHeight:v.videoHeight(),resWidth:v.videoWidth(),isAdEvent:!1}),i&&e.endFirstFrame()}))}},{key:"buffering",value:function(){var e=this;v.on("waiting",u(function(){if(!M){var t=v.currentTime();_&&clearInterval(_),_=setInterval(function(){v&&v.currentTime()<=t+.1&&!v.paused()?L=e.handleBufferTimer(L):clearInterval(_)},100)}}))}},{key:"handleBufferTimer",value:function(e){var t=e+.1,i=Object(p.round)(t,2),s=window.settings.features&&window.settings.features.enableQOS||!1;if(i%(window.settings.features&&window.settings.features.analytics_beacon&&window.settings.features.analytics_beacon.bufferInterval&&parseInt(window.settings.features.analytics_beacon.bufferInterval)||5)===0&&s&&v&&v.currentTime)try{this.event({eventName:"BUFFERING",videoPosition:Math.floor(v.currentTime()),resHeight:v.videoHeight(),resWidth:v.videoWidth(),isAdEvent:!1})}catch(n){clearInterval(_)}return t}},{key:"endFirstFrame",value:function(){var e=this;v.one("timeupdate",function(){M&&clearInterval(M),M=null,L=R||0,e.event({eventName:"FIRST_FRAME",videoPosition:Math.floor(v.currentTime()),isAdEvent:!1,resHeight:v.videoHeight(),resWidth:v.videoWidth(),ttFirstFrame:R,bufferHealth:e.getRemainingBufferTime()})})}},{key:"ads",value:function(){var e=this;v.on("adsready",function(){v.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){e.event({eventName:"AD_REQUEST",videoPosition:Math.ceil(v.currentTime()),isAdEvent:!0,adPosition:1}),e.event({eventName:"AD_IMPRESSION",videoPosition:Math.ceil(v.currentTime()),isAdEvent:!0,adPosition:1})})})}},{key:"ping",value:function(){var e=this;N=[],v.on("timeupdate",function(){var t=Math.floor(v.currentTime()),i=window.settings.features&&window.settings.features.analytics_beacon&&window.settings.features.analytics_beacon.interval&&parseInt(window.settings.features.analytics_beacon.interval)||90;t>=i&&t%i===0&&!Object(p.includes)(N,t)&&(N.push(t),e.event({eventName:"PING",videoPosition:t,isAdEvent:!1,resHeight:v.videoHeight(),resWidth:v.videoWidth(),bufferHealth:e.getRemainingBufferTime(),bitrate:e.getBitrate()}))})}},{key:"getBitrate",value:function(){return u(function(){var e;if("hls"===b)e=v&&v.tech_&&v.tech_.vhs&&v.tech_.vhs.selectPlaylist()?Object(p.round)(v.tech_.vhs.selectPlaylist().attributes.BANDWIDTH/1e3):0;else{var t=v.currentSrc().split("?")[0];w&&w.mpeg&&w.mpeg.forEach(function(i){var s=i.url.split("?")[0];t===s&&(e=i.bitrate)})}return e})()}},{key:"getRemainingBufferTime",value:function(){return u(function(){var e=v.currentTime(),t=v.duration(),i=v.buffered();if(i.start&&i.end)for(var s=0;s<i.length;s++){var n=i.start(s),r=i.end(s);if(Object(p.inRange)(e,n,r)){var a=Object(p.round)(t-r);if(Object(p.isFinite)(a))return a}}})()}},{key:"event",value:function(e){var t;t=[{aid:P,cid:I,pfm:S,uid:E,vid:y,url:e.url||document.location.href,ref:e.ref||document.referrer,pa:e.eventName,vpos:m(e.videoPosition),environment:O,dp1:e.dp1||"",dp2:e.dp2||"",dp3:e.dp3||"",dp4:e.dp4||"",dp5:e.dp5||"",apos:!0===e.isAdEvent?m(e.videoPosition):"",apod:!0===e.isAdEvent?m(e.adPosition):"",profid:"",player:e.playerType||"native",media_type:e.mediaType||"VIDEO",stream_id:C,embedurl:"",ttfirstframe:m(e.ttFirstFrame),bitrate:m(e.bitrate),connectionspeed:"",resolutionheight:m(e.resHeight),resolutionwidth:m(e.resWidth),bufferhealth:m(e.bufferHealth)}],c()({url:T,method:"post",contentType:"application/x-www-form-urlencoded",dataType:"text",data:t}).catch(function(e){return console.error(e)})}}]),e}();t.a=F},1121:function(e,t,i){"use strict";i.d(t,"c",function(){return l}),i.d(t,"a",function(){return d}),i.d(t,"b",function(){return c});var s=i(1),n=i.n(s),r=i(15),a=i(12),o=i(22),l=function(e){return window.settings.isMonetizationModelEnabled?Object(r.createSubscription02)(e):Object(r.createSubscription)(e)},d=function(){return!!(Object(o.a)("s")||Object(o.a)("popup")||Object(o.a)("status"))},c=function(e,t){var i=Object(o.a)("s"),s=Object(o.a)("status"),r=function(){var e=Object(o.a)("r"),t=n.a.get("randomId")?n.a.get("randomId"):"";return!(!t||!e||t!==e)&&(n.a.remove("randomId"),!0)}();if(e&&("success"===i&&r||"approved"===s)){n.a.set("isPaymentinProcess",!1,{expires:1}),sessionStorage.removeItem("sessionFlag");var l=Object(a.a)(window.settings,"genericMessages","successMessageTitle")||"Thank you";return window.location.href="/viewplans?refreshUser=true&popup=noticeWithoutCloseButton&title=".concat(l),!1}if(e&&"pending"===i&&r){n.a.set("isPaymentinProcess",!0,{expires:1});var d=Object(a.a)(window.settings,"genericMessages","pendingMessageTitle")||"Pending";return window.location.href="/viewplans?refreshUser=true&popup=noticeWithoutCloseButton&title=".concat(d),!1}if(e&&("failure"===i&&r||"failed"===s))return t&&sessionStorage.setItem("retryImageIcon",t),n.a.set("isPaymentinProcess",!1,{expires:1}),window.location.href="/viewplans?refreshUser=true&popup=noticeWithoutCloseButton&title=failure",!1}},1123:function(e,t,i){"use strict";var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(13),u=i.n(p),h=i(20),g=i.n(h),m=i(14),v=i.n(m),y=i(0),f=i.n(y),b=i(1104),w=i.n(b),E=i(1087),P=(i(1116),function(e){function t(){var e,i;n()(this,t);for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return i=l()(this,(e=c()(t)).call.apply(e,[this].concat(r))),v()(u()(i),"state",{current:[]}),v()(u()(i),"componentDidMount",function(){var e=i.props.startTime,t=(new Date).getTime(),s=e-t;i.clock=setInterval(function(){s-=1e3;var t=Object(E.b)(s);i.setState({current:[{value:t.getDays(),letter:"D"},{value:t.getHours(),letter:"H"},{value:t.getMinutes(),letter:"M"},{value:t.getSeconds(),letter:"S"}]}),w()(e)&&(clearInterval(i.clock),i.props.hide())},1e3)}),v()(u()(i),"componentWillUnmount",function(){clearInterval(i.clock)}),i}return g()(t,e),a()(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"game-timer",style:{paddingTop:this.props.isPip?"80px":"50px"}},this.props.header&&f.a.createElement("span",{className:"time-until",style:{fontSize:this.props.isPip?"1.25em":"0.9em"}},this.props.header),f.a.createElement("div",{className:"time-wrapper"},this.state.current.map(function(e,t){return f.a.createElement("div",{className:"time-block",key:t},f.a.createElement("span",{className:"time-value"},e.value),f.a.createElement("span",{className:"time-letter"},e.letter))})))}}]),t}(y.Component));t.a=P},1125:function(e,t,i){"use strict";var s=i(1077),n=i.n(s),r=i(16),a=i.n(r),o=i(17),l=i.n(o),d=i(18),c=i.n(d),p=i(19),u=i.n(p),h=i(13),g=i.n(h),m=i(20),v=i.n(m),y=i(14),f=i.n(y),b=i(0),w=i.n(b),E=i(221),P=i.n(E),I=i(233),S=i.n(I),T=i(15),C=i(12),O=i(563),D=i(245),A=i(8),k=i.n(A),j=function(e){function t(e){var i;return a()(this,t),i=c()(this,u()(t).call(this,e)),f()(g()(i),"renderPurchaseInProcess",function(){var e=D.a.getState(),t=k()(e,"id.content");if(e&&e.value&&e.modalType&&e.selected&&t){var s=k()(i.props,"content.gist.id"),n=!1;if(i.props&&i.props.bundleOverlay){var r=k()(i.props,"content.gist.id")||{},a=r.content,o=void 0===a?null:a,l=r.items,d=void 0===l?[]:l;n=t===o||d&&d&&-1!==S()(d).findIndex(function(t){return e.id.content===t})}else n=t===s;if(!n)return;switch(e.modalType){case"createSubscription":Object(T.createSubscription)(e.selected.id,i.props.type);break;case"purchase":var c=(e.args||{}).content,p=void 0===c?null:c;Object(T.purchase)(e.selected,p||i.props.content,i.props.watchNow,i.props.purchased,i.props.type)}}}),f()(g()(i),"handleClick",function(){var e=k()(i.props,"content.gist.id");return e="object"===P()(e)?e:{content:e},Object(O.a)({value:!0,selected:i.props.items[i.state.selected],modalType:i.props.subscriptionPlans?"createSubscription":"purchase",id:e}),i.props.subscriptionPlans?Object(T.createSubscription)(i.props.items[i.state.selected].id,i.props.type):Object(T.purchase)(i.props.items[i.state.selected],i.props.content,i.props.watchNow,i.props.purchased,i.props.type)}),i.state={selected:0},i.handleClick=i.handleClick.bind(g()(i)),i}return v()(t,e),l()(t,[{key:"selected",value:function(e){this.setState({selected:e})}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search);e&&e.get("overlay")&&!this.props.subscriptionPlans?Object(T.purchase)(this.props.items[this.state.selected],this.props.content,this.props.watchNow,this.props.purchased):this.renderPurchaseInProcess()}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"overlay-video ".concat(this.props.bundleOverlay?"overlay-bundle":"")},w.a.createElement("div",{className:"overlay-title"},w.a.createElement("span",null,this.props.title)),this.props.warning&&w.a.createElement("div",{className:"warning"},this.props.warning),w.a.createElement("div",{className:"overlay-body"},w.a.createElement("div",{className:"overlay-body-plans"},this.props.items&&this.props.items.map(function(t,i){return w.a.createElement("div",{className:"plan ".concat(e.state.selected===i?"selected":""," "),onClick:function(t){return e.selected(i)},key:i},w.a.createElement("div",{className:"side-bar"}),w.a.createElement("div",{className:"plan-body"},w.a.createElement("p",{className:"title"},t.name)))})),w.a.createElement("div",{className:"overlay-button cta",onClick:this.handleClick},w.a.createElement("button",null,Object(C.a)(window.settings,"genericMessages","continueCta")," ",this.props.warning?Object(C.a)(window.settings,"genericMessages","warningCta"):""))))}}]),t}(b.Component),R=i(36),M=i(2),L=(i(1136),function(e){function t(){var e,i;a()(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return i=c()(this,(e=u()(t)).call.apply(e,[this].concat(n))),f()(g()(i),"state",{selected:0,items:[],plans:[],planSelected:0}),f()(g()(i),"planSelected",function(e){i.setState({planSelected:e})}),f()(g()(i),"getTitleBasedOnPricingOption",function(){var e=Object(M.groupBy)(i.state.items,"option");return Object.keys(e).includes("Purchase")&&Object.keys(e).includes("Rent")?Object(C.a)(window.settings,"genericMessages","rentPurchaseOverlayLabel"):Object.keys(e).includes("Purchase")?Object(C.a)(window.settings,"genericMessages","purchaseOverlayLabel"):Object.keys(e).includes("Rent")?Object(C.a)(window.settings,"genericMessages","rentOverlayLabel"):void 0}),i}return v()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,i=this.props.content,s={video:i.gist.id,series:i.seriesId,season:i.seasonId},n=t.formatPricing(i.pricing,s,i.gist.title||i.gist.description),r=this.props.content&&this.props.content.pricing&&this.props.content.pricing.type;r&&r.includes("SVOD")&&(window.sessionStorage.getItem("plans")?Object(R.d)().then(function(t){e.setState({plans:t})}):Object(R.h)().then(function(t){e.setState({plans:t})})),this.setState({type:r,items:n})}},{key:"selected",value:function(e){this.setState({selected:e})}},{key:"render",value:function(){var e=this.state,t=e.plans,i=e.items,s=e.type,r=this.getTitleBasedOnPricingOption(),a=s&&"SVOD"===s,o=this.props.content&&this.props.content.pricing&&this.props.content.pricing.type;return w.a.createElement("div",{className:"overlay-video-container ".concat(t.length>0&&!a&&"subscriptions")},!a&&w.a.createElement(j,n()({title:r,items:i},this.props,{type:o})),t.length>0&&w.a.createElement(j,n()({title:Object(C.a)(window.settings,"navigation.settings","primaryCta.ctaText"),type:o,items:t,subscriptionPlans:!0},this.props)))}}],[{key:"formatPricing",value:function(e,t,i,s){var n=[],r=window.settings.internalName.includes("supercrosslive")?Object(C.a)(window.settings,"genericMessages","singleEventLabel"):"".concat(i," |");return Object.keys(e).forEach(function(i){e[i]&&"type"!==i&&"currency"!==i&&Object.keys(e[i]).forEach(function(a){if(e[i][a]&&"currency"!==a){var o={};o.key=a.toUpperCase(),o.videoID=t.video,o.contentID=t.content,Object(M.isObject)(t.video)&&(t=t.video,o.videoID=t.video||t.items.join(",")||null,o.contentID=t.content),o.seriesId=t.series||null,o.seasonId=t.season||null,o.currency=e.currency?e.currency:"USD",o.option=(d=i).charAt(0).toUpperCase().concat(d.substring(1)),o.price=e[i][a],o.contentType=s?"VIDEO"===s&&t.season&&t.series?"EPISODE":s:null;var l="rent"==o.option.toLowerCase()?Object(C.a)(window.settings,"genericMessages","rentOverlayLabel"):"purchase"==o.option.toLowerCase()?Object(C.a)(window.settings,"genericMessages","purchaseOverlayLabel"):o.option;o.name="".concat(r," ").concat(l," ").concat(e.currency?e.currency:"USD"," ").concat(o.price),n.push(o)}var d})}),n}}]),t}(b.Component));t.a=L},1130:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var s=i(5),n=i.n(s),r=i(10),a=i.n(r),o=i(7),l=i(21),d=function(){var e=a()(n.a.mark(function e(t){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={parentalControl:!t},e.next=3,Object(l.p)(i).then(function(e){return!(!e||200!==e.status)&&(o.a.dispatch(Object(l.f)(!t)),!0)}).catch(function(e){return console.error(e),!1});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},1136:function(e,t,i){},1151:function(e,t,i){},1152:function(e,t,i){},1153:function(e,t,i){},1154:function(e,t,i){},1178:function(e,t){},235:function(e,t,i){"use strict";i.r(t),i.d(t,"getRatingList",function(){return d});var s=i(5),n=i.n(s),r=i(10),a=i.n(r),o=i(3),l=i.n(o),d=function(){var e=a()(n.a.mark(function e(){var t;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.settings.layoutUrlBase+"assets/rating-map.json",e.next=3,l.a.get(t).then(function(e){return e.data});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},236:function(e,t,i){"use strict";i.r(t);var s=i(5),n=i.n(s),r=i(10),a=i.n(r),o=i(16),l=i.n(o),d=i(17),c=i.n(d),p=i(18),u=i.n(p),h=i(19),g=i.n(h),m=i(13),v=i.n(m),y=i(20),f=i.n(y),b=i(14),w=i.n(b),E=i(0),P=i.n(E),I=i(220),S=i(15),T=i(7),C=i(608),O=i(21),D=i(1130),A=i(12),k=i(1084),j=(i(991),i(26)),R=i(4),M=i(33),L=i(201),N=function(e){function t(e){var i;return l()(this,t),i=u()(this,g()(t).call(this,e)),w()(v()(i),"handleState",function(e,t){var s=e.target,n=s.name,r=s.value;Number(e.target.value)>=0?(i.setState(w()({},n,r)),i.moveOnMax(e,r,t)):i.setState(w()({},n,""))}),w()(v()(i),"fetchPageData",function(){Object(R.b)(function(e){var t=Object(j.a)(e).countryCode,s="";s="https://prod-api.viewlift.com"===window.settings.apiBaseUrl?"https://prod-api-cached-2.viewlift.com":window.settings.apiBaseUrlCached||window.settings.apiBaseUrl;var n={Authorization:e,"x-api-key":window.settings.baseAPIKey};return Object(L.b)({method:"GET",url:"".concat(s,"/content/pages?path=/user&languageCode=").concat(Object(M.g)(),"&includeContent=true&countryCode=").concat(t),headers:n}).then(function(e){var t=e.data&&e.data.modules[1];i.setState({localizedFields:t.metadataMap})}).catch()})}),w()(v()(i),"moveOnMax",function(e,t,s){t&&1===t.length&&s<5?document.getElementById("pinOverlay"+i.state.rating+s).focus():t&&1===t.length&&5===s&&(document.getElementById("pinOverlay"+i.state.rating+(s-1)).blur(),i.combinedPins(s),i.handleSubmit(e))}),w()(v()(i),"combinedPins",function(e){var t=[];i.pinsRef&&i.pinsRef.length>0&&i.pinsRef.map(function(s){if(t.push(s.value),t&&t.length===e-1){var n=t.join("");i.setState({pins:n})}})}),w()(v()(i),"handleSubmit",function(){var e=a()(n.a.mark(function e(t){var s,r,a,o,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.preventDefault();case 2:if(s=/[0-9]{4}/g,i.state.pins&&!(i.state.pins.length<4)){e.next=8;break}return i.alert(Object(A.a)(window.settings,"genericMessages","validPinError")||"Enter valid PIN"),e.abrupt("return",!1);case 8:if(s.test(i.state.pins)){e.next=13;break}return i.alert(Object(A.a)(window.settings,"genericMessages","validPinError")||"Enter valid PIN"),e.abrupt("return",!1);case 13:i.setState({processing:!0});case 14:if(r=Object(k.a)(),i.state.pins!==r){e.next=21;break}i.alert(Object(A.a)(window.settings,"genericMessages","correctPinMessage")||"The PIN is correct"),(a=i.props&&i.props.args&&i.props.args.parentalControlToogle)?Object(D.a)(a)?(i.props.args.updateParentalControlToogle(),i.setState({processing:!1}),Object(S.hide)()):(i.alert(Object(A.a)(window.settings,"genericMessages","errorOccurredMessage")||"An error occurred"),i.setState({processing:!1})):(i.setState({processing:!0}),i.props.videoId&&r&&((o=T.a.getState().user)&&Object(C.setPinInSession)(r,o),i.props.initializePlayer()&&i.props.initializePlayer()),i.state.popupFlow?i.state.popupFlow?i.state.rating&&(l={parentalRating:i.state.rating},i.setState({processing:!0},i.saveRating(l))):i.setState({processing:!1}):(i.props.changePinState(),i.setState({processing:!1,askPin:!1,textBoxStyle:{border:"1px solid #616161"}}))),e.next=24;break;case 21:return i.alert(Object(A.a)(window.settings,"genericMessages","inCorrectPinMessage")||"Incorrect PIN. Please try again"),i.setState({pinsRef:[],processing:!1,textBoxStyle:{border:"1px solid red"}}),e.abrupt("return",!1);case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),i.state={error:"",processing:"",pins:"",askPin:e.askPin||e.args.askPin,popupFlow:e.args&&e.args.askPin||!1,textBoxStyle:{border:"1px solid #616161"},rating:e.args&&e.args.rating||!1,localizedFields:{}},i.pinsRef=[],i.pinBoxes=[1,2,3,4],i}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.fetchPageData()}},{key:"saveRating",value:function(e){var t=this;Object(O.p)(e).then(function(e){if(!e||200!==e.status)return t.alert(Object(A.a)(window.settings,"genericMessages","unableSetPin")||"Unable to set the PIN"),!1;T.a.dispatch(Object(O.z)(t.state.rating)),t.setState({processing:!1}),Object(S.hide)()})}},{key:"alert",value:function(e){var t=this;this.setState({error:e}),setTimeout(function(e){return t.setState({error:null})},8e3)}},{key:"render",value:function(){var e=this;return this.state.processing?P.a.createElement("div",{className:"loading-centered"},P.a.createElement(I.a,null)):this.state.askPin?P.a.createElement("div",{className:"cascadesContainer"},P.a.createElement("div",{className:"modal flexColumn pinModal"},P.a.createElement("div",{className:"title"},Object(A.a)(window.settings,"genericMessages","viewingRestrictionsEnabled")||"Viewing Restrictions Enabled",P.a.createElement("div",{className:"closePlayer html5"})),P.a.createElement("div",{className:"description"},Object(A.a)(window.settings,"genericMessages","enterVideoPin")||"Please enter your PIN:",P.a.createElement("div",{className:"pinFields"},this.pinBoxes&&this.pinBoxes.length>0&&this.pinBoxes.map(function(t){var i=1===t;return P.a.createElement("input",{type:"password",key:t,style:e.state.textBoxStyle,className:"pinField",id:"pinOverlay"+e.state.rating+t,ref:function(i){return e.pinsRef[t]=i},onKeyUp:function(i){return e.handleState(i,t+1)},maxlength:"1",autoComplete:"false",autoFocus:i,required:!0})})),this.state.processing&&P.a.createElement("div",{className:"loading-centered"},P.a.createElement(I.a,null)),this.state.error&&P.a.createElement("div",{className:"error"},this.state.error),P.a.createElement("div",{className:"notes"},P.a.createElement("span",{className:"hand",onClick:function(t){return Object(S.setupPin)({args:e.state.localizedFields})}},Object(A.a)(window.settings,"genericMessages","resetYourPin")||"Reset your PIN"),P.a.createElement("span",null,"\xa0 OR  \xa0"),P.a.createElement("span",{className:"hand",onClick:function(t){return Object(S.viewingRestrictions)({args:e.state.localizedFields})}},Object(A.a)(window.settings,"genericMessages","changeViewingRestrictions")||"Change viewing restrictions"))))):P.a.createElement("div",null)}}]),t}(P.a.Component);t.default=N},237:function(e,t,i){"use strict";i.r(t);var s=i(16),n=i.n(s),r=i(17),a=i.n(r),o=i(18),l=i.n(o),d=i(19),c=i.n(d),p=i(13),u=i.n(p),h=i(20),g=i.n(h),m=i(14),v=i.n(m),y=i(0),f=i.n(y),b=i(32),w=function(e){function t(e){var i;return n()(this,t),i=l()(this,c()(t).call(this,e)),v()(u()(i),"buttonClicked",function(){!0===i.state.displayClevertapPopup&&i.props&&i.props.player&&i.props.player.play()}),v()(u()(i),"resumePlay",function(){var e=i.props&&i.props.player;void 0!==e&&e&&e.play(),!0===i.state.displayClevertapPopup&&i.setState({displayClevertapPopup:!1})}),v()(u()(i),"shouldDisplayClevertapPopup",function(e,t){return t&&t===e?!1===i.state.displayClevertapPopup&&i.setState({displayClevertapPopup:!0}):!0===i.state.displayClevertapPopup&&i.setState({displayClevertapPopup:!1})}),i.state={displayClevertapPopup:!1},i}return g()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this;window.buttonClicked=this.buttonClicked;var t=this.props,i=t.player,s=t.video,n=t.userId,r=s&&s.gist&&s.gist.runtime,a=s&&s.gist&&s.gist.clevertapPopupTime;void 0!==i&&i&&i.on("timeupdate",function(t){var o=Math.floor(i.currentTime()),l="";a&&r&&(l=(a/r*100).toFixed(2)+"%"),!1===e.state.displayClevertapPopup&&o===a&&(i&&i.pause(),Object(b.g)("watchpopup",{userId:n,contentTitle:s&&s.gist&&s.gist.title,triggertime:o,watchTime:l}),e.shouldDisplayClevertapPopup(o,a))})}},{key:"render",value:function(){return""}}]),t}(f.a.Component);t.default=w},608:function(e,t,i){"use strict";i.r(t),i.d(t,"getUserId",function(){return s}),i.d(t,"getPinInSession",function(){return n}),i.d(t,"setPinInSession",function(){return r});var s=function(e){return e&&e.userId},n=function(e){var t=s(e);if(t)return sessionStorage.getItem(t)?sessionStorage.getItem(t):""},r=function(e,t){var i=s(t);if(i)return e?n(t)?"":sessionStorage.setItem(i,e):void 0}},991:function(e,t,i){}}]);
//# sourceMappingURL=4.c6644e4c.chunk.js.map